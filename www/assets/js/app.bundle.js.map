{
  "version": 3,
  "sources": ["../../../node_modules/events/events.js", "../../../node_modules/@inrupt/oidc-client/lib/oidc-client.min.js", "../../../src/transformers.mjs", "../../../node_modules/jose/dist/browser/runtime/webcrypto.js", "../../../node_modules/jose/dist/browser/lib/buffer_utils.js", "../../../node_modules/jose/dist/browser/runtime/base64url.js", "../../../node_modules/jose/dist/browser/util/errors.js", "../../../node_modules/jose/dist/browser/lib/crypto_key.js", "../../../node_modules/jose/dist/browser/lib/invalid_key_input.js", "../../../node_modules/jose/dist/browser/runtime/is_key_like.js", "../../../node_modules/jose/dist/browser/lib/is_disjoint.js", "../../../node_modules/jose/dist/browser/lib/is_object.js", "../../../node_modules/jose/dist/browser/runtime/check_key_length.js", "../../../node_modules/jose/dist/browser/lib/is_jwk.js", "../../../node_modules/jose/dist/browser/runtime/jwk_to_key.js", "../../../node_modules/jose/dist/browser/runtime/normalize_key.js", "../../../node_modules/jose/dist/browser/key/import.js", "../../../node_modules/jose/dist/browser/lib/check_key_type.js", "../../../node_modules/jose/dist/browser/lib/validate_crit.js", "../../../node_modules/jose/dist/browser/lib/validate_algorithms.js", "../../../node_modules/jose/dist/browser/runtime/key_to_jwk.js", "../../../node_modules/jose/dist/browser/key/export.js", "../../../node_modules/jose/dist/browser/runtime/subtle_dsa.js", "../../../node_modules/jose/dist/browser/runtime/get_sign_verify_key.js", "../../../node_modules/jose/dist/browser/runtime/verify.js", "../../../node_modules/jose/dist/browser/jws/flattened/verify.js", "../../../node_modules/jose/dist/browser/jws/compact/verify.js", "../../../node_modules/jose/dist/browser/lib/epoch.js", "../../../node_modules/jose/dist/browser/lib/secs.js", "../../../node_modules/jose/dist/browser/lib/jwt_claims_set.js", "../../../node_modules/jose/dist/browser/jwt/verify.js", "../../../node_modules/jose/dist/browser/runtime/sign.js", "../../../node_modules/jose/dist/browser/jws/flattened/sign.js", "../../../node_modules/jose/dist/browser/jws/compact/sign.js", "../../../node_modules/jose/dist/browser/jwt/produce.js", "../../../node_modules/jose/dist/browser/jwt/sign.js", "../../../node_modules/jose/dist/browser/jwks/local.js", "../../../node_modules/jose/dist/browser/runtime/fetch_jwks.js", "../../../node_modules/jose/dist/browser/jwks/remote.js", "../../../node_modules/jose/dist/browser/runtime/generate.js", "../../../node_modules/jose/dist/browser/key/generate_key_pair.js", "../../../node_modules/uuid/dist/esm-browser/stringify.js", "../../../node_modules/uuid/dist/esm-browser/rng.js", "../../../node_modules/uuid/dist/esm-browser/native.js", "../../../node_modules/uuid/dist/esm-browser/v4.js", "../../../node_modules/@inrupt/solid-client-authn-core/src/constant.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/util/handlerPattern/AggregateHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/util/token.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/login/oidc/redirectIriUtils.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/logout/GeneralLogoutHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/logout/RpLogoutHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/logout/IWaterfallLogoutHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/sessionInfo/SessionInfoManager.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/logout/endSessionUrl.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/sessionInfo/ISessionInfo.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/sessionInfo/ISessionInfoManager.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/login/oidc/IClientRegistrar.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/ClientAuthentication.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/storage/StorageUtility.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/storage/InMemoryStorage.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/errors/ConfigurationError.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/errors/NotImplementedError.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/errors/InvalidResponseError.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/errors/OidcProviderError.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/authenticatedFetch/dpopUtils.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/authenticatedFetch/fetchFactory.ts", "../../../node_modules/@inrupt/solid-client-authn-core/src/storage/__mocks__/StorageUtility.ts", "../../../node_modules/@inrupt/oidc-client-ext/dist/index.es.js", "../../../node_modules/@inrupt/solid-client-authn-browser/src/storage/StorageUtility.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/ClientAuthentication.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/OidcLoginHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/IssuerConfigFetcher.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/sessionInfo/SessionInfoManager.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/incomingRedirectHandler/FallbackRedirectHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/incomingRedirectHandler/AuthCodeRedirectHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/AggregateRedirectHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/storage/BrowserStorage.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/Redirector.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/ClientRegistrar.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/incomingRedirectHandler/ErrorOidcHandler.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/login/oidc/refresh/TokenRefresher.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/dependencies.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/constant.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/Session.ts", "../../../node_modules/@inrupt/solid-client-authn-browser/src/defaultSession.ts", "../../../node_modules/@muze-nl/oldm/node_modules/queue-microtask/index.js", "../../../node_modules/@muze-nl/oldm/node_modules/base64-js/index.js", "../../../node_modules/@muze-nl/oldm/node_modules/ieee754/index.js", "../../../node_modules/@muze-nl/oldm/node_modules/buffer/index.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/ours/primordials.js", "../../../node_modules/@muze-nl/oldm/node_modules/abort-controller/browser.js", "../../../node_modules/@muze-nl/oldm/node_modules/events/events.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/ours/util.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/ours/errors.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/validators.js", "../../../node_modules/@muze-nl/oldm/node_modules/process/browser.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/utils.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/end-of-stream.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/destroy.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/legacy.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/add-abort-signal.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/buffer_list.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/state.js", "../../../node_modules/@muze-nl/oldm/node_modules/safe-buffer/index.js", "../../../node_modules/@muze-nl/oldm/node_modules/string_decoder/lib/string_decoder.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/from.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/readable.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/writable.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/duplexify.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/duplex.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/transform.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/passthrough.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/pipeline.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/compose.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/internal/streams/operators.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/stream/promises.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/stream.js", "../../../node_modules/@muze-nl/oldm/node_modules/readable-stream/lib/ours/browser.js", "../../../node_modules/@muze-nl/oldm/node_modules/@muze-nl/jsontag/src/lib/functions.mjs", "../../../node_modules/@muze-nl/oldm/node_modules/@muze-nl/jsontag/src/lib/Link.mjs", "../../../node_modules/@muze-nl/oldm/node_modules/@muze-nl/jsontag/src/lib/Null.mjs", "../../../node_modules/@muze-nl/oldm/node_modules/@muze-nl/jsontag/src/lib/fast-parse.mjs", "../../../node_modules/@muze-nl/oldm/node_modules/@muze-nl/jsontag/src/JSONTag.mjs", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/IRIs.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3Lexer.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3Util.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3DataFactory.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3Parser.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3Writer.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3Store.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3StreamParser.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/N3StreamWriter.js", "../../../node_modules/@muze-nl/oldm/node_modules/n3/src/index.js", "../../../node_modules/@muze-nl/oldm/src/oldm.mjs", "../../../src/solid-api.mjs", "../../../src/appui.mjs", "../../../node_modules/simplyview/src/activate.mjs", "../../../node_modules/simplyview/src/action.mjs", "../../../node_modules/simplyview/src/route.mjs", "../../../node_modules/simplyview/src/command.mjs", "../../../node_modules/simplyview/src/key.mjs", "../../../node_modules/simplyview/src/state.mjs", "../../../node_modules/simplyview/src/bind.mjs", "../../../node_modules/simplyview/src/app.mjs", "../../../node_modules/simplyview/src/include.mjs", "../../../node_modules/simplyview/src/model.mjs", "../../../node_modules/simplyview/src/everything.mjs", "../../../src/app.mjs"],
  "sourcesContent": ["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n", "!function t(e,r){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=r();else if(\"function\"==typeof define&&define.amd)define([],r);else{var n=r();for(var i in n)(\"object\"==typeof exports?exports:e)[i]=n[i]}}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function e(){return t.default}:function e(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=22)}([function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i={debug:function t(){},info:function t(){},warn:function t(){},error:function t(){}},o=void 0,s=void 0;(e.Log=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.reset=function t(){s=3,o=i},t.debug=function t(){if(s>=4){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.debug.apply(o,Array.from(r))}},t.info=function t(){if(s>=3){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.info.apply(o,Array.from(r))}},t.warn=function t(){if(s>=2){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.warn.apply(o,Array.from(r))}},t.error=function t(){if(s>=1){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.error.apply(o,Array.from(r))}},n(t,null,[{key:\"NONE\",get:function t(){return 0}},{key:\"ERROR\",get:function t(){return 1}},{key:\"WARN\",get:function t(){return 2}},{key:\"INFO\",get:function t(){return 3}},{key:\"DEBUG\",get:function t(){return 4}},{key:\"level\",get:function t(){return s},set:function t(e){if(!(0<=e&&e<=4))throw new Error(\"Invalid log level\");s=e}},{key:\"logger\",get:function t(){return o},set:function t(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error(\"Invalid logger\");o=e}}]),t}()).reset()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i={setInterval:function(t){function e(e,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return setInterval(t,e)})),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return clearInterval(t)}))},o=!1,s=null;e.Global=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t._testing=function t(){o=!0},t.setXMLHttpRequest=function t(e){s=e},n(t,null,[{key:\"location\",get:function t(){if(!o)return location}},{key:\"localStorage\",get:function t(){if(!o&&\"undefined\"!=typeof window)return localStorage}},{key:\"sessionStorage\",get:function t(){if(!o&&\"undefined\"!=typeof window)return sessionStorage}},{key:\"XMLHttpRequest\",get:function t(){if(!o&&\"undefined\"!=typeof window)return s||XMLHttpRequest}},{key:\"timer\",get:function t(){if(!o)return i}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.MetadataService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(7);function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var a=\".well-known/openid-configuration\";e.MetadataService=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(s(this,t),!e)throw i.Log.error(\"MetadataService: No settings passed to MetadataService\"),new Error(\"settings\");this._settings=e,this._jsonService=new r([\"application/jwk-set+json\"])}return t.prototype.resetSigningKeys=function t(){this._settings=this._settings||{},this._settings.signingKeys=void 0},t.prototype.getMetadata=function t(){var e=this;return this._settings.metadata?(i.Log.debug(\"MetadataService.getMetadata: Returning metadata from settings\"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug(\"MetadataService.getMetadata: getting metadata from\",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug(\"MetadataService.getMetadata: json received\");var r=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},r,t),e._settings.metadata}))):(i.Log.error(\"MetadataService.getMetadata: No authority or metadataUrl configured on settings\"),Promise.reject(new Error(\"No authority or metadataUrl configured on settings\")))},t.prototype.getIssuer=function t(){return this._getMetadataProperty(\"issuer\")},t.prototype.getAuthorizationEndpoint=function t(){return this._getMetadataProperty(\"authorization_endpoint\")},t.prototype.getUserInfoEndpoint=function t(){return this._getMetadataProperty(\"userinfo_endpoint\")},t.prototype.getTokenEndpoint=function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty(\"token_endpoint\",e)},t.prototype.getCheckSessionIframe=function t(){return this._getMetadataProperty(\"check_session_iframe\",!0)},t.prototype.getEndSessionEndpoint=function t(){return this._getMetadataProperty(\"end_session_endpoint\",!0)},t.prototype.getRevocationEndpoint=function t(){return this._getMetadataProperty(\"revocation_endpoint\",!0)},t.prototype.getKeysEndpoint=function t(){return this._getMetadataProperty(\"jwks_uri\",!0)},t.prototype._getMetadataProperty=function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug(\"MetadataService.getMetadataProperty for: \"+e),this.getMetadata().then((function(t){if(i.Log.debug(\"MetadataService.getMetadataProperty: metadata recieved\"),void 0===t[e]){if(!0===r)return void i.Log.warn(\"MetadataService.getMetadataProperty: Metadata does not contain optional property \"+e);throw i.Log.error(\"MetadataService.getMetadataProperty: Metadata does not contain property \"+e),new Error(\"Metadata does not contain property \"+e)}return t[e]}))},t.prototype.getSigningKeys=function t(){var e=this;return this._settings.signingKeys?(i.Log.debug(\"MetadataService.getSigningKeys: Returning signingKeys from settings\"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty(\"jwks_uri\").then((function(t){return i.Log.debug(\"MetadataService.getSigningKeys: jwks_uri received\",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug(\"MetadataService.getSigningKeys: key set received\",t),!t.keys)throw i.Log.error(\"MetadataService.getSigningKeys: Missing keys on keyset\"),new Error(\"Missing keys on keyset\");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},n(t,[{key:\"metadataUrl\",get:function t(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(a)<0&&(\"/\"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+=\"/\"),this._metadataUrl+=a))),this._metadataUrl}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UrlUtility=void 0;var n=r(0),i=r(1);e.UrlUtility=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.addQueryParam=function t(e,r,n){return e.indexOf(\"?\")<0&&(e+=\"?\"),\"?\"!==e[e.length-1]&&(e+=\"&\"),e+=encodeURIComponent(r),e+=\"=\",e+=encodeURIComponent(n)},t.parseUrlFragment=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"#\",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;\"string\"!=typeof e&&(e=o.location.href);var s=e.lastIndexOf(r);s>=0&&(e=e.substr(s+1)),\"?\"===r&&(s=e.indexOf(\"#\"))>=0&&(e=e.substr(0,s));for(var a,u={},c=/([^&=]+)=([^&]*)/g,h=0;a=c.exec(e);)if(u[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\\+/g,\" \")),h++>50)return n.Log.error(\"UrlUtility.parseUrlFragment: response exceeded expected number of parameters\",e),{error:\"Response exceeded expected number of parameters\"};for(var l in u)return u;return{}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.JoseUtil=void 0;var n=r(26),i=function o(t){return t&&t.__esModule?t:{default:t}}(r(33));e.JoseUtil=(0,i.default)({jws:n.jws,KeyUtil:n.KeyUtil,X509:n.X509,crypto:n.crypto,hextob64u:n.hextob64u,b64tohex:n.b64tohex,AllowedSigningAlgs:n.AllowedSigningAlgs})},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.OidcClientSettings=void 0;var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(0),s=r(23),a=r(6),u=r(24),c=r(2);function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var l=\".well-known/openid-configuration\",f=\"id_token\",g=\"openid\",d=\"client_secret_post\";e.OidcClientSettings=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.authority,i=e.metadataUrl,o=e.metadata,l=e.signingKeys,p=e.metadataSeed,v=e.client_id,y=e.client_secret,m=e.response_type,_=void 0===m?f:m,S=e.scope,b=void 0===S?g:S,w=e.redirect_uri,F=e.post_logout_redirect_uri,E=e.client_authentication,x=void 0===E?d:E,A=e.prompt,k=e.display,P=e.max_age,C=e.ui_locales,T=e.acr_values,R=e.resource,I=e.response_mode,D=e.filterProtocolClaims,L=void 0===D||D,N=e.loadUserInfo,U=void 0===N||N,B=e.staleStateAge,O=void 0===B?900:B,j=e.clockSkew,M=void 0===j?300:j,H=e.clockService,V=void 0===H?new s.ClockService:H,K=e.userInfoJwtIssuer,q=void 0===K?\"OP\":K,J=e.mergeClaims,W=void 0!==J&&J,z=e.stateStore,Y=void 0===z?new a.WebStorageStateStore:z,G=e.ResponseValidatorCtor,X=void 0===G?u.ResponseValidator:G,$=e.MetadataServiceCtor,Q=void 0===$?c.MetadataService:$,Z=e.extraQueryParams,tt=void 0===Z?{}:Z,et=e.extraTokenParams,rt=void 0===et?{}:et;h(this,t),this._authority=r,this._metadataUrl=i,this._metadata=o,this._metadataSeed=p,this._signingKeys=l,this._client_id=v,this._client_secret=y,this._response_type=_,this._scope=b,this._redirect_uri=w,this._post_logout_redirect_uri=F,this._client_authentication=x,this._prompt=A,this._display=k,this._max_age=P,this._ui_locales=C,this._acr_values=T,this._resource=R,this._response_mode=I,this._filterProtocolClaims=!!L,this._loadUserInfo=!!U,this._staleStateAge=O,this._clockSkew=M,this._clockService=V,this._userInfoJwtIssuer=q,this._mergeClaims=!!W,this._stateStore=Y,this._validator=new X(this),this._metadataService=new Q(this),this._extraQueryParams=\"object\"===(void 0===tt?\"undefined\":n(tt))?tt:{},this._extraTokenParams=\"object\"===(void 0===rt?\"undefined\":n(rt))?rt:{}}return t.prototype.getEpochTime=function t(){return this._clockService.getEpochTime()},i(t,[{key:\"client_id\",get:function t(){return this._client_id},set:function t(e){if(this._client_id)throw o.Log.error(\"OidcClientSettings.set_client_id: client_id has already been assigned.\"),new Error(\"client_id has already been assigned.\");this._client_id=e}},{key:\"client_secret\",get:function t(){return this._client_secret}},{key:\"response_type\",get:function t(){return this._response_type}},{key:\"scope\",get:function t(){return this._scope}},{key:\"redirect_uri\",get:function t(){return this._redirect_uri}},{key:\"post_logout_redirect_uri\",get:function t(){return this._post_logout_redirect_uri}},{key:\"client_authentication\",get:function t(){return this._client_authentication}},{key:\"prompt\",get:function t(){return this._prompt}},{key:\"display\",get:function t(){return this._display}},{key:\"max_age\",get:function t(){return this._max_age}},{key:\"ui_locales\",get:function t(){return this._ui_locales}},{key:\"acr_values\",get:function t(){return this._acr_values}},{key:\"resource\",get:function t(){return this._resource}},{key:\"response_mode\",get:function t(){return this._response_mode}},{key:\"authority\",get:function t(){return this._authority},set:function t(e){if(this._authority)throw o.Log.error(\"OidcClientSettings.set_authority: authority has already been assigned.\"),new Error(\"authority has already been assigned.\");this._authority=e}},{key:\"metadataUrl\",get:function t(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(l)<0&&(\"/\"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+=\"/\"),this._metadataUrl+=l)),this._metadataUrl}},{key:\"metadata\",get:function t(){return this._metadata},set:function t(e){this._metadata=e}},{key:\"metadataSeed\",get:function t(){return this._metadataSeed},set:function t(e){this._metadataSeed=e}},{key:\"signingKeys\",get:function t(){return this._signingKeys},set:function t(e){this._signingKeys=e}},{key:\"filterProtocolClaims\",get:function t(){return this._filterProtocolClaims}},{key:\"loadUserInfo\",get:function t(){return this._loadUserInfo}},{key:\"staleStateAge\",get:function t(){return this._staleStateAge}},{key:\"clockSkew\",get:function t(){return this._clockSkew}},{key:\"userInfoJwtIssuer\",get:function t(){return this._userInfoJwtIssuer}},{key:\"mergeClaims\",get:function t(){return this._mergeClaims}},{key:\"stateStore\",get:function t(){return this._stateStore}},{key:\"validator\",get:function t(){return this._validator}},{key:\"metadataService\",get:function t(){return this._metadataService}},{key:\"extraQueryParams\",get:function t(){return this._extraQueryParams},set:function t(e){\"object\"===(void 0===e?\"undefined\":n(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:\"extraTokenParams\",get:function t(){return this._extraTokenParams},set:function t(e){\"object\"===(void 0===e?\"undefined\":n(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.WebStorageStateStore=void 0;var n=r(0),i=r(1);function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.WebStorageStateStore=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.prefix,n=void 0===r?\"oidc.\":r,s=e.store,a=void 0===s?i.Global.localStorage:s;o(this,t),this._store=a,this._prefix=n}return t.prototype.set=function t(e,r){return n.Log.debug(\"WebStorageStateStore.set\",e),e=this._prefix+e,this._store.setItem(e,r),Promise.resolve()},t.prototype.get=function t(e){n.Log.debug(\"WebStorageStateStore.get\",e),e=this._prefix+e;var r=this._store.getItem(e);return Promise.resolve(r)},t.prototype.remove=function t(e){n.Log.debug(\"WebStorageStateStore.remove\",e),e=this._prefix+e;var r=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(r)},t.prototype.getAllKeys=function t(){n.Log.debug(\"WebStorageStateStore.getAllKeys\");for(var e=[],r=0;r<this._store.length;r++){var i=this._store.key(r);0===i.indexOf(this._prefix)&&e.push(i.substr(this._prefix.length))}return Promise.resolve(e)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.JsonService=void 0;var n=r(0),i=r(1);function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.JsonService=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,t),e&&Array.isArray(e)?this._contentTypes=e.slice():this._contentTypes=[],this._contentTypes.push(\"application/json\"),n&&this._contentTypes.push(\"application/jwt\"),this._XMLHttpRequest=r,this._jwtHandler=n}return t.prototype.getJson=function t(e,r){var i=this;if(!e)throw n.Log.error(\"JsonService.getJson: No url passed\"),new Error(\"url\");return n.Log.debug(\"JsonService.getJson, url: \",e),new Promise((function(t,o){var s=new i._XMLHttpRequest;s.open(\"GET\",e);var a=i._contentTypes,u=i._jwtHandler;s.onload=function(){if(n.Log.debug(\"JsonService.getJson: HTTP response received, status\",s.status),200===s.status){var r=s.getResponseHeader(\"Content-Type\");if(r){var i=a.find((function(t){if(r.startsWith(t))return!0}));if(\"application/jwt\"==i)return void u(s).then(t,o);if(i)try{return void t(JSON.parse(s.responseText))}catch(t){return n.Log.error(\"JsonService.getJson: Error parsing JSON response\",t.message),void o(t)}}o(Error(\"Invalid response Content-Type: \"+r+\", from URL: \"+e))}else o(Error(s.statusText+\" (\"+s.status+\")\"))},s.onerror=function(){n.Log.error(\"JsonService.getJson: network error\"),o(Error(\"Network Error\"))},r&&(n.Log.debug(\"JsonService.getJson: token passed, setting Authorization header\"),s.setRequestHeader(\"Authorization\",\"Bearer \"+r)),s.send()}))},t.prototype.postForm=function t(e,r,i){var o=this;if(!e)throw n.Log.error(\"JsonService.postForm: No url passed\"),new Error(\"url\");return n.Log.debug(\"JsonService.postForm, url: \",e),new Promise((function(t,s){var a=new o._XMLHttpRequest;a.open(\"POST\",e);var u=o._contentTypes;a.onload=function(){if(n.Log.debug(\"JsonService.postForm: HTTP response received, status\",a.status),200!==a.status){if(400===a.status)if(i=a.getResponseHeader(\"Content-Type\"))if(u.find((function(t){if(i.startsWith(t))return!0})))try{var r=JSON.parse(a.responseText);if(r&&r.error)return n.Log.error(\"JsonService.postForm: Error from server: \",r.error),void s(new Error(r.error))}catch(t){return n.Log.error(\"JsonService.postForm: Error parsing JSON response\",t.message),void s(t)}s(Error(a.statusText+\" (\"+a.status+\")\"))}else{var i;if((i=a.getResponseHeader(\"Content-Type\"))&&u.find((function(t){if(i.startsWith(t))return!0})))try{return void t(JSON.parse(a.responseText))}catch(t){return n.Log.error(\"JsonService.postForm: Error parsing JSON response\",t.message),void s(t)}s(Error(\"Invalid response Content-Type: \"+i+\", from URL: \"+e))}},a.onerror=function(){n.Log.error(\"JsonService.postForm: network error\"),s(Error(\"Network Error\"))};var c=\"\";for(var h in r){var l=r[h];l&&(c.length>0&&(c+=\"&\"),c+=encodeURIComponent(h),c+=\"=\",c+=encodeURIComponent(l))}a.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),void 0!==i&&a.setRequestHeader(\"Authorization\",\"Basic \"+btoa(i)),a.send(c)}))},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SigninRequest=void 0;var n=r(0),i=r(3),o=r(13);e.SigninRequest=function(){function t(e){var r=e.url,s=e.client_id,a=e.redirect_uri,u=e.response_type,c=e.scope,h=e.authority,l=e.data,f=e.prompt,g=e.display,d=e.max_age,p=e.ui_locales,v=e.id_token_hint,y=e.login_hint,m=e.acr_values,_=e.resource,S=e.response_mode,b=e.request,w=e.request_uri,F=e.extraQueryParams,E=e.request_type,x=e.client_secret,A=e.extraTokenParams,k=e.skipUserInfo;if(function P(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!r)throw n.Log.error(\"SigninRequest.ctor: No url passed\"),new Error(\"url\");if(!s)throw n.Log.error(\"SigninRequest.ctor: No client_id passed\"),new Error(\"client_id\");if(!a)throw n.Log.error(\"SigninRequest.ctor: No redirect_uri passed\"),new Error(\"redirect_uri\");if(!u)throw n.Log.error(\"SigninRequest.ctor: No response_type passed\"),new Error(\"response_type\");if(!c)throw n.Log.error(\"SigninRequest.ctor: No scope passed\"),new Error(\"scope\");if(!h)throw n.Log.error(\"SigninRequest.ctor: No authority passed\"),new Error(\"authority\");var C=t.isOidc(u),T=t.isCode(u);S||(S=t.isCode(u)?\"query\":null),this.state=new o.SigninState({nonce:C,data:l,client_id:s,authority:h,redirect_uri:a,code_verifier:T,request_type:E,response_mode:S,client_secret:x,scope:c,extraTokenParams:A,skipUserInfo:k}),r=i.UrlUtility.addQueryParam(r,\"client_id\",s),r=i.UrlUtility.addQueryParam(r,\"redirect_uri\",a),r=i.UrlUtility.addQueryParam(r,\"response_type\",u),r=i.UrlUtility.addQueryParam(r,\"scope\",c),r=i.UrlUtility.addQueryParam(r,\"state\",this.state.id),C&&(r=i.UrlUtility.addQueryParam(r,\"nonce\",this.state.nonce)),T&&(r=i.UrlUtility.addQueryParam(r,\"code_challenge\",this.state.code_challenge),r=i.UrlUtility.addQueryParam(r,\"code_challenge_method\",\"S256\"));var R={prompt:f,display:g,max_age:d,ui_locales:p,id_token_hint:v,login_hint:y,acr_values:m,resource:_,request:b,request_uri:w,response_mode:S};for(var I in R)R[I]&&(r=i.UrlUtility.addQueryParam(r,I,R[I]));for(var D in F)r=i.UrlUtility.addQueryParam(r,D,F[D]);this.url=r}return t.isOidc=function t(e){return!!e.split(/\\s+/g).filter((function(t){return\"id_token\"===t}))[0]},t.isOAuth=function t(e){return!!e.split(/\\s+/g).filter((function(t){return\"token\"===t}))[0]},t.isCode=function t(e){return!!e.split(/\\s+/g).filter((function(t){return\"code\"===t}))[0]},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.State=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=function s(t){return t&&t.__esModule?t:{default:t}}(r(14));function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.State=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,n=e.data,i=e.created,s=e.request_type;a(this,t),this._id=r||(0,o.default)(),this._data=n,this._created=\"number\"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return t.prototype.toStorageString=function t(){return i.Log.debug(\"State.toStorageString\"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},t.fromStorageString=function e(r){return i.Log.debug(\"State.fromStorageString\"),new t(JSON.parse(r))},t.clearStaleState=function e(r,n){var o=Date.now()/1e3-n;return r.getAllKeys().then((function(e){i.Log.debug(\"State.clearStaleState: got keys\",e);for(var n=[],s=function s(a){var c=e[a];u=r.get(c).then((function(e){var n=!1;if(e)try{var s=t.fromStorageString(e);i.Log.debug(\"State.clearStaleState: got item from key: \",c,s.created),s.created<=o&&(n=!0)}catch(t){i.Log.error(\"State.clearStaleState: Error parsing state for key\",c,t.message),n=!0}else i.Log.debug(\"State.clearStaleState: no item in storage for key: \",c),n=!0;if(n)return i.Log.debug(\"State.clearStaleState: removed item for key: \",c),r.remove(c)})),n.push(u)},a=0;a<e.length;a++){var u;s(a)}return i.Log.debug(\"State.clearStaleState: waiting on promise count:\",n.length),Promise.all(n)}))},n(t,[{key:\"id\",get:function t(){return this._id}},{key:\"data\",get:function t(){return this._data}},{key:\"created\",get:function t(){return this._created}},{key:\"request_type\",get:function t(){return this._request_type}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.OidcClient=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(5),s=r(12),a=r(8),u=r(34),c=r(35),h=r(36),l=r(13),f=r(9);function g(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.OidcClient=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,t),e instanceof o.OidcClientSettings?this._settings=e:this._settings=new o.OidcClientSettings(e)}return t.prototype.createSigninRequest=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.response_type,o=r.scope,s=r.redirect_uri,u=r.data,c=r.state,h=r.prompt,l=r.display,f=r.max_age,g=r.ui_locales,d=r.id_token_hint,p=r.login_hint,v=r.acr_values,y=r.resource,m=r.request,_=r.request_uri,S=r.response_mode,b=r.extraQueryParams,w=r.extraTokenParams,F=r.request_type,E=r.skipUserInfo,x=arguments[1];i.Log.debug(\"OidcClient.createSigninRequest\");var A=this._settings.client_id;n=n||this._settings.response_type,o=o||this._settings.scope,s=s||this._settings.redirect_uri,h=h||this._settings.prompt,l=l||this._settings.display,f=f||this._settings.max_age,g=g||this._settings.ui_locales,v=v||this._settings.acr_values,y=y||this._settings.resource,S=S||this._settings.response_mode,b=b||this._settings.extraQueryParams,w=w||this._settings.extraTokenParams;var k=this._settings.authority;return a.SigninRequest.isCode(n)&&\"code\"!==n?Promise.reject(new Error(\"OpenID Connect hybrid flow is not supported\")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug(\"OidcClient.createSigninRequest: Received authorization endpoint\",t);var r=new a.SigninRequest({url:t,client_id:A,redirect_uri:s,response_type:n,scope:o,data:u||c,authority:k,prompt:h,display:l,max_age:f,ui_locales:g,id_token_hint:d,login_hint:p,acr_values:v,resource:y,request:m,request_uri:_,extraQueryParams:b,extraTokenParams:w,request_type:F,response_mode:S,client_secret:e._settings.client_secret,skipUserInfo:E}),P=r.state;return(x=x||e._stateStore).set(P.id,P.toStorageString()).then((function(){return r}))}))},t.prototype.readSigninResponseState=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug(\"OidcClient.readSigninResponseState\");var o=\"query\"===this._settings.response_mode||!this._settings.response_mode&&a.SigninRequest.isCode(this._settings.response_type),s=o?\"?\":\"#\",c=new u.SigninResponse(e,s);if(!c.state)return i.Log.error(\"OidcClient.readSigninResponseState: No state in response\"),Promise.reject(new Error(\"No state in response\"));r=r||this._stateStore;var h=n?r.remove.bind(r):r.get.bind(r);return h(c.state).then((function(t){if(!t)throw i.Log.error(\"OidcClient.readSigninResponseState: No matching state found in storage\"),new Error(\"No matching state found in storage\");return{state:l.SigninState.fromStorageString(t),response:c}}))},t.prototype.processSigninResponse=function t(e,r){var n=this;return i.Log.debug(\"OidcClient.processSigninResponse\"),this.readSigninResponseState(e,r,!0).then((function(t){var e=t.state,r=t.response;return i.Log.debug(\"OidcClient.processSigninResponse: Received state from storage; validating response\"),n._validator.validateSigninResponse(e,r)}))},t.prototype.createSignoutRequest=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.id_token_hint,o=r.data,s=r.state,a=r.post_logout_redirect_uri,u=r.extraQueryParams,h=r.request_type,l=arguments[1];return i.Log.debug(\"OidcClient.createSignoutRequest\"),a=a||this._settings.post_logout_redirect_uri,u=u||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error(\"OidcClient.createSignoutRequest: No end session endpoint url returned\"),new Error(\"no end session endpoint\");i.Log.debug(\"OidcClient.createSignoutRequest: Received end session endpoint\",t);var r=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:a,data:o||s,extraQueryParams:u,request_type:h}),f=r.state;return f&&(i.Log.debug(\"OidcClient.createSignoutRequest: Signout request has state to persist\"),(l=l||e._stateStore).set(f.id,f.toStorageString())),r}))},t.prototype.readSignoutResponseState=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug(\"OidcClient.readSignoutResponseState\");var o=new h.SignoutResponse(e);if(!o.state)return i.Log.debug(\"OidcClient.readSignoutResponseState: No state in response\"),o.error?(i.Log.warn(\"OidcClient.readSignoutResponseState: Response was error: \",o.error),Promise.reject(new s.ErrorResponse(o))):Promise.resolve({state:void 0,response:o});var a=o.state;r=r||this._stateStore;var u=n?r.remove.bind(r):r.get.bind(r);return u(a).then((function(t){if(!t)throw i.Log.error(\"OidcClient.readSignoutResponseState: No matching state found in storage\"),new Error(\"No matching state found in storage\");return{state:f.State.fromStorageString(t),response:o}}))},t.prototype.processSignoutResponse=function t(e,r){var n=this;return i.Log.debug(\"OidcClient.processSignoutResponse\"),this.readSignoutResponseState(e,r,!0).then((function(t){var e=t.state,r=t.response;return e?(i.Log.debug(\"OidcClient.processSignoutResponse: Received state from storage; validating response\"),n._validator.validateSignoutResponse(e,r)):(i.Log.debug(\"OidcClient.processSignoutResponse: No state from storage; skipping validating response\"),r)}))},t.prototype.clearStaleState=function t(e){return i.Log.debug(\"OidcClient.clearStaleState\"),e=e||this._stateStore,f.State.clearStaleState(e,this.settings.staleStateAge)},n(t,[{key:\"_stateStore\",get:function t(){return this.settings.stateStore}},{key:\"_validator\",get:function t(){return this.settings.validator}},{key:\"_metadataService\",get:function t(){return this.settings.metadataService}},{key:\"settings\",get:function t(){return this._settings}},{key:\"metadataService\",get:function t(){return this._metadataService}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TokenClient=void 0;var n=r(7),i=r(2),o=r(0);function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.TokenClient=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(s(this,t),!e)throw o.Log.error(\"TokenClient.ctor: No settings passed\"),new Error(\"settings\");this._settings=e,this._jsonService=new r,this._metadataService=new a(this._settings)}return t.prototype.exchangeCode=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(r=Object.assign({},r)).grant_type=r.grant_type||\"authorization_code\",r.client_id=r.client_id||this._settings.client_id,r.client_secret=r.client_secret||this._settings.client_secret,r.redirect_uri=r.redirect_uri||this._settings.redirect_uri;var n=void 0,i=r._client_authentication||this._settings._client_authentication;return delete r._client_authentication,r.code?r.redirect_uri?r.code_verifier?r.client_id?r.client_secret||\"client_secret_basic\"!=i?(\"client_secret_basic\"==i&&(n=r.client_id+\":\"+r.client_secret,delete r.client_id,delete r.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(t){return o.Log.debug(\"TokenClient.exchangeCode: Received token endpoint\"),e._jsonService.postForm(t,r,n).then((function(t){return o.Log.debug(\"TokenClient.exchangeCode: response received\"),t}))}))):(o.Log.error(\"TokenClient.exchangeCode: No client_secret passed\"),Promise.reject(new Error(\"A client_secret is required\"))):(o.Log.error(\"TokenClient.exchangeCode: No client_id passed\"),Promise.reject(new Error(\"A client_id is required\"))):(o.Log.error(\"TokenClient.exchangeCode: No code_verifier passed\"),Promise.reject(new Error(\"A code_verifier is required\"))):(o.Log.error(\"TokenClient.exchangeCode: No redirect_uri passed\"),Promise.reject(new Error(\"A redirect_uri is required\"))):(o.Log.error(\"TokenClient.exchangeCode: No code passed\"),Promise.reject(new Error(\"A code is required\")))},t.prototype.exchangeRefreshToken=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(r=Object.assign({},r)).grant_type=r.grant_type||\"refresh_token\",r.client_id=r.client_id||this._settings.client_id,r.client_secret=r.client_secret||this._settings.client_secret;var n=void 0,i=r._client_authentication||this._settings._client_authentication;return delete r._client_authentication,r.refresh_token?r.client_id?(\"client_secret_basic\"==i&&(n=r.client_id+\":\"+r.client_secret,delete r.client_id,delete r.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(t){return o.Log.debug(\"TokenClient.exchangeRefreshToken: Received token endpoint\"),e._jsonService.postForm(t,r,n).then((function(t){return o.Log.debug(\"TokenClient.exchangeRefreshToken: response received\"),t}))}))):(o.Log.error(\"TokenClient.exchangeRefreshToken: No client_id passed\"),Promise.reject(new Error(\"A client_id is required\"))):(o.Log.error(\"TokenClient.exchangeRefreshToken: No refresh_token passed\"),Promise.reject(new Error(\"A refresh_token is required\")))},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ErrorResponse=void 0;var n=r(0);function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function o(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}e.ErrorResponse=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=r.error,a=r.error_description,u=r.error_uri,c=r.state,h=r.session_state;if(i(this,e),!s)throw n.Log.error(\"No error passed to ErrorResponse\"),new Error(\"error\");var l=o(this,t.call(this,a||s));return l.name=\"ErrorResponse\",l.error=s,l.error_description=a,l.error_uri=u,l.state=c,l.session_state=h,l}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(Error)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SigninState=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(9),s=r(4),a=function u(t){return t&&t.__esModule?t:{default:t}}(r(14));function c(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function h(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}e.SigninState=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.nonce,i=r.authority,o=r.client_id,u=r.redirect_uri,l=r.code_verifier,f=r.response_mode,g=r.client_secret,d=r.scope,p=r.extraTokenParams,v=r.skipUserInfo;c(this,e);var y=h(this,t.call(this,arguments[0]));if(!0===n?y._nonce=(0,a.default)():n&&(y._nonce=n),!0===l?y._code_verifier=(0,a.default)()+(0,a.default)()+(0,a.default)():l&&(y._code_verifier=l),y.code_verifier){var m=s.JoseUtil.hashString(y.code_verifier,\"SHA256\");y._code_challenge=s.JoseUtil.hexToBase64Url(m)}return y._redirect_uri=u,y._authority=i,y._client_id=o,y._response_mode=f,y._client_secret=g,y._scope=d,y._extraTokenParams=p,y._skipUserInfo=v,y}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.toStorageString=function t(){return i.Log.debug(\"SigninState.toStorageString\"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},e.fromStorageString=function t(r){return i.Log.debug(\"SigninState.fromStorageString\"),new e(JSON.parse(r))},n(e,[{key:\"nonce\",get:function t(){return this._nonce}},{key:\"authority\",get:function t(){return this._authority}},{key:\"client_id\",get:function t(){return this._client_id}},{key:\"redirect_uri\",get:function t(){return this._redirect_uri}},{key:\"code_verifier\",get:function t(){return this._code_verifier}},{key:\"code_challenge\",get:function t(){return this._code_challenge}},{key:\"response_mode\",get:function t(){return this._response_mode}},{key:\"client_secret\",get:function t(){return this._client_secret}},{key:\"scope\",get:function t(){return this._scope}},{key:\"extraTokenParams\",get:function t(){return this._extraTokenParams}},{key:\"skipUserInfo\",get:function t(){return this._skipUserInfo}}]),e}(o.State)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function n(){return(\"undefined\"!=i&&null!==i&&void 0!==i.getRandomValues?o:s)().replace(/-/g,\"\")};var i=\"undefined\"!=typeof window?window.crypto||window.msCrypto:null;function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^i.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))}function s(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^16*Math.random()>>t/4).toString(16)}))}t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.User=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.User=function(){function t(e){var r=e.id_token,n=e.session_state,i=e.access_token,o=e.refresh_token,s=e.token_type,a=e.scope,u=e.profile,c=e.expires_at,h=e.state;!function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.id_token=r,this.session_state=n,this.access_token=i,this.refresh_token=o,this.token_type=s,this.scope=a,this.profile=u,this.expires_at=c,this.state=h}return t.prototype.toStorageString=function t(){return i.Log.debug(\"User.toStorageString\"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},t.fromStorageString=function e(r){return i.Log.debug(\"User.fromStorageString\"),new t(JSON.parse(r))},n(t,[{key:\"expires_in\",get:function t(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function t(e){var r=parseInt(e);if(\"number\"==typeof r&&r>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+r}}},{key:\"expired\",get:function t(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:\"scopes\",get:function t(){return(this.scope||\"\").split(\" \")}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.AccessTokenEvents=void 0;var n=r(0),i=r(46);function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.AccessTokenEvents=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.accessTokenExpiringNotificationTime,n=void 0===r?60:r,s=e.accessTokenExpiringTimer,a=void 0===s?new i.Timer(\"Access token expiring\"):s,u=e.accessTokenExpiredTimer,c=void 0===u?new i.Timer(\"Access token expired\"):u;o(this,t),this._accessTokenExpiringNotificationTime=n,this._accessTokenExpiring=a,this._accessTokenExpired=c}return t.prototype.load=function t(e){if(e.access_token&&void 0!==e.expires_in){var r=e.expires_in;if(n.Log.debug(\"AccessTokenEvents.load: access token present, remaining duration:\",r),r>0){var i=r-this._accessTokenExpiringNotificationTime;i<=0&&(i=1),n.Log.debug(\"AccessTokenEvents.load: registering expiring timer in:\",i),this._accessTokenExpiring.init(i)}else n.Log.debug(\"AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration.\"),this._accessTokenExpiring.cancel();var o=r+1;n.Log.debug(\"AccessTokenEvents.load: registering expired timer in:\",o),this._accessTokenExpired.init(o)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.unload=function t(){n.Log.debug(\"AccessTokenEvents.unload: canceling existing access token timers\"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.addAccessTokenExpiring=function t(e){this._accessTokenExpiring.addHandler(e)},t.prototype.removeAccessTokenExpiring=function t(e){this._accessTokenExpiring.removeHandler(e)},t.prototype.addAccessTokenExpired=function t(e){this._accessTokenExpired.addHandler(e)},t.prototype.removeAccessTokenExpired=function t(e){this._accessTokenExpired.removeHandler(e)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Event=void 0;var n=r(0);e.Event=function(){function t(e){!function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._name=e,this._callbacks=[]}return t.prototype.addHandler=function t(e){this._callbacks.push(e)},t.prototype.removeHandler=function t(e){var r=this._callbacks.findIndex((function(t){return t===e}));r>=0&&this._callbacks.splice(r,1)},t.prototype.raise=function t(){n.Log.debug(\"Event: Raising event: \"+this._name);for(var e=0;e<this._callbacks.length;e++){var r;(r=this._callbacks)[e].apply(r,arguments)}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SessionMonitor=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(19),s=r(1);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.SessionMonitor=function(){function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Global.timer;if(a(this,t),!e)throw i.Log.error(\"SessionMonitor.ctor: No user manager passed to SessionMonitor\"),new Error(\"userManager\");this._userManager=e,this._CheckSessionIFrameCtor=n,this._timer=u,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(t){t?r._start(t):r._settings.monitorAnonymousSession&&r._userManager.querySessionStatus().then((function(t){var e={session_state:t.session_state};t.sub&&t.sid&&(e.profile={sub:t.sub,sid:t.sid}),r._start(e)})).catch((function(t){i.Log.error(\"SessionMonitor ctor: error from querySessionStatus:\",t.message)}))})).catch((function(t){i.Log.error(\"SessionMonitor ctor: error from getUser:\",t.message)})))}return t.prototype._start=function t(e){var r=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug(\"SessionMonitor._start: session_state:\",n,\", sub:\",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug(\"SessionMonitor._start: session_state:\",n,\", anonymous user\")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then((function(t){if(t){i.Log.debug(\"SessionMonitor._start: Initializing check session iframe\");var e=r._client_id,o=r._checkSessionInterval,s=r._stopCheckSessionOnError;r._checkSessionIFrame=new r._CheckSessionIFrameCtor(r._callback.bind(r),e,t,o,s),r._checkSessionIFrame.load().then((function(){r._checkSessionIFrame.start(n)}))}else i.Log.warn(\"SessionMonitor._start: No check session iframe found in the metadata\")})).catch((function(t){i.Log.error(\"SessionMonitor._start: Error from getCheckSessionIframe:\",t.message)})))},t.prototype._stop=function t(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug(\"SessionMonitor._stop\"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var r=this._timer.setInterval((function(){e._timer.clearInterval(r),e._userManager.querySessionStatus().then((function(t){var r={session_state:t.session_state};t.sub&&t.sid&&(r.profile={sub:t.sub,sid:t.sid}),e._start(r)})).catch((function(t){i.Log.error(\"SessionMonitor: error from querySessionStatus:\",t.message)}))}),1e3)},t.prototype._callback=function t(){var e=this;this._userManager.querySessionStatus().then((function(t){var r=!0;t?t.sub===e._sub?(r=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug(\"SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:\",t.session_state):(i.Log.debug(\"SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:\",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug(\"SessionMonitor._callback: Different subject signed into OP:\",t.sub):i.Log.debug(\"SessionMonitor._callback: Subject no longer signed into OP\"),r&&(e._sub?(i.Log.debug(\"SessionMonitor._callback: SessionMonitor._callback; raising signed out event\"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug(\"SessionMonitor._callback: SessionMonitor._callback; raising signed in event\"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug(\"SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event\",t.message),e._userManager.events._raiseUserSignedOut())}))},n(t,[{key:\"_settings\",get:function t(){return this._userManager.settings}},{key:\"_metadataService\",get:function t(){return this._userManager.metadataService}},{key:\"_client_id\",get:function t(){return this._settings.client_id}},{key:\"_checkSessionInterval\",get:function t(){return this._settings.checkSessionInterval}},{key:\"_stopCheckSessionOnError\",get:function t(){return this._settings.stopCheckSessionOnError}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CheckSessionIFrame=void 0;var n=r(0);function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.CheckSessionIFrame=function(){function t(e,r,n,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,t),this._callback=e,this._client_id=r,this._url=n,this._interval=o||2e3,this._stopOnError=s;var a=n.indexOf(\"/\",n.indexOf(\"//\")+2);this._frame_origin=n.substr(0,a),this._frame=window.document.createElement(\"iframe\"),this._frame.style.visibility=\"hidden\",this._frame.style.position=\"absolute\",this._frame.style.display=\"none\",this._frame.width=0,this._frame.height=0,this._frame.src=n}return t.prototype.load=function t(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener(\"message\",e._boundMessageEvent,!1)}))},t.prototype._message=function t(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&(\"error\"===e.data?(n.Log.error(\"CheckSessionIFrame: error message from check session op iframe\"),this._stopOnError&&this.stop()):\"changed\"===e.data?(n.Log.debug(\"CheckSessionIFrame: changed message from check session op iframe\"),this.stop(),this._callback()):n.Log.debug(\"CheckSessionIFrame: \"+e.data+\" message from check session op iframe\"))},t.prototype.start=function t(e){var r=this;if(this._session_state!==e){n.Log.debug(\"CheckSessionIFrame.start\"),this.stop(),this._session_state=e;var i=function t(){r._frame.contentWindow.postMessage(r._client_id+\" \"+r._session_state,r._frame_origin)};i(),this._timer=window.setInterval(i,this._interval)}},t.prototype.stop=function t(){this._session_state=null,this._timer&&(n.Log.debug(\"CheckSessionIFrame.stop\"),window.clearInterval(this._timer),this._timer=null)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TokenRevocationClient=void 0;var n=r(0),i=r(2),o=r(1);function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var a=\"access_token\",u=\"refresh_token\";e.TokenRevocationClient=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(s(this,t),!e)throw n.Log.error(\"TokenRevocationClient.ctor: No settings provided\"),new Error(\"No settings provided.\");this._settings=e,this._XMLHttpRequestCtor=r,this._metadataService=new a(this._settings)}return t.prototype.revoke=function t(e,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"access_token\";if(!e)throw n.Log.error(\"TokenRevocationClient.revoke: No token provided\"),new Error(\"No token provided.\");if(o!==a&&o!=u)throw n.Log.error(\"TokenRevocationClient.revoke: Invalid token type\"),new Error(\"Invalid token type.\");return this._metadataService.getRevocationEndpoint().then((function(t){if(t){n.Log.debug(\"TokenRevocationClient.revoke: Revoking \"+o);var s=i._settings.client_id,a=i._settings.client_secret;return i._revoke(t,s,a,e,o)}if(r)throw n.Log.error(\"TokenRevocationClient.revoke: Revocation not supported\"),new Error(\"Revocation not supported\")}))},t.prototype._revoke=function t(e,r,i,o,s){var a=this;return new Promise((function(t,u){var c=new a._XMLHttpRequestCtor;c.open(\"POST\",e),c.onload=function(){n.Log.debug(\"TokenRevocationClient.revoke: HTTP response received, status\",c.status),200===c.status?t():u(Error(c.statusText+\" (\"+c.status+\")\"))},c.onerror=function(){n.Log.debug(\"TokenRevocationClient.revoke: Network Error.\"),u(\"Network Error\")};var h=\"client_id=\"+encodeURIComponent(r);i&&(h+=\"&client_secret=\"+encodeURIComponent(i)),h+=\"&token_type_hint=\"+encodeURIComponent(s),h+=\"&token=\"+encodeURIComponent(o),c.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),c.send(h)}))},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CordovaPopupWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.CordovaPopupWindow=function(){function t(e){var r=this;!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e})),this.features=e.popupWindowFeatures||\"location=no,toolbar=no,zoom=no\",this.target=e.popupWindowTarget||\"_blank\",this.redirect_uri=e.startUrl,i.Log.debug(\"CordovaPopupWindow.ctor: redirect_uri: \"+this.redirect_uri)}return t.prototype._isInAppBrowserInstalled=function t(e){return[\"cordova-plugin-inappbrowser\",\"cordova-plugin-inappbrowser.inappbrowser\",\"org.apache.cordova.inappbrowser\"].some((function(t){return e.hasOwnProperty(t)}))},t.prototype.navigate=function t(e){if(e&&e.url){if(!window.cordova)return this._error(\"cordova is undefined\");var r=window.cordova.require(\"cordova/plugin_list\").metadata;if(!1===this._isInAppBrowserInstalled(r))return this._error(\"InAppBrowser plugin not found\");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug(\"CordovaPopupWindow.navigate: popup successfully created\"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener(\"exit\",this._exitCallbackEvent,!1),this._popup.addEventListener(\"loadstart\",this._loadStartCallbackEvent,!1)):this._error(\"Error opening popup window\")}else this._error(\"No url provided\");return this.promise},t.prototype._loadStartCallback=function t(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},t.prototype._exitCallback=function t(e){this._error(e)},t.prototype._success=function t(e){this._cleanup(),i.Log.debug(\"CordovaPopupWindow: Successful response from cordova popup window\"),this._resolve(e)},t.prototype._error=function t(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},t.prototype.close=function t(){this._cleanup()},t.prototype._cleanup=function t(){this._popup&&(i.Log.debug(\"CordovaPopupWindow: cleaning up popup\"),this._popup.removeEventListener(\"exit\",this._exitCallbackEvent,!1),this._popup.removeEventListener(\"loadstart\",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},n(t,[{key:\"promise\",get:function t(){return this._promise}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(0),i=r(10),o=r(5),s=r(6),a=r(37),u=r(38),c=r(16),h=r(2),l=r(48),f=r(49),g=r(19),d=r(20),p=r(18),v=r(1),y=r(15),m=r(50);e.default={Version:m.Version,Log:n.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:h.MetadataService,CordovaPopupNavigator:l.CordovaPopupNavigator,CordovaIFrameNavigator:f.CordovaIFrameNavigator,CheckSessionIFrame:g.CheckSessionIFrame,TokenRevocationClient:d.TokenRevocationClient,SessionMonitor:p.SessionMonitor,Global:v.Global,User:y.User},t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.ClockService=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.getEpochTime=function t(){return Promise.resolve(Date.now()/1e3|0)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ResponseValidator=void 0;var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=r(0),o=r(2),s=r(25),a=r(11),u=r(12),c=r(4);function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var l=[\"nonce\",\"at_hash\",\"iat\",\"nbf\",\"exp\",\"aud\",\"iss\",\"c_hash\"];e.ResponseValidator=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TokenClient;if(h(this,t),!e)throw i.Log.error(\"ResponseValidator.ctor: No settings passed to ResponseValidator\"),new Error(\"settings\");this._settings=e,this._metadataService=new r(this._settings),this._userInfoService=new n(this._settings),this._joseUtil=u,this._tokenClient=new l(this._settings)}return t.prototype.validateSigninResponse=function t(e,r){var n=this;return i.Log.debug(\"ResponseValidator.validateSigninResponse\"),this._processSigninParams(e,r).then((function(t){return i.Log.debug(\"ResponseValidator.validateSigninResponse: state processed\"),n._validateTokens(e,t).then((function(t){return i.Log.debug(\"ResponseValidator.validateSigninResponse: tokens validated\"),n._processClaims(e,t).then((function(t){return i.Log.debug(\"ResponseValidator.validateSigninResponse: claims processed\"),t}))}))}))},t.prototype.validateSignoutResponse=function t(e,r){return e.id!==r.state?(i.Log.error(\"ResponseValidator.validateSignoutResponse: State does not match\"),Promise.reject(new Error(\"State does not match\"))):(i.Log.debug(\"ResponseValidator.validateSignoutResponse: state validated\"),r.state=e.data,r.error?(i.Log.warn(\"ResponseValidator.validateSignoutResponse: Response was error\",r.error),Promise.reject(new u.ErrorResponse(r))):Promise.resolve(r))},t.prototype._processSigninParams=function t(e,r){if(e.id!==r.state)return i.Log.error(\"ResponseValidator._processSigninParams: State does not match\"),Promise.reject(new Error(\"State does not match\"));if(!e.client_id)return i.Log.error(\"ResponseValidator._processSigninParams: No client_id on state\"),Promise.reject(new Error(\"No client_id on state\"));if(!e.authority)return i.Log.error(\"ResponseValidator._processSigninParams: No authority on state\"),Promise.reject(new Error(\"No authority on state\"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error(\"ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state\"),Promise.reject(new Error(\"authority mismatch on settings vs. signin state\"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error(\"ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state\"),Promise.reject(new Error(\"client_id mismatch on settings vs. signin state\"))}else this._settings.client_id=e.client_id;return i.Log.debug(\"ResponseValidator._processSigninParams: state validated\"),r.state=e.data,r.error?(i.Log.warn(\"ResponseValidator._processSigninParams: Response was error\",r.error),Promise.reject(new u.ErrorResponse(r))):e.nonce&&!r.id_token?(i.Log.error(\"ResponseValidator._processSigninParams: Expecting id_token in response\"),Promise.reject(new Error(\"No id_token in response\"))):!e.nonce&&r.id_token?(i.Log.error(\"ResponseValidator._processSigninParams: Not expecting id_token in response\"),Promise.reject(new Error(\"Unexpected id_token in response\"))):e.code_verifier&&!r.code?(i.Log.error(\"ResponseValidator._processSigninParams: Expecting code in response\"),Promise.reject(new Error(\"No code in response\"))):!e.code_verifier&&r.code?(i.Log.error(\"ResponseValidator._processSigninParams: Not expecting code in response\"),Promise.reject(new Error(\"Unexpected code in response\"))):(r.scope||(r.scope=e.scope),Promise.resolve(r))},t.prototype._processClaims=function t(e,r){var n=this;if(r.isOpenIdConnect){if(i.Log.debug(\"ResponseValidator._processClaims: response is OIDC, processing claims\"),r.profile=this._filterProtocolClaims(r.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&r.access_token)return i.Log.debug(\"ResponseValidator._processClaims: loading user info\"),this._userInfoService.getClaims(r.access_token).then((function(t){return i.Log.debug(\"ResponseValidator._processClaims: user info claims received from user info endpoint\"),t.sub!==r.profile.sub?(i.Log.error(\"ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token\"),Promise.reject(new Error(\"sub from user info endpoint does not match sub in id_token\"))):(r.profile=n._mergeClaims(r.profile,t),i.Log.debug(\"ResponseValidator._processClaims: user info claims received, updated profile:\",r.profile),r)}));i.Log.debug(\"ResponseValidator._processClaims: not loading user info\")}else i.Log.debug(\"ResponseValidator._processClaims: response is not OIDC, not processing claims\");return Promise.resolve(r)},t.prototype._mergeClaims=function t(e,r){var i=Object.assign({},e);for(var o in r){var s=r[o];Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++){var u=s[a];i[o]?Array.isArray(i[o])?i[o].indexOf(u)<0&&i[o].push(u):i[o]!==u&&(\"object\"===(void 0===u?\"undefined\":n(u))&&this._settings.mergeClaims?i[o]=this._mergeClaims(i[o],u):i[o]=[i[o],u]):i[o]=u}}return i},t.prototype._filterProtocolClaims=function t(e){i.Log.debug(\"ResponseValidator._filterProtocolClaims, incoming claims:\",e);var r=Object.assign({},e);return this._settings._filterProtocolClaims?(l.forEach((function(t){delete r[t]})),i.Log.debug(\"ResponseValidator._filterProtocolClaims: protocol claims filtered\",r)):i.Log.debug(\"ResponseValidator._filterProtocolClaims: protocol claims not filtered\"),r},t.prototype._validateTokens=function t(e,r){return r.code?(i.Log.debug(\"ResponseValidator._validateTokens: Validating code\"),this._processCode(e,r)):r.id_token?r.access_token?(i.Log.debug(\"ResponseValidator._validateTokens: Validating id_token and access_token\"),this._validateIdTokenAndAccessToken(e,r)):(i.Log.debug(\"ResponseValidator._validateTokens: Validating id_token\"),this._validateIdToken(e,r)):(i.Log.debug(\"ResponseValidator._validateTokens: No code to process or id_token to validate\"),Promise.resolve(r))},t.prototype._processCode=function t(e,r){var o=this,s={client_id:e.client_id,client_secret:e.client_secret,code:r.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&\"object\"===n(e.extraTokenParams)&&Object.assign(s,e.extraTokenParams),this._tokenClient.exchangeCode(s).then((function(t){for(var n in t)r[n]=t[n];return r.id_token?(i.Log.debug(\"ResponseValidator._processCode: token response successful, processing id_token\"),o._validateIdTokenAttributes(e,r)):(i.Log.debug(\"ResponseValidator._processCode: token response successful, returning response\"),r)}))},t.prototype._validateIdTokenAttributes=function t(e,r){var n=this;return this._metadataService.getIssuer().then((function(t){var o=e.client_id,s=n._settings.clockSkew;return i.Log.debug(\"ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: \",s),n._settings.getEpochTime().then((function(a){return n._joseUtil.validateJwtAttributes(r.id_token,t,o,s,a).then((function(t){return e.nonce&&e.nonce!==t.nonce?(i.Log.error(\"ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token\"),Promise.reject(new Error(\"Invalid nonce in id_token\"))):t.sub?(r.profile=t,r):(i.Log.error(\"ResponseValidator._validateIdTokenAttributes: No sub present in id_token\"),Promise.reject(new Error(\"No sub present in id_token\")))}))}))}))},t.prototype._validateIdTokenAndAccessToken=function t(e,r){var n=this;return this._validateIdToken(e,r).then((function(t){return n._validateAccessToken(t)}))},t.prototype._getSigningKeyForJwt=function t(e){var r=this;return this._metadataService.getSigningKeys().then((function(t){var n=e.header.kid;if(!t)return i.Log.error(\"ResponseValidator._validateIdToken: No signing keys from metadata\"),Promise.reject(new Error(\"No signing keys from metadata\"));i.Log.debug(\"ResponseValidator._validateIdToken: Received signing keys\");var o=void 0;if(n)o=t.filter((function(t){return t.kid===n}))[0];else{if((t=r._filterByAlg(t,e.header.alg)).length>1)return i.Log.error(\"ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata\"),Promise.reject(new Error(\"No kid found in id_token and more than one key found in metadata\"));o=t[0]}return Promise.resolve(o)}))},t.prototype._getSigningKeyForJwtWithSingleRetry=function t(e){var r=this;return this._getSigningKeyForJwt(e).then((function(t){return t?Promise.resolve(t):(r._metadataService.resetSigningKeys(),r._getSigningKeyForJwt(e))}))},t.prototype._validateIdToken=function t(e,r){var n=this;if(!e.nonce)return i.Log.error(\"ResponseValidator._validateIdToken: No nonce on state\"),Promise.reject(new Error(\"No nonce on state\"));var o=this._joseUtil.parseJwt(r.id_token);return o&&o.header&&o.payload?e.nonce!==o.payload.nonce?(i.Log.error(\"ResponseValidator._validateIdToken: Invalid nonce in id_token\"),Promise.reject(new Error(\"Invalid nonce in id_token\"))):this._metadataService.getIssuer().then((function(t){return i.Log.debug(\"ResponseValidator._validateIdToken: Received issuer\"),n._getSigningKeyForJwtWithSingleRetry(o).then((function(s){if(!s)return i.Log.error(\"ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys\"),Promise.reject(new Error(\"No key matching kid or alg found in signing keys\"));var a=e.client_id,u=n._settings.clockSkew;return i.Log.debug(\"ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: \",u),n._joseUtil.validateJwt(r.id_token,s,t,a,u).then((function(){return i.Log.debug(\"ResponseValidator._validateIdToken: JWT validation successful\"),o.payload.sub?(r.profile=o.payload,r):(i.Log.error(\"ResponseValidator._validateIdToken: No sub present in id_token\"),Promise.reject(new Error(\"No sub present in id_token\")))}))}))})):(i.Log.error(\"ResponseValidator._validateIdToken: Failed to parse id_token\",o),Promise.reject(new Error(\"Failed to parse id_token\")))},t.prototype._filterByAlg=function t(e,r){var n=null;if(r.startsWith(\"RS\"))n=\"RSA\";else if(r.startsWith(\"PS\"))n=\"PS\";else{if(!r.startsWith(\"ES\"))return i.Log.debug(\"ResponseValidator._filterByAlg: alg not supported: \",r),[];n=\"EC\"}return i.Log.debug(\"ResponseValidator._filterByAlg: Looking for keys that match kty: \",n),e=e.filter((function(t){return t.kty===n})),i.Log.debug(\"ResponseValidator._filterByAlg: Number of keys that match kty: \",n,e.length),e},t.prototype._validateAccessToken=function t(e){if(!e.profile)return i.Log.error(\"ResponseValidator._validateAccessToken: No profile loaded from id_token\"),Promise.reject(new Error(\"No profile loaded from id_token\"));if(!e.profile.at_hash)return i.Log.error(\"ResponseValidator._validateAccessToken: No at_hash in id_token\"),Promise.reject(new Error(\"No at_hash in id_token\"));if(!e.id_token)return i.Log.error(\"ResponseValidator._validateAccessToken: No id_token\"),Promise.reject(new Error(\"No id_token\"));var r=this._joseUtil.parseJwt(e.id_token);if(!r||!r.header)return i.Log.error(\"ResponseValidator._validateAccessToken: Failed to parse id_token\",r),Promise.reject(new Error(\"Failed to parse id_token\"));var n=r.header.alg;if(!n||5!==n.length)return i.Log.error(\"ResponseValidator._validateAccessToken: Unsupported alg:\",n),Promise.reject(new Error(\"Unsupported alg: \"+n));var o=n.substr(2,3);if(!o)return i.Log.error(\"ResponseValidator._validateAccessToken: Unsupported alg:\",n,o),Promise.reject(new Error(\"Unsupported alg: \"+n));if(256!==(o=parseInt(o))&&384!==o&&512!==o)return i.Log.error(\"ResponseValidator._validateAccessToken: Unsupported alg:\",n,o),Promise.reject(new Error(\"Unsupported alg: \"+n));var s=\"sha\"+o,a=this._joseUtil.hashString(e.access_token,s);if(!a)return i.Log.error(\"ResponseValidator._validateAccessToken: access_token hash failed:\",s),Promise.reject(new Error(\"Failed to validate at_hash\"));var u=a.substr(0,a.length/2),c=this._joseUtil.hexToBase64Url(u);return c!==e.profile.at_hash?(i.Log.error(\"ResponseValidator._validateAccessToken: Failed to validate at_hash\",c,e.profile.at_hash),Promise.reject(new Error(\"Failed to validate at_hash\"))):(i.Log.debug(\"ResponseValidator._validateAccessToken: success\"),Promise.resolve(e))},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserInfoService=void 0;var n=r(7),i=r(2),o=r(0),s=r(4);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.UserInfoService=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.JoseUtil;if(a(this,t),!e)throw o.Log.error(\"UserInfoService.ctor: No settings passed\"),new Error(\"settings\");this._settings=e,this._jsonService=new r(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new u(this._settings),this._joseUtil=c}return t.prototype.getClaims=function t(e){var r=this;return e?this._metadataService.getUserInfoEndpoint().then((function(t){return o.Log.debug(\"UserInfoService.getClaims: received userinfo url\",t),r._jsonService.getJson(t,e).then((function(t){return o.Log.debug(\"UserInfoService.getClaims: claims received\",t),t}))})):(o.Log.error(\"UserInfoService.getClaims: No token passed\"),Promise.reject(new Error(\"A token is required\")))},t.prototype._getClaimsFromJwt=function t(e){var r=this;try{var n=this._joseUtil.parseJwt(e.responseText);if(!n||!n.header||!n.payload)return o.Log.error(\"UserInfoService._getClaimsFromJwt: Failed to parse JWT\",n),Promise.reject(new Error(\"Failed to parse id_token\"));var i=n.header.kid,s=void 0;switch(this._settings.userInfoJwtIssuer){case\"OP\":s=this._metadataService.getIssuer();break;case\"ANY\":s=Promise.resolve(n.payload.iss);break;default:s=Promise.resolve(this._settings.userInfoJwtIssuer)}return s.then((function(t){return o.Log.debug(\"UserInfoService._getClaimsFromJwt: Received issuer:\"+t),r._metadataService.getSigningKeys().then((function(s){if(!s)return o.Log.error(\"UserInfoService._getClaimsFromJwt: No signing keys from metadata\"),Promise.reject(new Error(\"No signing keys from metadata\"));o.Log.debug(\"UserInfoService._getClaimsFromJwt: Received signing keys\");var a=void 0;if(i)a=s.filter((function(t){return t.kid===i}))[0];else{if((s=r._filterByAlg(s,n.header.alg)).length>1)return o.Log.error(\"UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata\"),Promise.reject(new Error(\"No kid found in id_token and more than one key found in metadata\"));a=s[0]}if(!a)return o.Log.error(\"UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys\"),Promise.reject(new Error(\"No key matching kid or alg found in signing keys\"));var u=r._settings.client_id,c=r._settings.clockSkew;return o.Log.debug(\"UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: \",c),r._joseUtil.validateJwt(e.responseText,a,t,u,c,void 0,!0).then((function(){return o.Log.debug(\"UserInfoService._getClaimsFromJwt: JWT validation successful\"),n.payload}))}))}))}catch(t){return o.Log.error(\"UserInfoService._getClaimsFromJwt: Error parsing JWT response\",t.message),void reject(t)}},t.prototype._filterByAlg=function t(e,r){var n=null;if(r.startsWith(\"RS\"))n=\"RSA\";else if(r.startsWith(\"PS\"))n=\"PS\";else{if(!r.startsWith(\"ES\"))return o.Log.debug(\"UserInfoService._filterByAlg: alg not supported: \",r),[];n=\"EC\"}return o.Log.debug(\"UserInfoService._filterByAlg: Looking for keys that match kty: \",n),e=e.filter((function(t){return t.kty===n})),o.Log.debug(\"UserInfoService._filterByAlg: Number of keys that match kty: \",n,e.length),e},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.AllowedSigningAlgs=e.b64tohex=e.hextob64u=e.crypto=e.X509=e.KeyUtil=e.jws=void 0;var n=r(27);e.jws=n.jws,e.KeyUtil=n.KEYUTIL,e.X509=n.X509,e.crypto=n.crypto,e.hextob64u=n.hextob64u,e.b64tohex=n.b64tohex,e.AllowedSigningAlgs=[\"RS256\",\"RS384\",\"RS512\",\"PS256\",\"PS384\",\"PS512\",\"ES256\",\"ES384\",\"ES512\"]},function(t,e,r){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var r,n,i,o,s,a,u,c,h,l,f,g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},d={userAgent:!1},p={},v=v||(r=Math,i=(n={}).lib={},o=i.Base=function(){function t(){}return{extend:function e(r){t.prototype=this;var n=new t;return r&&n.mixIn(r),n.hasOwnProperty(\"init\")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function t(){var e=this.extend();return e.init.apply(e,arguments),e},init:function t(){},mixIn:function t(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function t(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function t(e,r){e=this.words=e||[],this.sigBytes=null!=r?r:4*e.length},toString:function t(e){return(e||u).stringify(this)},concat:function t(e){var r=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var s=0;s<o;s++){var a=n[s>>>2]>>>24-s%4*8&255;r[i+s>>>2]|=a<<24-(i+s)%4*8}else for(s=0;s<o;s+=4)r[i+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function t(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=r.ceil(n/4)},clone:function t(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function t(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*r.random()|0);return new s.init(n,e)}}),a=n.enc={},u=a.Hex={stringify:function t(e){for(var r=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var s=r[o>>>2]>>>24-o%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join(\"\")},parse:function t(e){for(var r=e.length,n=[],i=0;i<r;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(n,r/2)}},c=a.Latin1={stringify:function t(e){for(var r=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var s=r[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(s))}return i.join(\"\")},parse:function t(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(n,r)}},h=a.Utf8={stringify:function t(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error(\"Malformed UTF-8 data\")}},parse:function t(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function t(){this._data=new s.init,this._nDataBytes=0},_append:function t(e){\"string\"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function t(e){var n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,u=o/(4*a),c=(u=e?r.ceil(u):r.max((0|u)-this._minBufferSize,0))*a,h=r.min(4*c,o);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(i,l);var f=i.splice(0,c);n.sigBytes-=h}return new s.init(f,h)},clone:function t(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=l.extend({cfg:o.extend(),init:function t(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function t(){l.reset.call(this),this._doReset()},update:function t(e){return this._append(e),this._process(),this},finalize:function t(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function t(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function t(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),f=n.algo={},n);!function(t){var e,r=(e=v).lib,n=r.Base,i=r.WordArray;(e=e.x64={}).Word=n.extend({init:function t(e,r){this.high=e,this.low=r}}),e.WordArray=n.extend({init:function t(e,r){e=this.words=e||[],this.sigBytes=null!=r?r:8*e.length},toX32:function t(){for(var e=this.words,r=e.length,n=[],o=0;o<r;o++){var s=e[o];n.push(s.high),n.push(s.low)}return i.create(n,this.sigBytes)},clone:function t(){for(var e=n.clone.call(this),r=e.words=this.words.slice(0),i=r.length,o=0;o<i;o++)r[o]=r[o].clone();return e}})}(),function(){var t=v,e=t.lib.WordArray;t.enc.Base64={stringify:function t(e){var r=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var o=0;o<n;o+=3)for(var s=(r[o>>>2]>>>24-o%4*8&255)<<16|(r[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|r[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;4>a&&o+.75*a<n;a++)e.push(i.charAt(s>>>6*(3-a)&63));if(r=i.charAt(64))for(;e.length%4;)e.push(r);return e.join(\"\")},parse:function t(r){var n=r.length,i=this._map;(o=i.charAt(64))&&(-1!=(o=r.indexOf(o))&&(n=o));for(var o=[],s=0,a=0;a<n;a++)if(a%4){var u=i.indexOf(r.charAt(a-1))<<a%4*2,c=i.indexOf(r.charAt(a))>>>6-a%4*2;o[s>>>2]|=(u|c)<<24-s%4*8,s++}return e.create(o,s)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),function(t){for(var e=v,r=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,o=[],s=[],a=function t(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var h;t:{h=u;for(var l=t.sqrt(h),f=2;f<=l;f++)if(!(h%f)){h=!1;break t}h=!0}h&&(8>c&&(o[c]=a(t.pow(u,.5))),s[c]=a(t.pow(u,1/3)),c++),u++}var g=[];i=i.SHA256=n.extend({_doReset:function t(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function t(e,r){for(var n=this._hash.words,i=n[0],o=n[1],a=n[2],u=n[3],c=n[4],h=n[5],l=n[6],f=n[7],d=0;64>d;d++){if(16>d)g[d]=0|e[r+d];else{var p=g[d-15],v=g[d-2];g[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+g[d-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+g[d-16]}p=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&h^~c&l)+s[d]+g[d],v=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&o^i&a^o&a),f=l,l=h,h=c,c=u+p|0,u=a,a=o,o=i,i=p+v|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+u|0,n[4]=n[4]+c|0,n[5]=n[5]+h|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function e(){var r=this._data,n=r.words,i=8*this._nDataBytes,o=8*r.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,r.sigBytes=4*n.length,this._process(),this._hash},clone:function t(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=n._createHelper(i),e.HmacSHA256=n._createHmacHelper(i)}(Math),function(){function t(){return n.create.apply(n,arguments)}for(var e=v,r=e.lib.Hasher,n=(o=e.x64).Word,i=o.WordArray,o=e.algo,s=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=t();o=o.SHA512=r.extend({_doReset:function t(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function t(e,r){for(var n=(f=this._hash.words)[0],i=f[1],o=f[2],u=f[3],c=f[4],h=f[5],l=f[6],f=f[7],g=n.high,d=n.low,p=i.high,v=i.low,y=o.high,m=o.low,_=u.high,S=u.low,b=c.high,w=c.low,F=h.high,E=h.low,x=l.high,A=l.low,k=f.high,P=f.low,C=g,T=d,R=p,I=v,D=y,L=m,N=_,U=S,B=b,O=w,j=F,M=E,H=x,V=A,K=k,q=P,J=0;80>J;J++){var W=a[J];if(16>J)var z=W.high=0|e[r+2*J],Y=W.low=0|e[r+2*J+1];else{z=((Y=(z=a[J-15]).high)>>>1|(G=z.low)<<31)^(Y>>>8|G<<24)^Y>>>7;var G=(G>>>1|Y<<31)^(G>>>8|Y<<24)^(G>>>7|Y<<25),X=((Y=(X=a[J-2]).high)>>>19|($=X.low)<<13)^(Y<<3|$>>>29)^Y>>>6,$=($>>>19|Y<<13)^($<<3|Y>>>29)^($>>>6|Y<<26),Q=(Y=a[J-7]).high,Z=(tt=a[J-16]).high,tt=tt.low;z=(z=(z=z+Q+((Y=G+Y.low)>>>0<G>>>0?1:0))+X+((Y=Y+$)>>>0<$>>>0?1:0))+Z+((Y=Y+tt)>>>0<tt>>>0?1:0);W.high=z,W.low=Y}Q=B&j^~B&H,tt=O&M^~O&V,W=C&R^C&D^R&D;var et=T&I^T&L^I&L,rt=(G=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),X=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),($=s[J]).high),nt=$.low;Z=K+((B>>>14|O<<18)^(B>>>18|O<<14)^(B<<23|O>>>9))+(($=q+((O>>>14|B<<18)^(O>>>18|B<<14)^(O<<23|B>>>9)))>>>0<q>>>0?1:0),K=H,q=V,H=j,V=M,j=B,M=O,B=N+(Z=(Z=(Z=Z+Q+(($=$+tt)>>>0<tt>>>0?1:0))+rt+(($=$+nt)>>>0<nt>>>0?1:0))+z+(($=$+Y)>>>0<Y>>>0?1:0))+((O=U+$|0)>>>0<U>>>0?1:0)|0,N=D,U=L,D=R,L=I,R=C,I=T,C=Z+(W=G+W+((Y=X+et)>>>0<X>>>0?1:0))+((T=$+Y|0)>>>0<$>>>0?1:0)|0}d=n.low=d+T,n.high=g+C+(d>>>0<T>>>0?1:0),v=i.low=v+I,i.high=p+R+(v>>>0<I>>>0?1:0),m=o.low=m+L,o.high=y+D+(m>>>0<L>>>0?1:0),S=u.low=S+U,u.high=_+N+(S>>>0<U>>>0?1:0),w=c.low=w+O,c.high=b+B+(w>>>0<O>>>0?1:0),E=h.low=E+M,h.high=F+j+(E>>>0<M>>>0?1:0),A=l.low=A+V,l.high=x+H+(A>>>0<V>>>0?1:0),P=f.low=P+q,f.high=k+K+(P>>>0<q>>>0?1:0)},_doFinalize:function t(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),r[31+(i+128>>>10<<5)]=n,e.sigBytes=4*r.length,this._process(),this._hash.toX32()},clone:function t(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),e.SHA512=r._createHelper(o),e.HmacSHA512=r._createHmacHelper(o)}(),function(){var t=v,e=(i=t.x64).Word,r=i.WordArray,n=(i=t.algo).SHA512,i=i.SHA384=n.extend({_doReset:function t(){this._hash=new r.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function t(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=n._createHelper(i),t.HmacSHA384=n._createHmacHelper(i)}();\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar y,m=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";function _(t){var e,r,n=\"\";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=m.charAt(r>>6)+m.charAt(63&r);for(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=m.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=m.charAt(r>>2)+m.charAt((3&r)<<4)),\"=\";(3&n.length)>0;)n+=\"=\";return n}function S(t){var e,r,n,i=\"\",o=0;for(e=0;e<t.length&&\"=\"!=t.charAt(e);++e)(n=m.indexOf(t.charAt(e)))<0||(0==o?(i+=T(n>>2),r=3&n,o=1):1==o?(i+=T(r<<2|n>>4),r=15&n,o=2):2==o?(i+=T(r),i+=T(n>>2),r=3&n,o=3):(i+=T(r<<2|n>>4),i+=T(15&n),o=0));return 1==o&&(i+=T(r<<2)),i}function b(t){var e,r=S(t),n=new Array;for(e=0;2*e<r.length;++e)n[e]=parseInt(r.substring(2*e,2*e+2),16);return n}function w(t,e,r){null!=t&&(\"number\"==typeof t?this.fromNumber(t,e,r):null==e&&\"string\"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function F(){return new w(null)}\"Microsoft Internet Explorer\"==d.appName?(w.prototype.am=function E(t,e,r,n,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,h=a*u+c*s;i=((u=s*u+((32767&h)<<15)+r[n]+(1073741823&i))>>>30)+(h>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},y=30):\"Netscape\"!=d.appName?(w.prototype.am=function x(t,e,r,n,i,o){for(;--o>=0;){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},y=26):(w.prototype.am=function A(t,e,r,n,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,h=a*u+c*s;i=((u=s*u+((16383&h)<<14)+r[n]+i)>>28)+(h>>14)+a*c,r[n++]=268435455&u}return i},y=28),w.prototype.DB=y,w.prototype.DM=(1<<y)-1,w.prototype.DV=1<<y;w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-y,w.prototype.F2=2*y-52;var k,P,C=new Array;for(k=\"0\".charCodeAt(0),P=0;P<=9;++P)C[k++]=P;for(k=\"a\".charCodeAt(0),P=10;P<36;++P)C[k++]=P;for(k=\"A\".charCodeAt(0),P=10;P<36;++P)C[k++]=P;function T(t){return\"0123456789abcdefghijklmnopqrstuvwxyz\".charAt(t)}function R(t,e){var r=C[t.charCodeAt(e)];return null==r?-1:r}function I(t){var e=F();return e.fromInt(t),e}function D(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function L(t){this.m=t}function N(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function U(t,e){return t&e}function B(t,e){return t|e}function O(t,e){return t^e}function j(t,e){return t&~e}function M(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function H(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function V(){}function K(t){return t}function q(t){this.r2=F(),this.q3=F(),w.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}L.prototype.convert=function J(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},L.prototype.revert=function W(t){return t},L.prototype.reduce=function z(t){t.divRemTo(this.m,null,t)},L.prototype.mulTo=function Y(t,e,r){t.multiplyTo(e,r),this.reduce(r)},L.prototype.sqrTo=function G(t,e){t.squareTo(e),this.reduce(e)},N.prototype.convert=function X(t){var e=F();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(w.ZERO)>0&&this.m.subTo(e,e),e},N.prototype.revert=function $(t){var e=F();return t.copyTo(e),this.reduce(e),e},N.prototype.reduce=function Q(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},N.prototype.mulTo=function Z(t,e,r){t.multiplyTo(e,r),this.reduce(r)},N.prototype.sqrTo=function tt(t,e){t.squareTo(e),this.reduce(e)},w.prototype.copyTo=function et(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},w.prototype.fromInt=function rt(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},w.prototype.fromString=function nt(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var s=8==r?255&t[n]:R(t,n);s<0?\"-\"==t.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&w.ZERO.subTo(this,this)},w.prototype.clamp=function it(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},w.prototype.dlShiftTo=function ot(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},w.prototype.drShiftTo=function st(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},w.prototype.lShiftTo=function at(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)e[r]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},w.prototype.rShiftTo=function ut(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},w.prototype.subTo=function ct(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},w.prototype.multiplyTo=function ht(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&w.ZERO.subTo(e,e)},w.prototype.squareTo=function lt(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},w.prototype.divRemTo=function ft(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=F());var o=F(),s=this.s,a=t.s,u=this.DB-D(n[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,h=o[c-1];if(0!=h){var l=h*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),f=this.FV/l,g=(1<<this.F1)/l,d=1<<this.F2,p=r.t,v=p-c,y=null==e?F():e;for(o.dlShiftTo(v,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),w.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=r[--p]==h?this.DM:Math.floor(r[p]*f+(r[p-1]+d)*g);if((r[p]+=o.am(0,m,r,v,0,c))<m)for(o.dlShiftTo(v,y),r.subTo(y,r);r[p]<--m;)r.subTo(y,r)}null!=e&&(r.drShiftTo(c,e),s!=a&&w.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&w.ZERO.subTo(r,r)}}},w.prototype.invDigit=function gt(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},w.prototype.isEven=function dt(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function pt(t,e){if(t>4294967295||t<1)return w.ONE;var r=F(),n=F(),i=e.convert(this),o=D(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)},w.prototype.toString=function vt(t){if(this.s<0)return\"-\"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o=\"\",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=T(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=T(r));return i?o:\"0\"},w.prototype.negate=function yt(){var t=F();return w.ZERO.subTo(this,t),t},w.prototype.abs=function mt(){return this.s<0?this.negate():this},w.prototype.compareTo=function _t(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},w.prototype.bitLength=function St(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function bt(t){var e=F();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(w.ZERO)>0&&t.subTo(e,e),e},w.prototype.modPowInt=function wt(t,e){var r;return r=t<256||e.isEven()?new L(e):new N(e),this.exp(t,r)},w.ZERO=I(0),w.ONE=I(1),V.prototype.convert=K,V.prototype.revert=K,V.prototype.mulTo=function Ft(t,e,r){t.multiplyTo(e,r)},V.prototype.sqrTo=function Et(t,e){t.squareTo(e)},q.prototype.convert=function xt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=F();return t.copyTo(e),this.reduce(e),e},q.prototype.revert=function At(t){return t},q.prototype.reduce=function kt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},q.prototype.mulTo=function Pt(t,e,r){t.multiplyTo(e,r),this.reduce(r)},q.prototype.sqrTo=function Ct(t,e){t.squareTo(e),this.reduce(e)};var Tt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Rt=(1<<26)/Tt[Tt.length-1];\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction It(){this.i=0,this.j=0,this.S=new Array}w.prototype.chunkSize=function Dt(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},w.prototype.toRadix=function Lt(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return\"0\";var e=this.chunkSize(t),r=Math.pow(t,e),n=I(r),i=F(),o=F(),s=\"\";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s},w.prototype.fromRadix=function Nt(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,a=0;a<t.length;++a){var u=R(t,a);u<0?\"-\"==t.charAt(a)&&0==this.signum()&&(i=!0):(s=e*s+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function Ut(t,e,r){if(\"number\"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(w.ONE.shiftLeft(t-1),B,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(w.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},w.prototype.bitwiseTo=function Bt(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},w.prototype.changeBit=function Ot(t,e){var r=w.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},w.prototype.addTo=function jt(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},w.prototype.dMultiply=function Mt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function Ht(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},w.prototype.multiplyLowerTo=function Vt(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},w.prototype.multiplyUpperTo=function Kt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},w.prototype.modInt=function qt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},w.prototype.millerRabin=function Jt(t){var e=this.subtract(w.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>Tt.length&&(t=Tt.length);for(var i=F(),o=0;o<t;++o){i.fromInt(Tt[Math.floor(Math.random()*Tt.length)]);var s=i.modPow(n,this);if(0!=s.compareTo(w.ONE)&&0!=s.compareTo(e)){for(var a=1;a++<r&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},w.prototype.clone=\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction Wt(){var t=F();return this.copyTo(t),t},w.prototype.intValue=function zt(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function Yt(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function Gt(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function Xt(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function $t(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},w.prototype.equals=function Qt(t){return 0==this.compareTo(t)},w.prototype.min=function Zt(t){return this.compareTo(t)<0?this:t},w.prototype.max=function te(t){return this.compareTo(t)>0?this:t},w.prototype.and=function ee(t){var e=F();return this.bitwiseTo(t,U,e),e},w.prototype.or=function re(t){var e=F();return this.bitwiseTo(t,B,e),e},w.prototype.xor=function ne(t){var e=F();return this.bitwiseTo(t,O,e),e},w.prototype.andNot=function ie(t){var e=F();return this.bitwiseTo(t,j,e),e},w.prototype.not=function oe(){for(var t=F(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},w.prototype.shiftLeft=function se(t){var e=F();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},w.prototype.shiftRight=function ae(t){var e=F();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},w.prototype.getLowestSetBit=function ue(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+M(this[t]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function ce(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=H(this[r]^e);return t},w.prototype.testBit=function he(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},w.prototype.setBit=function le(t){return this.changeBit(t,B)},w.prototype.clearBit=function fe(t){return this.changeBit(t,j)},w.prototype.flipBit=function ge(t){return this.changeBit(t,O)},w.prototype.add=function de(t){var e=F();return this.addTo(t,e),e},w.prototype.subtract=function pe(t){var e=F();return this.subTo(t,e),e},w.prototype.multiply=function ve(t){var e=F();return this.multiplyTo(t,e),e},w.prototype.divide=function ye(t){var e=F();return this.divRemTo(t,e,null),e},w.prototype.remainder=function me(t){var e=F();return this.divRemTo(t,null,e),e},w.prototype.divideAndRemainder=function _e(t){var e=F(),r=F();return this.divRemTo(t,e,r),new Array(e,r)},w.prototype.modPow=function Se(t,e){var r,n,i=t.bitLength(),o=I(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new L(e):e.isEven()?new q(e):new N(e);var s=new Array,a=3,u=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),r>1){var h=F();for(n.sqrTo(s[1],h);a<=c;)s[a]=F(),n.mulTo(h,s[a-2],s[a]),a+=2}var l,f,g=t.t-1,d=!0,p=F();for(i=D(t[g])-1;g>=0;){for(i>=u?l=t[g]>>i-u&c:(l=(t[g]&(1<<i+1)-1)<<u-i,g>0&&(l|=t[g-1]>>this.DB+i-u)),a=r;0==(1&l);)l>>=1,--a;if((i-=a)<0&&(i+=this.DB,--g),d)s[l].copyTo(o),d=!1;else{for(;a>1;)n.sqrTo(o,p),n.sqrTo(p,o),a-=2;a>0?n.sqrTo(o,p):(f=o,o=p,p=f),n.mulTo(p,s[l],o)}for(;g>=0&&0==(t[g]&1<<i);)n.sqrTo(o,p),f=o,o=p,p=f,--i<0&&(i=this.DB-1,--g)}return n.revert(o)},w.prototype.modInverse=function be(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return w.ZERO;for(var r=t.clone(),n=this.clone(),i=I(1),o=I(0),s=I(0),a=I(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(a,o)):(n.subTo(r,n),e&&s.subTo(i,s),a.subTo(o,a))}return 0!=n.compareTo(w.ONE)?w.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a},w.prototype.pow=function we(t){return this.exp(t,new V)},w.prototype.gcd=function Fe(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},w.prototype.isProbablePrime=function Ee(t){var e,r=this.abs();if(1==r.t&&r[0]<=Tt[Tt.length-1]){for(e=0;e<Tt.length;++e)if(r[0]==Tt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Tt.length;){for(var n=Tt[e],i=e+1;i<Tt.length&&n<Rt;)n*=Tt[i++];for(n=r.modInt(n);e<i;)if(n%Tt[e++]==0)return!1}return r.millerRabin(t)},w.prototype.square=function xe(){var t=F();return this.squareTo(t),t},It.prototype.init=function Ae(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},It.prototype.next=function ke(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var Pe,Ce,Te;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */function Re(){!function t(e){Ce[Te++]^=255&e,Ce[Te++]^=e>>8&255,Ce[Te++]^=e>>16&255,Ce[Te++]^=e>>24&255,Te>=256&&(Te-=256)}((new Date).getTime())}if(null==Ce){var Ie;if(Ce=new Array,Te=0,void 0!==p&&(void 0!==p.crypto||void 0!==p.msCrypto)){var De=p.crypto||p.msCrypto;if(De.getRandomValues){var Le=new Uint8Array(32);for(De.getRandomValues(Le),Ie=0;Ie<32;++Ie)Ce[Te++]=Le[Ie]}else if(\"Netscape\"==d.appName&&d.appVersion<\"5\"){var Ne=p.crypto.random(32);for(Ie=0;Ie<Ne.length;++Ie)Ce[Te++]=255&Ne.charCodeAt(Ie)}}for(;Te<256;)Ie=Math.floor(65536*Math.random()),Ce[Te++]=Ie>>>8,Ce[Te++]=255&Ie;Te=0,Re()}function Ue(){if(null==Pe){for(Re(),(Pe=function t(){return new It}()).init(Ce),Te=0;Te<Ce.length;++Te)Ce[Te]=0;Te=0}return Pe.next()}function Be(){}\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction Oe(t,e){return new w(t,e)}function je(t,e,r){for(var n=\"\",i=0;n.length<e;)n+=r(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function Me(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction He(t,e){this.x=e,this.q=t}function Ve(t,e,r,n){this.curve=t,this.x=e,this.y=r,this.z=null==n?w.ONE:n,this.zinv=null}function Ke(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new Ve(this,null,null)}Be.prototype.nextBytes=function qe(t){var e;for(e=0;e<t.length;++e)t[e]=Ue()},Me.prototype.doPublic=function Je(t){return t.modPowInt(this.e,this.n)},Me.prototype.setPublic=function We(t,e){if(this.isPublic=!0,this.isPrivate=!1,\"string\"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw\"Invalid RSA public key\";this.n=Oe(t,16),this.e=parseInt(e,16)}},Me.prototype.encrypt=function ze(t){var e=function r(t,e){if(e<t.length+11)throw\"Message too long for RSA\";for(var r=new Array,n=t.length-1;n>=0&&e>0;){var i=t.charCodeAt(n--);i<128?r[--e]=i:i>127&&i<2048?(r[--e]=63&i|128,r[--e]=i>>6|192):(r[--e]=63&i|128,r[--e]=i>>6&63|128,r[--e]=i>>12|224)}r[--e]=0;for(var o=new Be,s=new Array;e>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);r[--e]=s[0]}return r[--e]=2,r[--e]=0,new w(r)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:\"0\"+i},Me.prototype.encryptOAEP=function Ye(t,e,r){var n=function i(t,e,r,n){var i=Sr.crypto.MessageDigest,o=Sr.crypto.Util,s=null;if(r||(r=\"sha1\"),\"string\"==typeof r&&(s=i.getCanonicalAlgName(r),n=i.getHashLength(s),r=function t(e){return Lr(o.hashHex(Nr(e),s))}),t.length+2*n+2>e)throw\"Message too long for RSA\";var a,u=\"\";for(a=0;a<e-t.length-2*n-2;a+=1)u+=\"\\0\";var c=r(\"\")+u+\"\u0001\"+t,h=new Array(n);(new Be).nextBytes(h);var l=je(h,c.length,r),f=[];for(a=0;a<c.length;a+=1)f[a]=c.charCodeAt(a)^l.charCodeAt(a);var g=je(f,h.length,r),d=[0];for(a=0;a<h.length;a+=1)d[a+1]=h[a]^g.charCodeAt(a);return new w(d.concat(f))}(t,this.n.bitLength()+7>>3,e,r);if(null==n)return null;var o=this.doPublic(n);if(null==o)return null;var s=o.toString(16);return 0==(1&s.length)?s:\"0\"+s},Me.prototype.type=\"RSA\",He.prototype.equals=function Ge(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},He.prototype.toBigInteger=function Xe(){return this.x},He.prototype.negate=function $e(){return new He(this.q,this.x.negate().mod(this.q))},He.prototype.add=function Qe(t){return new He(this.q,this.x.add(t.toBigInteger()).mod(this.q))},He.prototype.subtract=function Ze(t){return new He(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},He.prototype.multiply=function tr(t){return new He(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},He.prototype.square=function er(){return new He(this.q,this.x.square().mod(this.q))},He.prototype.divide=function rr(t){return new He(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},Ve.prototype.getX=function nr(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Ve.prototype.getY=function ir(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Ve.prototype.equals=function or(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(w.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(w.ZERO))},Ve.prototype.isInfinity=function sr(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},Ve.prototype.negate=function ar(){return new Ve(this.curve,this.x,this.y.negate(),this.z)},Ve.prototype.add=function ur(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(w.ZERO.equals(r))return w.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new w(\"3\"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(t.x.toBigInteger(),t.y.toBigInteger(),r.square()),a=s.multiply(r),u=i.multiply(s),c=e.square().multiply(this.z),h=c.subtract(u.shiftLeft(1)).multiply(t.z).subtract(a).multiply(r).mod(this.curve.q),l=u.multiply(n).multiply(e).subtract(o.multiply(a)).subtract(c.multiply(e)).multiply(t.z).add(e.multiply(a)).mod(this.curve.q),f=a.multiply(this.z).multiply(t.z).mod(this.curve.q);return new Ve(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(l),f)},Ve.prototype.twice=function cr(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new w(\"3\"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=e.square().multiply(t);w.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=s.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new Ve(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},Ve.prototype.multiply=function hr(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new w(\"3\")),i=this.negate(),o=this,s=this.curve.q.subtract(t),a=s.multiply(new w(\"3\")),u=new Ve(this.curve,this.x,this.y),c=u.negate();for(e=n.bitLength()-2;e>0;--e){o=o.twice();var h=n.testBit(e);h!=r.testBit(e)&&(o=o.add(h?this:i))}for(e=a.bitLength()-2;e>0;--e){u=u.twice();var l=a.testBit(e);l!=s.testBit(e)&&(u=u.add(l?u:c))}return o},Ve.prototype.multiplyTwo=function lr(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i},Ke.prototype.getQ=function fr(){return this.q},Ke.prototype.getA=function gr(){return this.a},Ke.prototype.getB=function dr(){return this.b},Ke.prototype.equals=function pr(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},Ke.prototype.getInfinity=function vr(){return this.infinity},Ke.prototype.fromBigInteger=function yr(t){return new He(this.q,t)},Ke.prototype.decodePointHex=function mr(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,r=t.substr(2,e),n=t.substr(e+2,e);return new Ve(this,this.fromBigInteger(new w(r,16)),this.fromBigInteger(new w(n,16)));default:return null}},\n/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib\n */\nHe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Ve.prototype.getEncoded=function(t){var e=function t(e,r){var n=e.toByteArrayUnsigned();if(r<n.length)n=n.slice(n.length-r);else for(;r>n.length;)n.unshift(0);return n},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=e(r,32);return t?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(n,32))),i},Ve.decodeFrom=function(t,e){e[0];var r=e.length-1,n=e.slice(1,1+r/2),i=e.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var o=new w(n),s=new w(i);return new Ve(t,t.fromBigInteger(o),t.fromBigInteger(s))},Ve.decodeFromHex=function(t,e){e.substr(0,2);var r=e.length-2,n=e.substr(2,r/2),i=e.substr(2+r/2,r/2),o=new w(n,16),s=new w(i,16);return new Ve(t,t.fromBigInteger(o),t.fromBigInteger(s))},Ve.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),r=t.y.subtract(this.y).divide(e),n=r.square().subtract(this.x).subtract(t.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new Ve(this.curve,n,i)},Ve.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(w.valueOf(2)),e=this.curve.fromBigInteger(w.valueOf(3)),r=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),n=r.square().subtract(this.x.multiply(t)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new Ve(this.curve,n,i)},Ve.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new w(\"3\")),i=this.negate(),o=this;for(e=n.bitLength()-2;e>0;--e){o=o.twice();var s=n.testBit(e);s!=r.testBit(e)&&(o=o.add2D(s?this:i))}return o},Ve.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=e.multiply(e).mod(i),s=t.multiply(t).multiply(t).add(r.multiply(t)).add(n).mod(i);return o.equals(s)},Ve.prototype.toString=function(){return\"(\"+this.getX().toBigInteger().toString()+\",\"+this.getY().toBigInteger().toString()+\")\"},Ve.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error(\"Point is at infinity.\");var e=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(e.compareTo(w.ONE)<0||e.compareTo(t.subtract(w.ONE))>0)throw new Error(\"x coordinate out of bounds\");if(r.compareTo(w.ONE)<0||r.compareTo(t.subtract(w.ONE))>0)throw new Error(\"y coordinate out of bounds\");if(!this.isOnCurve())throw new Error(\"Point is not on the curve.\");if(this.multiply(t).isInfinity())throw new Error(\"Point is not a scalar multiple of G.\");return!0};\n/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval\n */\nvar _r=function(){var t=new RegExp('(?:false|true|null|[\\\\{\\\\}\\\\[\\\\]]|(?:-?\\\\b(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\\\b)|(?:\"(?:[^\\\\0-\\\\x08\\\\x0a-\\\\x1f\"\\\\\\\\]|\\\\\\\\(?:[\"/\\\\\\\\bfnrt]|u[0-9A-Fa-f]{4}))*\"))',\"g\"),e=new RegExp(\"\\\\\\\\(?:([^u])|u(.{4}))\",\"g\"),r={'\"':'\"',\"/\":\"/\",\"\\\\\":\"\\\\\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\"};function n(t,e,n){return e?r[e]:String.fromCharCode(parseInt(n,16))}var i=new String(\"\"),o=Object.hasOwnProperty;return function(r,s){var a,u,c=r.match(t),h=c[0],l=!1;\"{\"===h?a={}:\"[\"===h?a=[]:(a=[],l=!0);for(var f=[a],d=1-l,p=c.length;d<p;++d){var v;switch((h=c[d]).charCodeAt(0)){default:(v=f[0])[u||v.length]=+h,u=void 0;break;case 34:if(-1!==(h=h.substring(1,h.length-1)).indexOf(\"\\\\\")&&(h=h.replace(e,n)),v=f[0],!u){if(!(v instanceof Array)){u=h||i;break}u=v.length}v[u]=h,u=void 0;break;case 91:v=f[0],f.unshift(v[u||v.length]=[]),u=void 0;break;case 93:f.shift();break;case 102:(v=f[0])[u||v.length]=!1,u=void 0;break;case 110:(v=f[0])[u||v.length]=null,u=void 0;break;case 116:(v=f[0])[u||v.length]=!0,u=void 0;break;case 123:v=f[0],f.unshift(v[u||v.length]={}),u=void 0;break;case 125:f.shift()}}if(l){if(1!==f.length)throw new Error;a=a[0]}else if(f.length)throw new Error;if(s){a=function t(e,r){var n=e[r];if(n&&\"object\"===(void 0===n?\"undefined\":g(n))){var i=null;for(var a in n)if(o.call(n,a)&&n!==e){var u=t(n,a);void 0!==u?n[a]=u:(i||(i=[]),i.push(a))}if(i)for(var c=i.length;--c>=0;)delete n[i[c]]}return s.call(e,r,n)}({\"\":a},\"\")}return a}}();void 0!==Sr&&Sr||(e.KJUR=Sr={}),void 0!==Sr.asn1&&Sr.asn1||(Sr.asn1={}),Sr.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e=\"0\"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if(\"-\"!=e.substr(0,1))e.length%2==1?e=\"0\"+e:e.match(/^[0-7]/)||(e=\"00\"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n=\"\",i=0;i<r;i++)n+=\"f\";e=new w(n,16).xor(t).add(w.ONE).toString(16).replace(/^-/,\"\")}return e},this.getPEMStringFromHex=function(t,e){return jr(t,e)},this.newObject=function(t){var e=Sr.asn1,r=e.ASN1Object,n=e.DERBoolean,i=e.DERInteger,o=e.DERBitString,s=e.DEROctetString,a=e.DERNull,u=e.DERObjectIdentifier,c=e.DEREnumerated,h=e.DERUTF8String,l=e.DERNumericString,f=e.DERPrintableString,g=e.DERTeletexString,d=e.DERIA5String,p=e.DERUTCTime,v=e.DERGeneralizedTime,y=e.DERVisibleString,m=e.DERBMPString,_=e.DERSequence,S=e.DERSet,b=e.DERTaggedObject,w=e.ASN1Util.newObject;if(t instanceof e.ASN1Object)return t;var F=Object.keys(t);if(1!=F.length)throw new Error(\"key of param shall be only one.\");var E=F[0];if(-1==\":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:\".indexOf(\":\"+E+\":\"))throw new Error(\"undefined key: \"+E);if(\"bool\"==E)return new n(t[E]);if(\"int\"==E)return new i(t[E]);if(\"bitstr\"==E)return new o(t[E]);if(\"octstr\"==E)return new s(t[E]);if(\"null\"==E)return new a(t[E]);if(\"oid\"==E)return new u(t[E]);if(\"enum\"==E)return new c(t[E]);if(\"utf8str\"==E)return new h(t[E]);if(\"numstr\"==E)return new l(t[E]);if(\"prnstr\"==E)return new f(t[E]);if(\"telstr\"==E)return new g(t[E]);if(\"ia5str\"==E)return new d(t[E]);if(\"utctime\"==E)return new p(t[E]);if(\"gentime\"==E)return new v(t[E]);if(\"visstr\"==E)return new y(t[E]);if(\"bmpstr\"==E)return new m(t[E]);if(\"asn1\"==E)return new r(t[E]);if(\"seq\"==E){for(var x=t[E],A=[],k=0;k<x.length;k++){var P=w(x[k]);A.push(P)}return new _({array:A})}if(\"set\"==E){for(x=t[E],A=[],k=0;k<x.length;k++){P=w(x[k]);A.push(P)}return new S({array:A})}if(\"tag\"==E){var C=t[E];if(\"[object Array]\"===Object.prototype.toString.call(C)&&3==C.length){var T=w(C[2]);return new b({tag:C[0],explicit:C[1],obj:T})}return new b(C)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},Sr.asn1.ASN1Util.oidHexToInt=function(t){for(var e=\"\",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+\".\"+r%40,\"\"),i=2;i<t.length;i+=2){var o=(\"00000000\"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);if(n+=o.substr(1,7),\"0\"==o.substr(0,1))e=e+\".\"+new w(n,2).toString(10),n=\"\"}return e},Sr.asn1.ASN1Util.oidIntToHex=function(t){var e=function t(e){var r=e.toString(16);return 1==r.length&&(r=\"0\"+r),r},r=function t(r){var n=\"\",i=new w(r,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var s=\"\",a=0;a<o;a++)s+=\"0\";i=s+i;for(a=0;a<i.length-1;a+=7){var u=i.substr(a,7);a!=i.length-7&&(u=\"1\"+u),n+=e(parseInt(u,2))}return n};if(!t.match(/^[0-9.]+$/))throw\"malformed oid string: \"+t;var n=\"\",i=t.split(\".\"),o=40*parseInt(i[0])+parseInt(i[1]);n+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);return n},Sr.asn1.ASN1Object=function(t){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error(\"this.hV is null or undefined\");if(this.hV.length%2==1)throw new Error(\"value hex must be even length: n=\"+\"\".length+\",v=\"+this.hV);var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e=\"0\"+e),t<128)return e;var r=e.length/2;if(r>15)throw\"ASN.1 length too long to represent by 8x: n = \"+t.toString(16);return(128+r).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return\"\"},this.setByParam=function(t){this.params=t},null!=t&&null!=t.tlv&&(this.hTLV=t.tlv,this.isModified=!1)},Sr.asn1.DERAbstractString=function(t){Sr.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Ir(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(\"string\"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},Zr(Sr.asn1.DERAbstractString,Sr.asn1.ASN1Object),Sr.asn1.DERAbstractTime=function(t){Sr.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){var e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e)},this.formatDate=function(t,e,r){var n=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());\"utc\"==e&&(o=o.substr(2,2));var s=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var u=n(String(a),3);s=s+\".\"+(u=u.replace(/[0]+$/,\"\"))}}return s+\"Z\"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join(\"0\")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=kr(t)},this.setByDateValue=function(t,e,r,n,i,o){var s=new Date(Date.UTC(t,e-1,r,n,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},Zr(Sr.asn1.DERAbstractTime,Sr.asn1.ASN1Object),Sr.asn1.DERAbstractStructured=function(t){Sr.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},Zr(Sr.asn1.DERAbstractStructured,Sr.asn1.ASN1Object),Sr.asn1.DERBoolean=function(t){Sr.asn1.DERBoolean.superclass.constructor.call(this),this.hT=\"01\",this.hTLV=0==t?\"010100\":\"0101ff\"},Zr(Sr.asn1.DERBoolean,Sr.asn1.ASN1Object),Sr.asn1.DERInteger=function(t){Sr.asn1.DERInteger.superclass.constructor.call(this),this.hT=\"02\",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Sr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new w(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):\"number\"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Zr(Sr.asn1.DERInteger,Sr.asn1.ASN1Object),Sr.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Sr.asn1.ASN1Util.newObject(t.obj);t.hex=\"00\"+e.getEncodedHex()}Sr.asn1.DERBitString.superclass.constructor.call(this),this.hT=\"03\",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw\"unused bits shall be from 0 to 7: u = \"+t;var r=\"0\"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,\"\")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+=\"0\";var n=\"\";for(r=0;r<t.length-1;r+=8){var i=t.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o=\"0\"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV=\"0\"+e+n},this.setByBooleanArray=function(t){for(var e=\"\",r=0;r<t.length;r++)1==t[r]?e+=\"1\":e+=\"0\";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(\"string\"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},Zr(Sr.asn1.DERBitString,Sr.asn1.ASN1Object),Sr.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Sr.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}Sr.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT=\"04\"},Zr(Sr.asn1.DEROctetString,Sr.asn1.DERAbstractString),Sr.asn1.DERNull=function(){Sr.asn1.DERNull.superclass.constructor.call(this),this.hT=\"05\",this.hTLV=\"0500\"},Zr(Sr.asn1.DERNull,Sr.asn1.ASN1Object),Sr.asn1.DERObjectIdentifier=function(t){Sr.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT=\"06\",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var e=function r(t){var e=function t(e){var r=e.toString(16);return 1==r.length&&(r=\"0\"+r),r},r=function t(r){var n=\"\",i=parseInt(r,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var s=\"\",a=0;a<o;a++)s+=\"0\";i=s+i;for(a=0;a<i.length-1;a+=7){var u=i.substr(a,7);a!=i.length-7&&(u=\"1\"+u),n+=e(parseInt(u,2))}return n};try{if(!t.match(/^[0-9.]+$/))return null;var n=\"\",i=t.split(\".\"),o=40*parseInt(i[0],10)+parseInt(i[1],10);n+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);return n}catch(t){return null}}(t);if(null==e)throw new Error(\"malformed oid string: \"+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=Sr.asn1.x509.OID.name2oid(t);if(\"\"===e)throw new Error(\"DERObjectIdentifier oidName undefined: \"+t);this.setValueOidString(e)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){\"string\"==typeof t?this.setValueNameOrOid(t):void 0!==t.oid?this.setValueNameOrOid(t.oid):void 0!==t.name?this.setValueNameOrOid(t.name):void 0!==t.hex&&this.setValueHex(t.hex)},void 0!==t&&this.setByParam(t)},Zr(Sr.asn1.DERObjectIdentifier,Sr.asn1.ASN1Object),Sr.asn1.DEREnumerated=function(t){Sr.asn1.DEREnumerated.superclass.constructor.call(this),this.hT=\"0a\",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Sr.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new w(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):\"number\"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Zr(Sr.asn1.DEREnumerated,Sr.asn1.ASN1Object),Sr.asn1.DERUTF8String=function(t){Sr.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT=\"0c\"},Zr(Sr.asn1.DERUTF8String,Sr.asn1.DERAbstractString),Sr.asn1.DERNumericString=function(t){Sr.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT=\"12\"},Zr(Sr.asn1.DERNumericString,Sr.asn1.DERAbstractString),Sr.asn1.DERPrintableString=function(t){Sr.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT=\"13\"},Zr(Sr.asn1.DERPrintableString,Sr.asn1.DERAbstractString),Sr.asn1.DERTeletexString=function(t){Sr.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT=\"14\"},Zr(Sr.asn1.DERTeletexString,Sr.asn1.DERAbstractString),Sr.asn1.DERIA5String=function(t){Sr.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT=\"16\"},Zr(Sr.asn1.DERIA5String,Sr.asn1.DERAbstractString),Sr.asn1.DERVisibleString=function(t){Sr.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT=\"1a\"},Zr(Sr.asn1.DERVisibleString,Sr.asn1.DERAbstractString),Sr.asn1.DERBMPString=function(t){Sr.asn1.DERBMPString.superclass.constructor.call(this,t),this.hT=\"1e\"},Zr(Sr.asn1.DERBMPString,Sr.asn1.DERAbstractString),Sr.asn1.DERUTCTime=function(t){Sr.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT=\"17\",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,\"utc\"),this.hV=kr(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,\"utc\"),this.hV=kr(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):\"string\"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},Zr(Sr.asn1.DERUTCTime,Sr.asn1.DERAbstractTime),Sr.asn1.DERGeneralizedTime=function(t){Sr.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT=\"18\",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,\"gen\",this.withMillis),this.hV=kr(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,\"gen\",this.withMillis),this.hV=kr(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):\"string\"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},Zr(Sr.asn1.DERGeneralizedTime,Sr.asn1.DERAbstractTime),Sr.asn1.DERSequence=function(t){Sr.asn1.DERSequence.superclass.constructor.call(this,t),this.hT=\"30\",this.getFreshValueHex=function(){for(var t=\"\",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},Zr(Sr.asn1.DERSequence,Sr.asn1.DERAbstractStructured),Sr.asn1.DERSet=function(t){Sr.asn1.DERSet.superclass.constructor.call(this,t),this.hT=\"31\",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(\"\"),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},Zr(Sr.asn1.DERSet,Sr.asn1.DERAbstractStructured),Sr.asn1.DERTaggedObject=function(t){Sr.asn1.DERTaggedObject.superclass.constructor.call(this);var e=Sr.asn1;this.hT=\"a0\",this.hV=\"\",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){null!=t.tag&&(this.hT=t.tag),null!=t.explicit&&(this.isExplicit=t.explicit),null!=t.tage&&(this.hT=t.tage,this.isExplicit=!0),null!=t.tagi&&(this.hT=t.tagi,this.isExplicit=!1),null!=t.obj&&(t.obj instanceof e.ASN1Object?(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):\"object\"==g(t.obj)&&(this.asn1Object=e.ASN1Util.newObject(t.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=t&&this.setByParam(t)},Zr(Sr.asn1.DERTaggedObject,Sr.asn1.ASN1Object);var Sr,br,wr,Fr=new function(){};function Er(t){for(var e=new Array,r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function xr(t){for(var e=\"\",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function Ar(t){for(var e=\"\",r=0;r<t.length;r++){var n=t[r].toString(16);1==n.length&&(n=\"0\"+n),e+=n}return e}function kr(t){return Ar(Er(t))}function Pr(t){return t=(t=(t=t.replace(/\\=/g,\"\")).replace(/\\+/g,\"-\")).replace(/\\//g,\"_\")}function Cr(t){return t.length%4==2?t+=\"==\":t.length%4==3&&(t+=\"=\"),t=(t=t.replace(/-/g,\"+\")).replace(/_/g,\"/\")}function Tr(t){return t.length%2==1&&(t=\"0\"+t),Pr(_(t))}function Rr(t){return S(Cr(t))}function Ir(t){return Kr(Gr(t))}function Dr(t){return decodeURIComponent(qr(t))}function Lr(t){for(var e=\"\",r=0;r<t.length-1;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function Nr(t){for(var e=\"\",r=0;r<t.length;r++)e+=(\"0\"+t.charCodeAt(r).toString(16)).slice(-2);return e}function Ur(t){return _(t)}function Br(t){var e=Ur(t).replace(/(.{64})/g,\"$1\\r\\n\");return e=e.replace(/\\r\\n$/,\"\")}function Or(t){return S(t.replace(/[^0-9A-Za-z\\/+=]*/g,\"\"))}function jr(t,e){return\"-----BEGIN \"+e+\"-----\\r\\n\"+Br(t)+\"\\r\\n-----END \"+e+\"-----\\r\\n\"}function Mr(t,e){if(-1==t.indexOf(\"-----BEGIN \"))throw\"can't find PEM header: \"+e;return Or(t=void 0!==e?(t=t.replace(new RegExp(\"^[^]*-----BEGIN \"+e+\"-----\"),\"\")).replace(new RegExp(\"-----END \"+e+\"-----[^]*$\"),\"\"):(t=t.replace(/^[^]*-----BEGIN [^-]+-----/,\"\")).replace(/-----END [^-]+-----[^]*$/,\"\"))}function Hr(t){var e,r,n,i,o,s,a,u,c,h,l;if(l=t.match(/^(\\d{2}|\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(|\\.\\d+)Z$/))return u=l[1],e=parseInt(u),2===u.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),r=parseInt(l[2])-1,n=parseInt(l[3]),i=parseInt(l[4]),o=parseInt(l[5]),s=parseInt(l[6]),a=0,\"\"!==(c=l[7])&&(h=(c.substr(1)+\"00\").substr(0,3),a=parseInt(h)),Date.UTC(e,r,n,i,o,s,a);throw\"unsupported zulu format: \"+t}function Vr(t){return~~(Hr(t)/1e3)}function Kr(t){return t.replace(/%/g,\"\")}function qr(t){return t.replace(/(..)/g,\"%$1\")}function Jr(t){var e=\"malformed IPv6 address\";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var r=(t=t.toLowerCase()).split(\":\").length-1;if(r<2)throw e;var n=\":\".repeat(7-r+2),i=(t=t.replace(\"::\",n)).split(\":\");if(8!=i.length)throw e;for(var o=0;o<8;o++)i[o]=(\"0000\"+i[o]).slice(-4);return i.join(\"\")}function Wr(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw\"malformed IPv6 address octet\";for(var e=(t=t.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)e[r]=e[r].replace(/^0+/,\"\"),\"\"==e[r]&&(e[r]=\"0\");var n=(t=\":\"+e.join(\":\")+\":\").match(/:(0:){2,}/g);if(null===n)return t.slice(1,-1);var i=\"\";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(t=t.replace(i,\"::\")).slice(1,-1)}function zr(t){var e=\"malformed hex value\";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=t.length)return 32==t.length?Wr(t):t;try{return parseInt(t.substr(0,2),16)+\".\"+parseInt(t.substr(2,2),16)+\".\"+parseInt(t.substr(4,2),16)+\".\"+parseInt(t.substr(6,2),16)}catch(t){throw e}}function Yr(t){return t.match(/.{4}/g).map((function e(t){var e=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2),16);if(0==e&r<128)return String.fromCharCode(r);if(e<8){var n=128|63&r;return Dr((192|(7&e)<<3|(192&r)>>6).toString(16)+n.toString(16))}n=128|(15&e)<<2|(192&r)>>6;var i=128|63&r;return Dr((224|(240&e)>>4).toString(16)+n.toString(16)+i.toString(16))})).join(\"\")}function Gr(t){for(var e=encodeURIComponent(t),r=\"\",n=0;n<e.length;n++)\"%\"==e[n]?(r+=e.substr(n,3),n+=2):r=r+\"%\"+kr(e[n]);return r}function Xr(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))}function $r(t){return t.length%2==1?\"0\"+t:t.substr(0,1)>\"7\"?\"00\"+t:t}Fr.getLblen=function(t,e){if(\"8\"!=t.substr(e+2,1))return 1;var r=parseInt(t.substr(e+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},Fr.getL=function(t,e){var r=Fr.getLblen(t,e);return r<1?\"\":t.substr(e+2,2*r)},Fr.getVblen=function(t,e){var r;return\"\"==(r=Fr.getL(t,e))?-1:(\"8\"===r.substr(0,1)?new w(r.substr(2),16):new w(r,16)).intValue()},Fr.getVidx=function(t,e){var r=Fr.getLblen(t,e);return r<0?r:e+2*(r+1)},Fr.getV=function(t,e){var r=Fr.getVidx(t,e),n=Fr.getVblen(t,e);return t.substr(r,2*n)},Fr.getTLV=function(t,e){return t.substr(e,2)+Fr.getL(t,e)+Fr.getV(t,e)},Fr.getTLVblen=function(t,e){return 2+2*Fr.getLblen(t,e)+2*Fr.getVblen(t,e)},Fr.getNextSiblingIdx=function(t,e){return Fr.getVidx(t,e)+2*Fr.getVblen(t,e)},Fr.getChildIdx=function(t,e){var r,n,i,o=Fr,s=[];r=o.getVidx(t,e),n=2*o.getVblen(t,e),\"03\"==t.substr(e,2)&&(r+=2,n-=2),i=0;for(var a=r;i<=n;){var u=o.getTLVblen(t,a);if((i+=u)<=n&&s.push(a),a+=u,i>=n)break}return s},Fr.getNthChildIdx=function(t,e,r){return Fr.getChildIdx(t,e)[r]},Fr.getIdxbyList=function(t,e,r,n){var i,o,s=Fr;return 0==r.length?void 0!==n&&t.substr(e,2)!==n?-1:e:(i=r.shift())>=(o=s.getChildIdx(t,e)).length?-1:s.getIdxbyList(t,o[i],r,n)},Fr.getIdxbyListEx=function(t,e,r,n){var i,o,s=Fr;if(0==r.length)return void 0!==n&&t.substr(e,2)!==n?-1:e;i=r.shift(),o=s.getChildIdx(t,e);for(var a=0,u=0;u<o.length;u++){var c=t.substr(o[u],2);if(\"number\"==typeof i&&!s.isContextTag(c)&&a==i||\"string\"==typeof i&&s.isContextTag(c,i))return s.getIdxbyListEx(t,o[u],r,n);s.isContextTag(c)||a++}return-1},Fr.getTLVbyList=function(t,e,r,n){var i=Fr,o=i.getIdxbyList(t,e,r,n);return-1==o||o>=t.length?null:i.getTLV(t,o)},Fr.getTLVbyListEx=function(t,e,r,n){var i=Fr,o=i.getIdxbyListEx(t,e,r,n);return-1==o?null:i.getTLV(t,o)},Fr.getVbyList=function(t,e,r,n,i){var o,s,a=Fr;return-1==(o=a.getIdxbyList(t,e,r,n))||o>=t.length?null:(s=a.getV(t,o),!0===i&&(s=s.substr(2)),s)},Fr.getVbyListEx=function(t,e,r,n,i){var o,s,a=Fr;return-1==(o=a.getIdxbyListEx(t,e,r,n))?null:(s=a.getV(t,o),\"03\"==t.substr(o,2)&&!1!==i&&(s=s.substr(2)),s)},Fr.getInt=function(t,e,r){null==r&&(r=-1);try{var n=t.substr(e,2);if(\"02\"!=n&&\"03\"!=n)return r;var i=Fr.getV(t,e);return\"02\"==n?parseInt(i,16):function o(t){try{var e=t.substr(0,2);if(\"00\"==e)return parseInt(t.substr(2),16);var r=parseInt(e,16),n=t.substr(2),i=parseInt(n,16).toString(2);return\"0\"==i&&(i=\"00000000\"),i=i.slice(0,0-r),parseInt(i,2)}catch(t){return-1}}(i)}catch(t){return r}},Fr.getOID=function(t,e,r){null==r&&(r=null);try{return\"06\"!=t.substr(e,2)?r:function n(t){if(!Xr(t))return null;try{var e=[],r=t.substr(0,2),n=parseInt(r,16);e[0]=new String(Math.floor(n/40)),e[1]=new String(n%40);for(var i=t.substr(2),o=[],s=0;s<i.length/2;s++)o.push(parseInt(i.substr(2*s,2),16));var a=[],u=\"\";for(s=0;s<o.length;s++)128&o[s]?u+=Qr((127&o[s]).toString(2),7):(u+=Qr((127&o[s]).toString(2),7),a.push(new String(parseInt(u,2))),u=\"\");var c=e.join(\".\");return a.length>0&&(c=c+\".\"+a.join(\".\")),c}catch(t){return null}}(Fr.getV(t,e))}catch(t){return r}},Fr.getOIDName=function(t,e,r){null==r&&(r=null);try{var n=Fr.getOID(t,e,r);if(n==r)return r;var i=Sr.asn1.x509.OID.oid2name(n);return\"\"==i?n:i}catch(t){return r}},Fr.getString=function(t,e,r){null==r&&(r=null);try{return Lr(Fr.getV(t,e))}catch(t){return r}},Fr.hextooidstr=function(t){var e=function t(e,r){return e.length>=r?e:new Array(r-e.length+1).join(\"0\")+e},r=[],n=t.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var o=t.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var u=[],c=\"\";for(a=0;a<s.length;a++)128&s[a]?c+=e((127&s[a]).toString(2),7):(c+=e((127&s[a]).toString(2),7),u.push(new String(parseInt(c,2))),c=\"\");var h=r.join(\".\");return u.length>0&&(h=h+\".\"+u.join(\".\")),h},Fr.dump=function(t,e,r,n){var i=Fr,o=i.getV,s=i.dump,a=i.getChildIdx,u=t;t instanceof Sr.asn1.ASN1Object&&(u=t.getEncodedHex());var c=function t(e,r){return e.length<=2*r?e:e.substr(0,r)+\"..(total \"+e.length/2+\"bytes)..\"+e.substr(e.length-r,r)};void 0===e&&(e={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n=\"\");var h,l=e.ommit_long_octet;if(\"01\"==(h=u.substr(r,2)))return\"00\"==(f=o(u,r))?n+\"BOOLEAN FALSE\\n\":n+\"BOOLEAN TRUE\\n\";if(\"02\"==h)return n+\"INTEGER \"+c(f=o(u,r),l)+\"\\n\";if(\"03\"==h){var f=o(u,r);if(i.isASN1HEX(f.substr(2))){var g=n+\"BITSTRING, encapsulates\\n\";return g+=s(f.substr(2),e,0,n+\"  \")}return n+\"BITSTRING \"+c(f,l)+\"\\n\"}if(\"04\"==h){f=o(u,r);if(i.isASN1HEX(f)){g=n+\"OCTETSTRING, encapsulates\\n\";return g+=s(f,e,0,n+\"  \")}return n+\"OCTETSTRING \"+c(f,l)+\"\\n\"}if(\"05\"==h)return n+\"NULL\\n\";if(\"06\"==h){var d=o(u,r),p=Sr.asn1.ASN1Util.oidHexToInt(d),v=Sr.asn1.x509.OID.oid2name(p),y=p.replace(/\\./g,\" \");return\"\"!=v?n+\"ObjectIdentifier \"+v+\" (\"+y+\")\\n\":n+\"ObjectIdentifier (\"+y+\")\\n\"}if(\"0a\"==h)return n+\"ENUMERATED \"+parseInt(o(u,r))+\"\\n\";if(\"0c\"==h)return n+\"UTF8String '\"+Dr(o(u,r))+\"'\\n\";if(\"13\"==h)return n+\"PrintableString '\"+Dr(o(u,r))+\"'\\n\";if(\"14\"==h)return n+\"TeletexString '\"+Dr(o(u,r))+\"'\\n\";if(\"16\"==h)return n+\"IA5String '\"+Dr(o(u,r))+\"'\\n\";if(\"17\"==h)return n+\"UTCTime \"+Dr(o(u,r))+\"\\n\";if(\"18\"==h)return n+\"GeneralizedTime \"+Dr(o(u,r))+\"\\n\";if(\"1a\"==h)return n+\"VisualString '\"+Dr(o(u,r))+\"'\\n\";if(\"1e\"==h)return n+\"BMPString '\"+Yr(o(u,r))+\"'\\n\";if(\"30\"==h){if(\"3000\"==u.substr(r,4))return n+\"SEQUENCE {}\\n\";g=n+\"SEQUENCE\\n\";var m=e;if((2==(b=a(u,r)).length||3==b.length)&&\"06\"==u.substr(b[0],2)&&\"04\"==u.substr(b[b.length-1],2)){v=i.oidname(o(u,b[0]));var _=JSON.parse(JSON.stringify(e));_.x509ExtName=v,m=_}for(var S=0;S<b.length;S++)g+=s(u,m,b[S],n+\"  \");return g}if(\"31\"==h){g=n+\"SET\\n\";var b=a(u,r);for(S=0;S<b.length;S++)g+=s(u,e,b[S],n+\"  \");return g}if(0!=(128&(h=parseInt(h,16)))){var w=31&h;if(0!=(32&h)){for(g=n+\"[\"+w+\"]\\n\",b=a(u,r),S=0;S<b.length;S++)g+=s(u,e,b[S],n+\"  \");return g}f=o(u,r);if(Fr.isASN1HEX(f)){var g=n+\"[\"+w+\"]\\n\";return g+=s(f,e,0,n+\"  \")}return(\"68747470\"==f.substr(0,8)||\"subjectAltName\"===e.x509ExtName&&2==w)&&(f=Dr(f)),g=n+\"[\"+w+\"] \"+f+\"\\n\"}return n+\"UNKNOWN(\"+h+\") \"+o(u,r)+\"\\n\"},Fr.isContextTag=function(t,e){var r,n;t=t.toLowerCase();try{r=parseInt(t,16)}catch(t){return-1}if(void 0===e)return 128==(192&r);try{return null!=e.match(/^\\[[0-9]+\\]$/)&&(!((n=parseInt(e.substr(1,e.length-1),10))>31)&&(128==(192&r)&&(31&r)==n))}catch(t){return!1}},Fr.isASN1HEX=function(t){var e=Fr;if(t.length%2==1)return!1;var r=e.getVblen(t,0),n=t.substr(0,2),i=e.getL(t,0);return t.length-n.length-i.length==2*r},Fr.checkStrictDER=function(t,e,r,n,i){var o=Fr;if(void 0===r){if(\"string\"!=typeof t)throw new Error(\"not hex string\");if(t=t.toLowerCase(),!Sr.lang.String.isHex(t))throw new Error(\"not hex string\");r=t.length,i=(n=t.length/2)<128?1:Math.ceil(n.toString(16))+1}if(o.getL(t,e).length>2*i)throw new Error(\"L of TLV too long: idx=\"+e);var s=o.getVblen(t,e);if(s>n)throw new Error(\"value of L too long than hex: idx=\"+e);var a=o.getTLV(t,e),u=a.length-2-o.getL(t,e).length;if(u!==2*s)throw new Error(\"V string length and L's value not the same:\"+u+\"/\"+2*s);if(0===e&&t.length!=a.length)throw new Error(\"total length and TLV length unmatch:\"+t.length+\"!=\"+a.length);var c=t.substr(e,2);if(\"02\"===c){var h=o.getVidx(t,e);if(\"00\"==t.substr(h,2)&&t.charCodeAt(h+2)<56)throw new Error(\"not least zeros for DER INTEGER\")}if(32&parseInt(c,16)){for(var l=o.getVblen(t,e),f=0,g=o.getChildIdx(t,e),d=0;d<g.length;d++){f+=o.getTLV(t,g[d]).length,o.checkStrictDER(t,g[d],r,n,i)}if(2*l!=f)throw new Error(\"sum of children's TLV length and L unmatch: \"+2*l+\"!=\"+f)}},Fr.oidname=function(t){var e=Sr.asn1;Sr.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var r=e.x509.OID.oid2name(t);return\"\"===r&&(r=t),r},void 0!==Sr&&Sr||(e.KJUR=Sr={}),void 0!==Sr.lang&&Sr.lang||(Sr.lang={}),Sr.lang.String=function(){},\"function\"==typeof t?(e.utf8tob64u=br=function e(r){return Pr(t.from(r,\"utf8\").toString(\"base64\"))},e.b64utoutf8=wr=function e(r){return t.from(Cr(r),\"base64\").toString(\"utf8\")}):(e.utf8tob64u=br=function t(e){return Tr(Kr(Gr(e)))},e.b64utoutf8=wr=function t(e){return decodeURIComponent(qr(Rr(e)))}),Sr.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},Sr.lang.String.isHex=function(t){return Xr(t)},Sr.lang.String.isBase64=function(t){return!(!(t=t.replace(/\\s+/g,\"\")).match(/^[0-9A-Za-z+\\/]+={0,3}$/)||t.length%4!=0)},Sr.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=Cr(t),Sr.lang.String.isBase64(t))},Sr.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\\s+/g,\"\")).match(/^\\[[0-9,]+\\]$/)},Sr.lang.String.isPrintable=function(t){return null!==t.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},Sr.lang.String.isIA5=function(t){return null!==t.match(/^[\\x20-\\x21\\x23-\\x7f]*$/)},Sr.lang.String.isMail=function(t){return null!==t.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\\.[A-Za-z0-9]{1,}$/)};var Qr=function t(e,r,n){return null==n&&(n=\"0\"),e.length>=r?e:new Array(r-e.length+1).join(n)+e};function Zr(t,e){var r=function t(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e)}void 0!==Sr&&Sr||(e.KJUR=Sr={}),void 0!==Sr.crypto&&Sr.crypto||(Sr.crypto={}),Sr.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:\"3021300906052b0e03021a05000414\",sha224:\"302d300d06096086480165030402040500041c\",sha256:\"3031300d060960864801650304020105000420\",sha384:\"3041300d060960864801650304020205000430\",sha512:\"3051300d060960864801650304020305000440\",md2:\"3020300c06082a864886f70d020205000410\",md5:\"3020300c06082a864886f70d020505000410\",ripemd160:\"3021300906052b2403020105000414\"},this.DEFAULTPROVIDER={md5:\"cryptojs\",sha1:\"cryptojs\",sha224:\"cryptojs\",sha256:\"cryptojs\",sha384:\"cryptojs\",sha512:\"cryptojs\",ripemd160:\"cryptojs\",hmacmd5:\"cryptojs\",hmacsha1:\"cryptojs\",hmacsha224:\"cryptojs\",hmacsha256:\"cryptojs\",hmacsha384:\"cryptojs\",hmacsha512:\"cryptojs\",hmacripemd160:\"cryptojs\",MD5withRSA:\"cryptojs/jsrsa\",SHA1withRSA:\"cryptojs/jsrsa\",SHA224withRSA:\"cryptojs/jsrsa\",SHA256withRSA:\"cryptojs/jsrsa\",SHA384withRSA:\"cryptojs/jsrsa\",SHA512withRSA:\"cryptojs/jsrsa\",RIPEMD160withRSA:\"cryptojs/jsrsa\",MD5withECDSA:\"cryptojs/jsrsa\",SHA1withECDSA:\"cryptojs/jsrsa\",SHA224withECDSA:\"cryptojs/jsrsa\",SHA256withECDSA:\"cryptojs/jsrsa\",SHA384withECDSA:\"cryptojs/jsrsa\",SHA512withECDSA:\"cryptojs/jsrsa\",RIPEMD160withECDSA:\"cryptojs/jsrsa\",SHA1withDSA:\"cryptojs/jsrsa\",SHA224withDSA:\"cryptojs/jsrsa\",SHA256withDSA:\"cryptojs/jsrsa\",MD5withRSAandMGF1:\"cryptojs/jsrsa\",SHAwithRSAandMGF1:\"cryptojs/jsrsa\",SHA1withRSAandMGF1:\"cryptojs/jsrsa\",SHA224withRSAandMGF1:\"cryptojs/jsrsa\",SHA256withRSAandMGF1:\"cryptojs/jsrsa\",SHA384withRSAandMGF1:\"cryptojs/jsrsa\",SHA512withRSAandMGF1:\"cryptojs/jsrsa\",RIPEMD160withRSAandMGF1:\"cryptojs/jsrsa\"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:v.algo.MD5,sha1:v.algo.SHA1,sha224:v.algo.SHA224,sha256:v.algo.SHA256,sha384:v.algo.SHA384,sha512:v.algo.SHA512,ripemd160:v.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw\"alg not supported in Util.DIGESTINFOHEAD: \"+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,r){var n=this.getDigestInfoHex(t,e),i=r/4;if(n.length+22>i)throw\"key is too short for SigAlg: keylen=\"+r+\",\"+e;for(var o=\"0001\",s=\"00\"+n,a=\"\",u=i-o.length-s.length,c=0;c<u;c+=2)a+=\"ff\";return o+a+s},this.hashString=function(t,e){return new Sr.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new Sr.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return this.hashString(t,\"sha1\")},this.sha256=function(t){return this.hashString(t,\"sha256\")},this.sha256Hex=function(t){return this.hashHex(t,\"sha256\")},this.sha512=function(t){return this.hashString(t,\"sha512\")},this.sha512Hex=function(t){return this.hashHex(t,\"sha512\")},this.isKey=function(t){return t instanceof Me||t instanceof Sr.crypto.DSA||t instanceof Sr.crypto.ECDSA}},Sr.crypto.Util.md5=function(t){return new Sr.crypto.MessageDigest({alg:\"md5\",prov:\"cryptojs\"}).digestString(t)},Sr.crypto.Util.ripemd160=function(t){return new Sr.crypto.MessageDigest({alg:\"ripemd160\",prov:\"cryptojs\"}).digestString(t)},Sr.crypto.Util.SECURERANDOMGEN=new Be,Sr.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return Sr.crypto.Util.SECURERANDOMGEN.nextBytes(e),Ar(e)},Sr.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new w(Sr.crypto.Util.getRandomHexOfNbytes(t),16)},Sr.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,r=new Array((t-e)/8+1);return Sr.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<e&255^255)&r[0],Ar(r)},Sr.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new w(Sr.crypto.Util.getRandomHexOfNbits(t),16)},Sr.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var r=Sr.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(r))return r}},Sr.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var r=t.compareTo(e);if(1==r)throw\"biMin is greater than biMax\";if(0==r)return t;var n=e.subtract(t);return Sr.crypto.Util.getRandomBigIntegerZeroToMax(n).add(t)},Sr.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=Sr.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=Sr.crypto.Util.DEFAULTPROVIDER[t]),-1!=\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(t)&&\"cryptojs\"==e){try{this.md=Sr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+t+\"/\"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=v.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(v.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=\":sha256:\".indexOf(t)&&\"sjcl\"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+t+\"/\"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw\"updateString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digest=function(){throw\"digest() not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digestString=function(t){throw\"digestString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digestHex=function(t){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Sr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Sr.crypto.MessageDigest.getCanonicalAlgName=function(t){return\"string\"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,\"\")),t},Sr.crypto.MessageDigest.getHashLength=function(t){var e=Sr.crypto.MessageDigest,r=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[r])throw\"not supported algorithm: \"+t;return e.HASHLENGTH[r]},Sr.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},Sr.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t=\"hmacsha1\"),\"hmac\"!=(t=t.toLowerCase()).substr(0,4))throw\"setAlgAndProvider unsupported HMAC alg: \"+t;void 0===e&&(e=Sr.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+\"/\"+e;var r=t.substr(4);if(-1!=\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(r)&&\"cryptojs\"==e){try{var n=Sr.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=v.algo.HMAC.create(n,this.pass)}catch(t){throw\"setAlgAndProvider hash alg set fail hashAlg=\"+r+\"/\"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=v.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(v.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw\"updateString(str) not supported for this alg/prov: \"+this.algProv},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algProv},this.doFinal=function(){throw\"digest() not supported for this alg/prov: \"+this.algProv},this.doFinalString=function(t){throw\"digestString(str) not supported for this alg/prov: \"+this.algProv},this.doFinalHex=function(t){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algProv},this.setPassword=function(t){if(\"string\"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=Nr(t)),void(this.pass=v.enc.Hex.parse(e))}if(\"object\"!=(void 0===t?\"undefined\":g(t)))throw\"KJUR.crypto.Mac unsupported password type: \"+t;e=null;if(void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw\"Mac: wrong hex password: \"+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=Ir(t.utf8)),void 0!==t.rstr&&(e=Nr(t.rstr)),void 0!==t.b64&&(e=S(t.b64)),void 0!==t.b64u&&(e=Rr(t.b64u)),null==e)throw\"KJUR.crypto.Mac unsupported password type: \"+t;this.pass=v.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Sr.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Sr.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase(),\"rsaandmgf1\"==this.pubkeyAlgName&&\"sha\"==this.mdAlgName&&(this.mdAlgName=\"sha1\"))},this._zeroPaddingOfSignature=function(t,e){for(var r=\"\",n=e/4-t.length,i=0;i<n;i++)r+=\"0\";return r+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),\"cryptojs/jsrsa\"!=e)throw new Error(\"provider not supported: \"+e);if(-1!=\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(this.mdAlgName)){try{this.md=new Sr.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw new Error(\"setAlgAndProvider hash alg set fail alg=\"+this.mdAlgName+\"/\"+t)}this.init=function(t,e){var r=null;try{r=void 0===e?tn.getKey(t):tn.getKey(t,e)}catch(t){throw\"init failed:\"+t}if(!0===r.isPrivate)this.prvKey=r,this.state=\"SIGN\";else{if(!0!==r.isPublic)throw\"init failed.:\"+r;this.pubKey=r,this.state=\"VERIFY\"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==Sr.crypto.ECDSA&&(this.prvKey=new Sr.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Me&&\"rsaandmgf1\"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Me&&\"rsa\"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Sr.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Sr.crypto.DSA))throw\"Signature: unsupported private key alg: \"+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==Sr.crypto.ECDSA&&(this.pubKey=new Sr.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Me&&\"rsaandmgf1\"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Me&&\"rsa\"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==Sr.crypto.ECDSA&&this.pubKey instanceof Sr.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==Sr.crypto.DSA&&this.pubKey instanceof Sr.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw\"Signature: unsupported public key alg: \"+this.pubkeyAlgName}}},this.init=function(t,e){throw\"init(key, pass) not supported for this alg:prov=\"+this.algProvName},this.updateString=function(t){throw\"updateString(str) not supported for this alg:prov=\"+this.algProvName},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg:prov=\"+this.algProvName},this.sign=function(){throw\"sign() not supported for this alg:prov=\"+this.algProvName},this.signString=function(t){throw\"digestString(str) not supported for this alg:prov=\"+this.algProvName},this.signHex=function(t){throw\"digestHex(hex) not supported for this alg:prov=\"+this.algProvName},this.verify=function(t){throw\"verify(hSigVal) not supported for this alg:prov=\"+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=Sr.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+\":\"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw\"both prvkeypem and prvkeypas parameters not supported\";try{e=tn.getKey(t.prvkeypem);this.init(e)}catch(t){throw\"fatal error to load pem private key: \"+t}}},Sr.crypto.Cipher=function(t){},Sr.crypto.Cipher.encrypt=function(t,e,r){if(e instanceof Me&&e.isPublic){var n=Sr.crypto.Cipher.getAlgByKeyAndName(e,r);if(\"RSA\"===n)return e.encrypt(t);if(\"RSAOAEP\"===n)return e.encryptOAEP(t,\"sha1\");var i=n.match(/^RSAOAEP(\\d+)$/);if(null!==i)return e.encryptOAEP(t,\"sha\"+i[1]);throw\"Cipher.encrypt: unsupported algorithm for RSAKey: \"+r}throw\"Cipher.encrypt: unsupported key or algorithm\"},Sr.crypto.Cipher.decrypt=function(t,e,r){if(e instanceof Me&&e.isPrivate){var n=Sr.crypto.Cipher.getAlgByKeyAndName(e,r);if(\"RSA\"===n)return e.decrypt(t);if(\"RSAOAEP\"===n)return e.decryptOAEP(t,\"sha1\");var i=n.match(/^RSAOAEP(\\d+)$/);if(null!==i)return e.decryptOAEP(t,\"sha\"+i[1]);throw\"Cipher.decrypt: unsupported algorithm for RSAKey: \"+r}throw\"Cipher.decrypt: unsupported key or algorithm\"},Sr.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof Me){if(-1!=\":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:\".indexOf(e))return e;if(null==e)return\"RSA\";throw\"getAlgByKeyAndName: not supported algorithm name for RSAKey: \"+e}throw\"getAlgByKeyAndName: not supported algorithm name: \"+e},Sr.crypto.OID=new function(){this.oidhex2name={\"2a864886f70d010101\":\"rsaEncryption\",\"2a8648ce3d0201\":\"ecPublicKey\",\"2a8648ce380401\":\"dsa\",\"2a8648ce3d030107\":\"secp256r1\",\"2b8104001f\":\"secp192k1\",\"2b81040021\":\"secp224r1\",\"2b8104000a\":\"secp256k1\",\"2b81040023\":\"secp521r1\",\"2b81040022\":\"secp384r1\",\"2a8648ce380403\":\"SHA1withDSA\",\"608648016503040301\":\"SHA224withDSA\",\"608648016503040302\":\"SHA256withDSA\"}},void 0!==Sr&&Sr||(e.KJUR=Sr={}),void 0!==Sr.crypto&&Sr.crypto||(Sr.crypto={}),Sr.crypto.ECDSA=function(t){var e=Error,r=w,n=Ve,i=Sr.crypto.ECDSA,o=Sr.crypto.ECParameterDB,s=i.getName,a=Fr,u=a.getVbyListEx,c=a.isASN1HEX,h=new Be;this.type=\"EC\",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new r(t.bitLength(),h).mod(t.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(t){this.ecparams=o.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if(\"04\"!==t.substr(0,2))throw\"this method supports uncompressed format(04) only\";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw\"malformed public key hex length\";var r={};return r.x=t.substr(2,e),r.y=t.substr(2+e),r},this.getShortNISTPCurveName=function(){var t=this.curveName;return\"secp256r1\"===t||\"NIST P-256\"===t||\"P-256\"===t||\"prime256v1\"===t?\"P-256\":\"secp384r1\"===t||\"NIST P-384\"===t||\"P-384\"===t?\"P-384\":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),r=this.ecparams.G.multiply(e),n=r.getX().toBigInteger(),i=r.getY().toBigInteger(),o=this.ecparams.keylen/4,s=(\"0000000000\"+e.toString(16)).slice(-o),a=\"04\"+(\"0000000000\"+n.toString(16)).slice(-o)+(\"0000000000\"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(s),this.setPublicKeyHex(a),{ecprvhex:s,ecpubhex:a}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new r(e,16),o=this.ecparams.n,s=new r(t.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(o),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(u.compareTo(r.ZERO)<=0);var c=a.modInverse(o).multiply(s.add(n.multiply(u))).mod(o);return i.biRSSigToASN1Sig(u,c)},this.sign=function(t,e){var n=e,i=this.ecparams.n,o=r.fromByteArrayUnsigned(t);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(w.ZERO)<=0);var u=s.modInverse(i).multiply(o.add(n.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,o){try{var s,a,u=i.parseSigHex(e);s=u.r,a=u.s;var c=n.decodeFromHex(this.ecparams.curve,o),h=new r(t.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(h,s,a,c)}catch(t){return!1}},this.verify=function(t,e,i){var o,s,a;if(Bitcoin.Util.isArray(e)){var u=this.parseSig(e);o=u.r,s=u.s}else{if(\"object\"!==(void 0===e?\"undefined\":g(e))||!e.r||!e.s)throw\"Invalid value for signature\";o=e.r,s=e.s}if(i instanceof Ve)a=i;else{if(!Bitcoin.Util.isArray(i))throw\"Invalid format for pubkey value, must be byte array or ECPointFp\";a=n.decodeFrom(this.ecparams.curve,i)}var c=r.fromByteArrayUnsigned(t);return this.verifyRaw(c,o,s,a)},this.verifyRaw=function(t,e,n,i){var o=this.ecparams.n,s=this.ecparams.G;if(e.compareTo(r.ONE)<0||e.compareTo(o)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(o)>=0)return!1;var a=n.modInverse(o),u=t.multiply(a).mod(o),c=e.multiply(a).mod(o);return s.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(e)},this.serializeSig=function(t,e){var r=t.toByteArraySigned(),n=e.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error(\"Signature not a valid DERSequence\");if(2!=t[e=2])throw new Error(\"First element in signature must be a DERInteger\");var n=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error(\"Second element in signature must be a DERInteger\");var i=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(t){if(65!==t.length)throw\"Signature has the wrong length\";var e=t[0]-27;if(e<0||e>7)throw\"Invalid signature type\";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(t.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(t.slice(33,65)).mod(n),i:e}},this.readPKCS5PrvKeyHex=function(t){if(!1===c(t))throw new Error(\"not ASN.1 hex string\");var e,r,n;try{e=u(t,0,[\"[0]\",0],\"06\"),r=u(t,0,[1],\"04\");try{n=u(t,0,[\"[1]\",0],\"03\")}catch(t){}}catch(t){throw new Error(\"malformed PKCS#1/5 plain ECC private key\")}if(this.curveName=s(e),void 0===this.curveName)throw\"unsupported curve name\";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){if(!1===c(t))throw new e(\"not ASN.1 hex string\");var r,n,i;try{u(t,0,[1,0],\"06\"),r=u(t,0,[1,1],\"06\"),n=u(t,0,[2,0,1],\"04\");try{i=u(t,0,[2,0,\"[1]\",0],\"03\")}catch(t){}}catch(t){throw new e(\"malformed PKCS#8 plain ECC private key\")}if(this.curveName=s(r),void 0===this.curveName)throw new e(\"unsupported curve name\");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){if(!1===c(t))throw new e(\"not ASN.1 hex string\");var r,n;try{u(t,0,[0,0],\"06\"),r=u(t,0,[0,1],\"06\"),n=u(t,0,[1],\"03\")}catch(t){throw new e(\"malformed PKCS#8 ECC public key\")}if(this.curveName=s(r),null===this.curveName)throw new e(\"unsupported curve name\");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(t,r){if(!1===c(t))throw new e(\"not ASN.1 hex string\");var n,i;try{n=u(t,0,[0,5,0,1],\"06\"),i=u(t,0,[0,5,1],\"03\")}catch(t){throw new e(\"malformed X.509 certificate ECC public key\")}if(this.curveName=s(n),null===this.curveName)throw new e(\"unsupported curve name\");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName=\"secp256r1\"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},Sr.crypto.ECDSA.parseSigHex=function(t){var e=Sr.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new w(e.r,16),s:new w(e.s,16)}},Sr.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=Fr,r=e.getChildIdx,n=e.getV;if(e.checkStrictDER(t,0),\"30\"!=t.substr(0,2))throw new Error(\"signature is not a ASN.1 sequence\");var i=r(t,0);if(2!=i.length)throw new Error(\"signature shall have two elements\");var o=i[0],s=i[1];if(\"02\"!=t.substr(o,2))throw new Error(\"1st item not ASN.1 integer\");if(\"02\"!=t.substr(s,2))throw new Error(\"2nd item not ASN.1 integer\");return{r:n(t,o),s:n(t,s)}},Sr.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=Sr.crypto.ECDSA.parseSigHexInHexRS(t),r=e.r,n=e.s;if(\"00\"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),\"00\"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r=\"00\"+r),n.length%32==30&&(n=\"00\"+n),r.length%32!=0)throw\"unknown ECDSA sig r length error\";if(n.length%32!=0)throw\"unknown ECDSA sig s length error\";return r+n},Sr.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw\"unknown ECDSA concatinated r-s sig  length error\";var e=t.substr(0,t.length/2),r=t.substr(t.length/2);return Sr.crypto.ECDSA.hexRSSigToASN1Sig(e,r)},Sr.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var r=new w(t,16),n=new w(e,16);return Sr.crypto.ECDSA.biRSSigToASN1Sig(r,n)},Sr.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var r=Sr.asn1,n=new r.DERInteger({bigint:t}),i=new r.DERInteger({bigint:e});return new r.DERSequence({array:[n,i]}).getEncodedHex()},Sr.crypto.ECDSA.getName=function(t){return\"2b8104001f\"===t?\"secp192k1\":\"2a8648ce3d030107\"===t?\"secp256r1\":\"2b8104000a\"===t?\"secp256k1\":\"2b81040021\"===t?\"secp224r1\":\"2b81040022\"===t?\"secp384r1\":-1!==\"|secp256r1|NIST P-256|P-256|prime256v1|\".indexOf(t)?\"secp256r1\":-1!==\"|secp256k1|\".indexOf(t)?\"secp256k1\":-1!==\"|secp224r1|NIST P-224|P-224|\".indexOf(t)?\"secp224r1\":-1!==\"|secp384r1|NIST P-384|P-384|\".indexOf(t)?\"secp384r1\":null},void 0!==Sr&&Sr||(e.KJUR=Sr={}),void 0!==Sr.crypto&&Sr.crypto||(Sr.crypto={}),Sr.crypto.ECParameterDB=new function(){var t={},e={};function r(t){return new w(t,16)}this.getByName=function(r){var n=r;if(void 0!==e[n]&&(n=e[r]),void 0!==t[n])return t[n];throw\"unregistered EC curve name: \"+n},this.regist=function(n,i,o,s,a,u,c,h,l,f,g,d){t[n]={};var p=r(o),v=r(s),y=r(a),m=r(u),_=r(c),S=new Ke(p,v,y),b=S.decodePointHex(\"04\"+h+l);t[n].name=n,t[n].keylen=i,t[n].curve=S,t[n].G=b,t[n].n=m,t[n].h=_,t[n].oid=g,t[n].info=d;for(var w=0;w<f.length;w++)e[f[w]]=n}},Sr.crypto.ECParameterDB.regist(\"secp128r1\",128,\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\",\"E87579C11079F43DD824993C2CEE5ED3\",\"FFFFFFFE0000000075A30D1B9038A115\",\"1\",\"161FF7528B899B2D0C28607CA52C5B86\",\"CF5AC8395BAFEB13C02DA292DDED7A83\",[],\"\",\"secp128r1 : SECG curve over a 128 bit prime field\"),Sr.crypto.ECParameterDB.regist(\"secp160k1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\",\"0\",\"7\",\"0100000000000000000001B8FA16DFAB9ACA16B6B3\",\"1\",\"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\",\"938CF935318FDCED6BC28286531733C3F03C4FEE\",[],\"\",\"secp160k1 : SECG curve over a 160 bit prime field\"),Sr.crypto.ECParameterDB.regist(\"secp160r1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\",\"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\",\"0100000000000000000001F4C8F927AED3CA752257\",\"1\",\"4A96B5688EF573284664698968C38BB913CBFC82\",\"23A628553168947D59DCC912042351377AC5FB32\",[],\"\",\"secp160r1 : SECG curve over a 160 bit prime field\"),Sr.crypto.ECParameterDB.regist(\"secp192k1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\",\"0\",\"3\",\"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\",\"1\",\"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\",\"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\",[]),Sr.crypto.ECParameterDB.regist(\"secp192r1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\",\"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\",\"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\",\"1\",\"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\",\"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\",[]),Sr.crypto.ECParameterDB.regist(\"secp224r1\",224,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\",\"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\",\"1\",\"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\",\"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\",[]),Sr.crypto.ECParameterDB.regist(\"secp256k1\",256,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F\",\"0\",\"7\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\",\"1\",\"79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798\",\"483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\",[]),Sr.crypto.ECParameterDB.regist(\"secp256r1\",256,\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\",\"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\",\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\",\"1\",\"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\",\"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\",[\"NIST P-256\",\"P-256\",\"prime256v1\"]),Sr.crypto.ECParameterDB.regist(\"secp384r1\",384,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC\",\"B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973\",\"1\",\"AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7\",\"3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\",[\"NIST P-384\",\"P-384\"]),Sr.crypto.ECParameterDB.regist(\"secp521r1\",521,\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC\",\"051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409\",\"1\",\"C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66\",\"011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\",[\"NIST P-521\",\"P-521\"]);var tn=function(){var t=function t(r,n,i){return e(v.AES,r,n,i)},e=function t(e,r,n,i){var o=v.enc.Hex.parse(r),s=v.enc.Hex.parse(n),a=v.enc.Hex.parse(i),u={};u.key=s,u.iv=a,u.ciphertext=o;var c=e.decrypt(u,s,{iv:a});return v.enc.Hex.stringify(c)},r=function t(e,r,i){return n(v.AES,e,r,i)},n=function t(e,r,n,i){var o=v.enc.Hex.parse(r),s=v.enc.Hex.parse(n),a=v.enc.Hex.parse(i),u=e.encrypt(o,s,{iv:a}),c=v.enc.Hex.parse(u.toString());return v.enc.Base64.stringify(c)},i={\"AES-256-CBC\":{proc:t,eproc:r,keylen:32,ivlen:16},\"AES-192-CBC\":{proc:t,eproc:r,keylen:24,ivlen:16},\"AES-128-CBC\":{proc:t,eproc:r,keylen:16,ivlen:16},\"DES-EDE3-CBC\":{proc:function t(r,n,i){return e(v.TripleDES,r,n,i)},eproc:function t(e,r,i){return n(v.TripleDES,e,r,i)},keylen:24,ivlen:8},\"DES-CBC\":{proc:function t(r,n,i){return e(v.DES,r,n,i)},eproc:function t(e,r,i){return n(v.DES,e,r,i)},keylen:8,ivlen:8}},o=function t(e){var r={},n=e.match(new RegExp(\"DEK-Info: ([^,]+),([0-9A-Fa-f]+)\",\"m\"));n&&(r.cipher=n[1],r.ivsalt=n[2]);var i=e.match(new RegExp(\"-----BEGIN ([A-Z]+) PRIVATE KEY-----\"));i&&(r.type=i[1]);var o=-1,s=0;-1!=e.indexOf(\"\\r\\n\\r\\n\")&&(o=e.indexOf(\"\\r\\n\\r\\n\"),s=2),-1!=e.indexOf(\"\\n\\n\")&&(o=e.indexOf(\"\\n\\n\"),s=1);var a=e.indexOf(\"-----END\");if(-1!=o&&-1!=a){var u=e.substring(o+2*s,a-s);u=u.replace(/\\s+/g,\"\"),r.data=u}return r},s=function t(e,r,n){for(var o=n.substring(0,16),s=v.enc.Hex.parse(o),a=v.enc.Utf8.parse(r),u=i[e].keylen+i[e].ivlen,c=\"\",h=null;;){var l=v.algo.MD5.create();if(null!=h&&l.update(h),l.update(a),l.update(s),h=l.finalize(),(c+=v.enc.Hex.stringify(h)).length>=2*u)break}var f={};return f.keyhex=c.substr(0,2*i[e].keylen),f.ivhex=c.substr(2*i[e].keylen,2*i[e].ivlen),f},a=function t(e,r,n,o){var s=v.enc.Base64.parse(e),a=v.enc.Hex.stringify(s);return(0,i[r].proc)(a,n,o)};return{version:\"1.0.0\",parsePKCS5PEM:function t(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function t(e,r,n){return s(e,r,n)},decryptKeyB64:function t(e,r,n,i){return a(e,r,n,i)},getDecryptedKeyHex:function t(e,r){var n=o(e),i=(n.type,n.cipher),u=n.ivsalt,c=n.data,h=s(i,r,u).keyhex;return a(c,i,h,u)},getEncryptedPKCS5PEMFromPrvKeyHex:function t(e,r,n,o,a){var u=\"\";if(void 0!==o&&null!=o||(o=\"AES-256-CBC\"),void 0===i[o])throw new Error(\"KEYUTIL unsupported algorithm: \"+o);void 0!==a&&null!=a||(a=function t(e){var r=v.lib.WordArray.random(e);return v.enc.Hex.stringify(r)}(i[o].ivlen).toUpperCase());var c=function t(e,r,n,o){return(0,i[r].eproc)(e,n,o)}(r,o,s(o,n,a).keyhex,a);u=\"-----BEGIN \"+e+\" PRIVATE KEY-----\\r\\n\";return u+=\"Proc-Type: 4,ENCRYPTED\\r\\n\",u+=\"DEK-Info: \"+o+\",\"+a+\"\\r\\n\",u+=\"\\r\\n\",u+=c.replace(/(.{64})/g,\"$1\\r\\n\"),u+=\"\\r\\n-----END \"+e+\" PRIVATE KEY-----\\r\\n\"},parseHexOfEncryptedPKCS8:function t(e){var r=Fr,n=r.getChildIdx,i=r.getV,o={},s=n(e,0);if(2!=s.length)throw new Error(\"malformed format: SEQUENCE(0).items != 2: \"+s.length);o.ciphertext=i(e,s[1]);var a=n(e,s[0]);if(2!=a.length)throw new Error(\"malformed format: SEQUENCE(0.0).items != 2: \"+a.length);if(\"2a864886f70d01050d\"!=i(e,a[0]))throw new Error(\"this only supports pkcs5PBES2\");var u=n(e,a[1]);if(2!=a.length)throw new Error(\"malformed format: SEQUENCE(0.0.1).items != 2: \"+u.length);var c=n(e,u[1]);if(2!=c.length)throw new Error(\"malformed format: SEQUENCE(0.0.1.1).items != 2: \"+c.length);if(\"2a864886f70d0307\"!=i(e,c[0]))throw\"this only supports TripleDES\";o.encryptionSchemeAlg=\"TripleDES\",o.encryptionSchemeIV=i(e,c[1]);var h=n(e,u[0]);if(2!=h.length)throw new Error(\"malformed format: SEQUENCE(0.0.1.0).items != 2: \"+h.length);if(\"2a864886f70d01050c\"!=i(e,h[0]))throw new Error(\"this only supports pkcs5PBKDF2\");var l=n(e,h[1]);if(l.length<2)throw new Error(\"malformed format: SEQUENCE(0.0.1.0.1).items < 2: \"+l.length);o.pbkdf2Salt=i(e,l[0]);var f=i(e,l[1]);try{o.pbkdf2Iter=parseInt(f,16)}catch(t){throw new Error(\"malformed format pbkdf2Iter: \"+f)}return o},getPBKDF2KeyHexFromParam:function t(e,r){var n=v.enc.Hex.parse(e.pbkdf2Salt),i=e.pbkdf2Iter,o=v.PBKDF2(r,n,{keySize:6,iterations:i});return v.enc.Hex.stringify(o)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function t(e,r){var n=Mr(e,\"ENCRYPTED PRIVATE KEY\"),i=this.parseHexOfEncryptedPKCS8(n),o=tn.getPBKDF2KeyHexFromParam(i,r),s={};s.ciphertext=v.enc.Hex.parse(i.ciphertext);var a=v.enc.Hex.parse(o),u=v.enc.Hex.parse(i.encryptionSchemeIV),c=v.TripleDES.decrypt(s,a,{iv:u});return v.enc.Hex.stringify(c)},getKeyFromEncryptedPKCS8PEM:function t(e,r){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,r);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function t(e){var r=Fr,n=r.getChildIdx,i=r.getV,o={algparam:null};if(\"30\"!=e.substr(0,2))throw new Error(\"malformed plain PKCS8 private key(code:001)\");var s=n(e,0);if(s.length<3)throw new Error(\"malformed plain PKCS8 private key(code:002)\");if(\"30\"!=e.substr(s[1],2))throw new Error(\"malformed PKCS8 private key(code:003)\");var a=n(e,s[1]);if(2!=a.length)throw new Error(\"malformed PKCS8 private key(code:004)\");if(\"06\"!=e.substr(a[0],2))throw new Error(\"malformed PKCS8 private key(code:005)\");if(o.algoid=i(e,a[0]),\"06\"==e.substr(a[1],2)&&(o.algparam=i(e,a[1])),\"04\"!=e.substr(s[2],2))throw new Error(\"malformed PKCS8 private key(code:006)\");return o.keyidx=r.getVidx(e,s[2]),o},getKeyFromPlainPrivatePKCS8PEM:function t(e){var r=Mr(e,\"PRIVATE KEY\");return this.getKeyFromPlainPrivatePKCS8Hex(r)},getKeyFromPlainPrivatePKCS8Hex:function t(e){var r,n=this.parsePlainPrivatePKCS8Hex(e);if(\"2a864886f70d010101\"==n.algoid)r=new Me;else if(\"2a8648ce380401\"==n.algoid)r=new Sr.crypto.DSA;else{if(\"2a8648ce3d0201\"!=n.algoid)throw new Error(\"unsupported private key algorithm\");r=new Sr.crypto.ECDSA}return r.readPKCS8PrvKeyHex(e),r},_getKeyFromPublicPKCS8Hex:function t(e){var r,n=Fr.getVbyList(e,0,[0,0],\"06\");if(\"2a864886f70d010101\"===n)r=new Me;else if(\"2a8648ce380401\"===n)r=new Sr.crypto.DSA;else{if(\"2a8648ce3d0201\"!==n)throw new Error(\"unsupported PKCS#8 public key hex\");r=new Sr.crypto.ECDSA}return r.readPKCS8PubKeyHex(e),r},parsePublicRawRSAKeyHex:function t(e){var r=Fr,n=r.getChildIdx,i=r.getV,o={};if(\"30\"!=e.substr(0,2))throw new Error(\"malformed RSA key(code:001)\");var s=n(e,0);if(2!=s.length)throw new Error(\"malformed RSA key(code:002)\");if(\"02\"!=e.substr(s[0],2))throw new Error(\"malformed RSA key(code:003)\");if(o.n=i(e,s[0]),\"02\"!=e.substr(s[1],2))throw new Error(\"malformed RSA key(code:004)\");return o.e=i(e,s[1]),o},parsePublicPKCS8Hex:function t(e){var r=Fr,n=r.getChildIdx,i=r.getV,o={algparam:null},s=n(e,0);if(2!=s.length)throw new Error(\"outer DERSequence shall have 2 elements: \"+s.length);var a=s[0];if(\"30\"!=e.substr(a,2))throw new Error(\"malformed PKCS8 public key(code:001)\");var u=n(e,a);if(2!=u.length)throw new Error(\"malformed PKCS8 public key(code:002)\");if(\"06\"!=e.substr(u[0],2))throw new Error(\"malformed PKCS8 public key(code:003)\");if(o.algoid=i(e,u[0]),\"06\"==e.substr(u[1],2)?o.algparam=i(e,u[1]):\"30\"==e.substr(u[1],2)&&(o.algparam={},o.algparam.p=r.getVbyList(e,u[1],[0],\"02\"),o.algparam.q=r.getVbyList(e,u[1],[1],\"02\"),o.algparam.g=r.getVbyList(e,u[1],[2],\"02\")),\"03\"!=e.substr(s[1],2))throw new Error(\"malformed PKCS8 public key(code:004)\");return o.key=i(e,s[1]).substr(2),o}}}();tn.getKey=function(t,e,r){var n=(v=Fr).getChildIdx,i=(v.getV,v.getVbyList),o=Sr.crypto,s=o.ECDSA,a=o.DSA,u=Me,c=Mr,h=tn;if(void 0!==u&&t instanceof u)return t;if(void 0!==s&&t instanceof s)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new s({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new s({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(P=new u).setPublic(t.n,t.e),P;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(P=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),P;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(P=new u).setPrivate(t.n,t.e,t.d),P;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(P=new a).setPublic(t.p,t.q,t.g,t.y),P;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(P=new a).setPrivate(t.p,t.q,t.g,t.y,t.x),P;if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(P=new u).setPublic(Rr(t.n),Rr(t.e)),P;if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(P=new u).setPrivateEx(Rr(t.n),Rr(t.e),Rr(t.d),Rr(t.p),Rr(t.q),Rr(t.dp),Rr(t.dq),Rr(t.qi)),P;if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(P=new u).setPrivate(Rr(t.n),Rr(t.e),Rr(t.d)),P;if(\"EC\"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var l=(k=new s({curve:t.crv})).ecparams.keylen/4,f=\"04\"+(\"0000000000\"+Rr(t.x)).slice(-l)+(\"0000000000\"+Rr(t.y)).slice(-l);return k.setPublicKeyHex(f),k}if(\"EC\"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){l=(k=new s({curve:t.crv})).ecparams.keylen/4,f=\"04\"+(\"0000000000\"+Rr(t.x)).slice(-l)+(\"0000000000\"+Rr(t.y)).slice(-l);var g=(\"0000000000\"+Rr(t.d)).slice(-l);return k.setPublicKeyHex(f),k.setPrivateKeyHex(g),k}if(\"pkcs5prv\"===r){var d,p=t,v=Fr;if(9===(d=n(p,0)).length)(P=new u).readPKCS5PrvKeyHex(p);else if(6===d.length)(P=new a).readPKCS5PrvKeyHex(p);else{if(!(d.length>2&&\"04\"===p.substr(d[1],2)))throw new Error(\"unsupported PKCS#1/5 hexadecimal key\");(P=new s).readPKCS5PrvKeyHex(p)}return P}if(\"pkcs8prv\"===r)return P=h.getKeyFromPlainPrivatePKCS8Hex(t);if(\"pkcs8pub\"===r)return h._getKeyFromPublicPKCS8Hex(t);if(\"x509pub\"===r)return on.getPublicKeyFromCertHex(t);if(-1!=t.indexOf(\"-END CERTIFICATE-\",0)||-1!=t.indexOf(\"-END X509 CERTIFICATE-\",0)||-1!=t.indexOf(\"-END TRUSTED CERTIFICATE-\",0))return on.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf(\"-END PUBLIC KEY-\")){var y=Mr(t,\"PUBLIC KEY\");return h._getKeyFromPublicPKCS8Hex(y)}if(-1!=t.indexOf(\"-END RSA PRIVATE KEY-\")&&-1==t.indexOf(\"4,ENCRYPTED\")){var m=c(t,\"RSA PRIVATE KEY\");return h.getKey(m,null,\"pkcs5prv\")}if(-1!=t.indexOf(\"-END DSA PRIVATE KEY-\")&&-1==t.indexOf(\"4,ENCRYPTED\")){var _=i(R=c(t,\"DSA PRIVATE KEY\"),0,[1],\"02\"),S=i(R,0,[2],\"02\"),b=i(R,0,[3],\"02\"),F=i(R,0,[4],\"02\"),E=i(R,0,[5],\"02\");return(P=new a).setPrivate(new w(_,16),new w(S,16),new w(b,16),new w(F,16),new w(E,16)),P}if(-1!=t.indexOf(\"-END EC PRIVATE KEY-\")&&-1==t.indexOf(\"4,ENCRYPTED\")){m=c(t,\"EC PRIVATE KEY\");return h.getKey(m,null,\"pkcs5prv\")}if(-1!=t.indexOf(\"-END PRIVATE KEY-\"))return h.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf(\"-END RSA PRIVATE KEY-\")&&-1!=t.indexOf(\"4,ENCRYPTED\")){var x=h.getDecryptedKeyHex(t,e),A=new Me;return A.readPKCS5PrvKeyHex(x),A}if(-1!=t.indexOf(\"-END EC PRIVATE KEY-\")&&-1!=t.indexOf(\"4,ENCRYPTED\")){var k,P=i(R=h.getDecryptedKeyHex(t,e),0,[1],\"04\"),C=i(R,0,[2,0],\"06\"),T=i(R,0,[3,0],\"03\").substr(2);if(void 0===Sr.crypto.OID.oidhex2name[C])throw new Error(\"undefined OID(hex) in KJUR.crypto.OID: \"+C);return(k=new s({curve:Sr.crypto.OID.oidhex2name[C]})).setPublicKeyHex(T),k.setPrivateKeyHex(P),k.isPublic=!1,k}if(-1!=t.indexOf(\"-END DSA PRIVATE KEY-\")&&-1!=t.indexOf(\"4,ENCRYPTED\")){var R;_=i(R=h.getDecryptedKeyHex(t,e),0,[1],\"02\"),S=i(R,0,[2],\"02\"),b=i(R,0,[3],\"02\"),F=i(R,0,[4],\"02\"),E=i(R,0,[5],\"02\");return(P=new a).setPrivate(new w(_,16),new w(S,16),new w(b,16),new w(F,16),new w(E,16)),P}if(-1!=t.indexOf(\"-END ENCRYPTED PRIVATE KEY-\"))return h.getKeyFromEncryptedPKCS8PEM(t,e);throw new Error(\"not supported argument\")},tn.generateKeypair=function(t,e){if(\"RSA\"==t){var r=e;(s=new Me).generate(r,\"10001\"),s.isPrivate=!0,s.isPublic=!0;var n=new Me,i=s.n.toString(16),o=s.e.toString(16);return n.setPublic(i,o),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=n,a}if(\"EC\"==t){var s,a,u=e,c=new Sr.crypto.ECDSA({curve:u}).generateKeyPairHex();return(s=new Sr.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),s.setPrivateKeyHex(c.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(n=new Sr.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=n,a}throw new Error(\"unknown algorithm: \"+t)},tn.getPEM=function(t,e,r,n,i,o){var s=Sr,a=s.asn1,u=a.DERObjectIdentifier,c=a.DERInteger,h=a.ASN1Util.newObject,l=a.x509.SubjectPublicKeyInfo,f=s.crypto,g=f.DSA,d=f.ECDSA,p=Me;function y(t){return h({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function m(t){return h({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:[\"a0\",!0,{oid:{name:t.curveName}}]},{tag:[\"a1\",!0,{bitstr:{hex:\"00\"+t.pubKeyHex}}]}]})}function _(t){return h({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==p&&t instanceof p||void 0!==g&&t instanceof g||void 0!==d&&t instanceof d)&&1==t.isPublic&&(void 0===e||\"PKCS8PUB\"==e))return jr(F=new l(t).getEncodedHex(),\"PUBLIC KEY\");if(\"PKCS1PRV\"==e&&void 0!==p&&t instanceof p&&(void 0===r||null==r)&&1==t.isPrivate)return jr(F=y(t).getEncodedHex(),\"RSA PRIVATE KEY\");if(\"PKCS1PRV\"==e&&void 0!==d&&t instanceof d&&(void 0===r||null==r)&&1==t.isPrivate){var S=new u({name:t.curveName}).getEncodedHex(),b=m(t).getEncodedHex(),w=\"\";return w+=jr(S,\"EC PARAMETERS\"),w+=jr(b,\"EC PRIVATE KEY\")}if(\"PKCS1PRV\"==e&&void 0!==g&&t instanceof g&&(void 0===r||null==r)&&1==t.isPrivate)return jr(F=_(t).getEncodedHex(),\"DSA PRIVATE KEY\");if(\"PKCS5PRV\"==e&&void 0!==p&&t instanceof p&&void 0!==r&&null!=r&&1==t.isPrivate){var F=y(t).getEncodedHex();return void 0===n&&(n=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"RSA\",F,r,n,o)}if(\"PKCS5PRV\"==e&&void 0!==d&&t instanceof d&&void 0!==r&&null!=r&&1==t.isPrivate){F=m(t).getEncodedHex();return void 0===n&&(n=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"EC\",F,r,n,o)}if(\"PKCS5PRV\"==e&&void 0!==g&&t instanceof g&&void 0!==r&&null!=r&&1==t.isPrivate){F=_(t).getEncodedHex();return void 0===n&&(n=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"DSA\",F,r,n,o)}var E=function t(e,r){var n=x(e,r);return new h({seq:[{seq:[{oid:{name:\"pkcs5PBES2\"}},{seq:[{seq:[{oid:{name:\"pkcs5PBKDF2\"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:\"des-EDE3-CBC\"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},x=function t(e,r){var n=v.lib.WordArray.random(8),i=v.lib.WordArray.random(8),o=v.PBKDF2(r,n,{keySize:6,iterations:100}),s=v.enc.Hex.parse(e),a=v.TripleDES.encrypt(s,o,{iv:i})+\"\",u={};return u.ciphertext=a,u.pbkdf2Salt=v.enc.Hex.stringify(n),u.pbkdf2Iter=100,u.encryptionSchemeAlg=\"DES-EDE3-CBC\",u.encryptionSchemeIV=v.enc.Hex.stringify(i),u};if(\"PKCS8PRV\"==e&&null!=p&&t instanceof p&&1==t.isPrivate){var A=y(t).getEncodedHex();F=h({seq:[{int:0},{seq:[{oid:{name:\"rsaEncryption\"}},{null:!0}]},{octstr:{hex:A}}]}).getEncodedHex();return void 0===r||null==r?jr(F,\"PRIVATE KEY\"):jr(b=E(F,r),\"ENCRYPTED PRIVATE KEY\")}if(\"PKCS8PRV\"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate){A=new h({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:[\"a1\",!0,{bitstr:{hex:\"00\"+t.pubKeyHex}}]}]}).getEncodedHex(),F=h({seq:[{int:0},{seq:[{oid:{name:\"ecPublicKey\"}},{oid:{name:t.curveName}}]},{octstr:{hex:A}}]}).getEncodedHex();return void 0===r||null==r?jr(F,\"PRIVATE KEY\"):jr(b=E(F,r),\"ENCRYPTED PRIVATE KEY\")}if(\"PKCS8PRV\"==e&&void 0!==g&&t instanceof g&&1==t.isPrivate){A=new c({bigint:t.x}).getEncodedHex(),F=h({seq:[{int:0},{seq:[{oid:{name:\"dsa\"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:A}}]}).getEncodedHex();return void 0===r||null==r?jr(F,\"PRIVATE KEY\"):jr(b=E(F,r),\"ENCRYPTED PRIVATE KEY\")}throw new Error(\"unsupported object nor format\")},tn.getKeyFromCSRPEM=function(t){var e=Mr(t,\"CERTIFICATE REQUEST\");return tn.getKeyFromCSRHex(e)},tn.getKeyFromCSRHex=function(t){var e=tn.parseCSRHex(t);return tn.getKey(e.p8pubkeyhex,null,\"pkcs8pub\")},tn.parseCSRHex=function(t){var e=Fr,r=e.getChildIdx,n=e.getTLV,i={},o=t;if(\"30\"!=o.substr(0,2))throw new Error(\"malformed CSR(code:001)\");var s=r(o,0);if(s.length<1)throw new Error(\"malformed CSR(code:002)\");if(\"30\"!=o.substr(s[0],2))throw new Error(\"malformed CSR(code:003)\");var a=r(o,s[0]);if(a.length<3)throw new Error(\"malformed CSR(code:004)\");return i.p8pubkeyhex=n(o,a[2]),i},tn.getKeyID=function(t){var e=tn,r=Fr;\"string\"==typeof t&&-1!=t.indexOf(\"BEGIN \")&&(t=e.getKey(t));var n=Mr(e.getPEM(t)),i=r.getIdxbyList(n,0,[1]),o=r.getV(n,i).substring(2);return Sr.crypto.Util.hashHex(o,\"sha1\")},tn.getJWKFromKey=function(t){var e={};if(t instanceof Me&&t.isPrivate)return e.kty=\"RSA\",e.n=Tr(t.n.toString(16)),e.e=Tr(t.e.toString(16)),e.d=Tr(t.d.toString(16)),e.p=Tr(t.p.toString(16)),e.q=Tr(t.q.toString(16)),e.dp=Tr(t.dmp1.toString(16)),e.dq=Tr(t.dmq1.toString(16)),e.qi=Tr(t.coeff.toString(16)),e;if(t instanceof Me&&t.isPublic)return e.kty=\"RSA\",e.n=Tr(t.n.toString(16)),e.e=Tr(t.e.toString(16)),e;if(t instanceof Sr.crypto.ECDSA&&t.isPrivate){if(\"P-256\"!==(n=t.getShortNISTPCurveName())&&\"P-384\"!==n)throw new Error(\"unsupported curve name for JWT: \"+n);var r=t.getPublicKeyXYHex();return e.kty=\"EC\",e.crv=n,e.x=Tr(r.x),e.y=Tr(r.y),e.d=Tr(t.prvKeyHex),e}if(t instanceof Sr.crypto.ECDSA&&t.isPublic){var n;if(\"P-256\"!==(n=t.getShortNISTPCurveName())&&\"P-384\"!==n)throw new Error(\"unsupported curve name for JWT: \"+n);r=t.getPublicKeyXYHex();return e.kty=\"EC\",e.crv=n,e.x=Tr(r.x),e.y=Tr(r.y),e}throw new Error(\"not supported key object\")},Me.getPosArrayOfChildrenFromHex=function(t){return Fr.getChildIdx(t,0)},Me.getHexValueArrayOfChildrenFromHex=function(t){var e,r=Fr.getV,n=r(t,(e=Me.getPosArrayOfChildrenFromHex(t))[0]),i=r(t,e[1]),o=r(t,e[2]),s=r(t,e[3]),a=r(t,e[4]),u=r(t,e[5]),c=r(t,e[6]),h=r(t,e[7]),l=r(t,e[8]);return(e=new Array).push(n,i,o,s,a,u,c,h,l),e},Me.prototype.readPrivateKeyFromPEMString=function(t){var e=Mr(t),r=Me.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},Me.prototype.readPKCS5PrvKeyHex=function(t){var e=Me.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},Me.prototype.readPKCS8PrvKeyHex=function(t){var e,r,n,i,o,s,a,u,c=Fr,h=c.getVbyListEx;if(!1===c.isASN1HEX(t))throw new Error(\"not ASN.1 hex string\");try{e=h(t,0,[2,0,1],\"02\"),r=h(t,0,[2,0,2],\"02\"),n=h(t,0,[2,0,3],\"02\"),i=h(t,0,[2,0,4],\"02\"),o=h(t,0,[2,0,5],\"02\"),s=h(t,0,[2,0,6],\"02\"),a=h(t,0,[2,0,7],\"02\"),u=h(t,0,[2,0,8],\"02\")}catch(t){throw new Error(\"malformed PKCS#8 plain RSA private key\")}this.setPrivateEx(e,r,n,i,o,s,a,u)},Me.prototype.readPKCS5PubKeyHex=function(t){var e=Fr,r=e.getV;if(!1===e.isASN1HEX(t))throw new Error(\"keyHex is not ASN.1 hex string\");var n=e.getChildIdx(t,0);if(2!==n.length||\"02\"!==t.substr(n[0],2)||\"02\"!==t.substr(n[1],2))throw new Error(\"wrong hex for PKCS#5 public key\");var i=r(t,n[0]),o=r(t,n[1]);this.setPublic(i,o)},Me.prototype.readPKCS8PubKeyHex=function(t){var e=Fr;if(!1===e.isASN1HEX(t))throw new Error(\"not ASN.1 hex string\");if(\"06092a864886f70d010101\"!==e.getTLVbyListEx(t,0,[0,0]))throw new Error(\"not PKCS8 RSA public key\");var r=e.getTLVbyListEx(t,0,[1,0]);this.readPKCS5PubKeyHex(r)},Me.prototype.readCertPubKeyHex=function(t,e){var r,n;(r=new on).readCertHex(t),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};new RegExp(\"[^0-9a-f]\",\"gi\");function en(t,e){for(var r=\"\",n=e/4-t.length,i=0;i<n;i++)r+=\"0\";return r+t}function rn(t,e,r){for(var n=\"\",i=0;n.length<e;)n+=Lr(r(Nr(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function nn(t){for(var e in Sr.crypto.Util.DIGESTINFOHEAD){var r=Sr.crypto.Util.DIGESTINFOHEAD[e],n=r.length;if(t.substring(0,n)==r)return[e,t.substring(n)]}return[]}function on(t){var e,r=Fr,n=r.getChildIdx,i=r.getV,o=r.getTLV,s=r.getVbyList,a=r.getVbyListEx,u=r.getTLVbyList,c=r.getTLVbyListEx,h=r.getIdxbyList,l=r.getIdxbyListEx,f=r.getVidx,g=r.getInt,d=r.oidname,p=r.hextooidstr,v=Mr;try{e=Sr.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(t){}this.HEX2STAG={\"0c\":\"utf8\",13:\"prn\",16:\"ia5\",\"1a\":\"vis\",\"1e\":\"bmp\"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var t=u(this.hex,0,[0,0]);if(\"a0\"==t.substr(0,2)){var e=u(t,0,[0]),r=g(e,0);if(r<0||2<r)throw new Error(\"malformed version field\");return this.version=r+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return a(this.hex,0,[0,0],\"02\")},this.getSignatureAlgorithmField=function(){var t=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(t)},this.getAlgorithmIdentifierName=function(t){for(var r in e)if(t===e[r])return r;return d(a(t,0,[0],\"06\"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],\"30\")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],\"30\")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var t=s(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,\"%$1\"),t=decodeURIComponent(t)},this.getNotAfter=function(){var t=s(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,\"%$1\"),t=decodeURIComponent(t)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],\"30\")},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],\"30\")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return h(this.hex,t,[1,0],\"30\")},this.getPublicKey=function(){return tn.getKey(this.getPublicKeyHex(),null,\"pkcs8pub\")},this.getSignatureAlgorithmName=function(){var t=u(this.hex,0,[1],\"30\");return this.getAlgorithmIdentifierName(t)},this.getSignatureValueHex=function(){return s(this.hex,0,[2],\"03\",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=u(this.hex,0,[0],\"30\"),i=new Sr.crypto.Signature({alg:e});return i.init(t),i.updateHex(n),i.verify(r)},this.parseExt=function(t){var e,o,a;if(void 0===t){if(a=this.hex,3!==this.version)return-1;e=h(a,0,[0,7,0],\"30\"),o=n(a,e)}else{a=Mr(t);var u=h(a,0,[0,3,0,0],\"06\");if(\"2a864886f70d01090e\"!=i(a,u))return void(this.aExtInfo=new Array);e=h(a,0,[0,3,0,1,0],\"30\"),o=n(a,e),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var l={critical:!1},g=0;3===n(a,o[c]).length&&(l.critical=!0,g=1),l.oid=r.hextooidstr(s(a,o[c],[0],\"06\"));var d=h(a,o[c],[1+g]);l.vidx=f(a,d),this.aExtInfo.push(l)}},this.getExtInfo=function(t){var e=this.aExtInfo,r=t;if(t.match(/^[0-9.]+$/)||(r=Sr.asn1.x509.OID.name2oid(t)),\"\"!==r)for(var n=0;n<e.length;n++)if(e[n].oid===r)return e[n]},this.getExtBasicConstraints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"basicConstraints\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:\"basicConstraints\"};if(e&&(n.critical=!0),\"3000\"===t)return n;if(\"30030101ff\"===t)return n.cA=!0,n;if(\"30060101ff02\"===t.substr(0,12)){var s=i(t,10),a=parseInt(s,16);return n.cA=!0,n.pathLen=a,n}throw new Error(\"hExtV parse error: \"+t)},this.getExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"keyUsage\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:\"keyUsage\"};return e&&(n.critical=!0),n.names=this.getExtKeyUsageString(t).split(\",\"),n},this.getExtKeyUsageBin=function(t){if(void 0===t){var e=this.getExtInfo(\"keyUsage\");if(void 0===e)return\"\";t=o(this.hex,e.vidx)}if(8!=t.length&&10!=t.length)throw new Error(\"malformed key usage value: \"+t);var r=\"000000000000000\"+parseInt(t.substr(6),16).toString(2);return 8==t.length&&(r=r.slice(-8)),10==t.length&&(r=r.slice(-16)),\"\"==(r=r.replace(/0+$/,\"\"))&&(r=\"0\"),r},this.getExtKeyUsageString=function(t){for(var e=this.getExtKeyUsageBin(t),r=new Array,n=0;n<e.length;n++)\"1\"==e.substr(n,1)&&r.push(on.KEYUSAGE_NAME[n]);return r.join(\",\")},this.getExtSubjectKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"subjectKeyIdentifier\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:\"subjectKeyIdentifier\"};e&&(n.critical=!0);var s=i(t,0);return n.kid={hex:s},n},this.getExtAuthorityKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"authorityKeyIdentifier\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var s={extname:\"authorityKeyIdentifier\"};e&&(s.critical=!0);for(var a=n(t,0),u=0;u<a.length;u++){var c=t.substr(a[u],2);if(\"80\"===c&&(s.kid={hex:i(t,a[u])}),\"a1\"===c){var h=o(t,a[u]),l=this.getGeneralNames(h);s.issuer=l[0].dn}\"82\"===c&&(s.sn={hex:i(t,a[u])})}return s},this.getExtExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"extKeyUsage\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var s={extname:\"extKeyUsage\",array:[]};e&&(s.critical=!0);for(var a=n(t,0),u=0;u<a.length;u++)s.array.push(d(i(t,a[u])));return s},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo(\"extKeyUsage\");if(void 0===t)return t;var e=new Array,r=o(this.hex,t.vidx);if(\"\"===r)return e;for(var s=n(r,0),a=0;a<s.length;a++)e.push(d(i(r,s[a])));return e},this.getExtSubjectAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"subjectAltName\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:\"subjectAltName\",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getExtIssuerAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"issuerAltName\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:\"issuerAltName\",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getGeneralNames=function(t){for(var e=n(t,0),r=[],i=0;i<e.length;i++){var s=this.getGeneralName(o(t,e[i]));void 0!==s&&r.push(s)}return r},this.getGeneralName=function(t){var e=t.substr(0,2),r=i(t,0),n=Lr(r);return\"81\"==e?{rfc822:n}:\"82\"==e?{dns:n}:\"86\"==e?{uri:n}:\"87\"==e?{ip:zr(r)}:\"a4\"==e?{dn:this.getX500Name(r)}:void 0},this.getExtSubjectAltName2=function(){var t,e,r,s=this.getExtInfo(\"subjectAltName\");if(void 0===s)return s;for(var a=new Array,u=o(this.hex,s.vidx),c=n(u,0),h=0;h<c.length;h++)r=u.substr(c[h],2),t=i(u,c[h]),\"81\"===r&&(e=Dr(t),a.push([\"MAIL\",e])),\"82\"===r&&(e=Dr(t),a.push([\"DNS\",e])),\"84\"===r&&(e=on.hex2dn(t,0),a.push([\"DN\",e])),\"86\"===r&&(e=Dr(t),a.push([\"URI\",e])),\"87\"===r&&(e=zr(t),a.push([\"IP\",e]));return a},this.getExtCRLDistributionPoints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"cRLDistributionPoints\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:\"cRLDistributionPoints\",array:[]};e&&(i.critical=!0);for(var s=n(t,0),a=0;a<s.length;a++){var u=o(t,s[a]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(t){for(var e={},r=n(t,0),i=0;i<r.length;i++){var s=t.substr(r[i],2),a=o(t,r[i]);\"a0\"==s&&(e.dpname=this.getDistributionPointName(a))}return e},this.getDistributionPointName=function(t){for(var e={},r=n(t,0),i=0;i<r.length;i++){var s=t.substr(r[i],2),a=o(t,r[i]);\"a0\"==s&&(e.full=this.getGeneralNames(a))}return e},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo(\"cRLDistributionPoints\");if(void 0===t)return t;for(var e=new Array,r=n(this.hex,t.vidx),i=0;i<r.length;i++)try{var o=Dr(s(this.hex,r[i],[0,0,0],\"86\"));e.push(o)}catch(t){}return e},this.getExtAIAInfo=function(){var t=this.getExtInfo(\"authorityInfoAccess\");if(void 0===t)return t;for(var e={ocsp:[],caissuer:[]},r=n(this.hex,t.vidx),i=0;i<r.length;i++){var o=s(this.hex,r[i],[0],\"06\"),a=s(this.hex,r[i],[1],\"86\");\"2b06010505073001\"===o&&e.ocsp.push(Dr(a)),\"2b06010505073002\"===o&&e.caissuer.push(Dr(a))}return e},this.getExtAuthorityInfoAccess=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"authorityInfoAccess\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:\"authorityInfoAccess\",array:[]};e&&(i.critical=!0);for(var u=n(t,0),c=0;c<u.length;c++){var h=a(t,u[c],[0],\"06\"),l=Dr(s(t,u[c],[1],\"86\"));if(\"2b06010505073001\"==h)i.array.push({ocsp:l});else{if(\"2b06010505073002\"!=h)throw new Error(\"unknown method: \"+h);i.array.push({caissuer:l})}}return i},this.getExtCertificatePolicies=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"certificatePolicies\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:\"certificatePolicies\",array:[]};e&&(i.critical=!0);for(var s=n(t,0),a=0;a<s.length;a++){var u=o(t,s[a]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(t){var e={},r=s(t,0,[0],\"06\");e.policyoid=d(r);var i=l(t,0,[1],\"30\");if(-1!=i){e.array=[];for(var a=n(t,i),u=0;u<a.length;u++){var c=o(t,a[u]),h=this.getPolicyQualifierInfo(c);e.array.push(h)}}return e},this.getPolicyQualifierInfo=function(t){var e={},r=s(t,0,[0],\"06\");if(\"2b06010505070201\"===r){var n=a(t,0,[1],\"16\");e.cps=Lr(n)}else if(\"2b06010505070202\"===r){var i=u(t,0,[1],\"30\");e.unotice=this.getUserNotice(i)}return e},this.getUserNotice=function(t){for(var e={},r=n(t,0),i=0;i<r.length;i++){var s=o(t,r[i]);\"30\"!=s.substr(0,2)&&(e.exptext=this.getDisplayText(s))}return e},this.getDisplayText=function(t){var e={};return e.type={\"0c\":\"utf8\",16:\"ia5\",\"1a\":\"vis\",\"1e\":\"bmp\"}[t.substr(0,2)],e.str=Lr(i(t,0)),e},this.getExtCRLNumber=function(t,e){var r={extname:\"cRLNumber\"};if(e&&(r.critical=!0),\"02\"==t.substr(0,2))return r.num={hex:i(t,0)},r;throw new Error(\"hExtV parse error: \"+t)},this.getExtCRLReason=function(t,e){var r={extname:\"cRLReason\"};if(e&&(r.critical=!0),\"0a\"==t.substr(0,2))return r.code=parseInt(i(t,0),16),r;throw new Error(\"hExtV parse error: \"+t)},this.getExtOcspNonce=function(t,e){var r={extname:\"ocspNonce\"};e&&(r.critical=!0);var n=i(t,0);return r.hex=n,r},this.getExtOcspNoCheck=function(t,e){var r={extname:\"ocspNoCheck\"};return e&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo(\"adobeTimeStamp\");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:\"adobeTimeStamp\"};e&&(i.critical=!0);var s=n(t,0);if(s.length>1){var a=o(t,s[1]),u=this.getGeneralName(a);null!=u.uri&&(i.uri=u.uri)}if(s.length>2){var c=o(t,s[2]);\"0101ff\"==c&&(i.reqauth=!0),\"010100\"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(t){for(var e=null,r=[],n=0;n<t.length;n++)for(var i=t[n],o=0;o<i.length;o++)r.push(i[o]);for(n=0;n<r.length;n++){var s=r[n],a=s.ds,u=s.value,c=s.type;if(\":\"+a,\"prn\"!=a&&\"utf8\"!=a&&\"ia5\"!=a)return\"mixed\";if(\"ia5\"==a){if(\"CN\"!=c)return\"mixed\";if(Sr.lang.String.isMail(u))continue;return\"mixed\"}if(\"C\"==c){if(\"prn\"==a)continue;return\"mixed\"}if(\":\"+a,null==e)e=a;else if(e!==a)return\"mixed\"}return null==e?\"prn\":e},this.getX500Name=function(t){var e=this.getX500NameArray(t);return{array:e,str:this.dnarraytostr(e)}},this.getX500NameArray=function(t){for(var e=[],r=n(t,0),i=0;i<r.length;i++)e.push(this.getRDN(o(t,r[i])));return e},this.getRDN=function(t){for(var e=[],r=n(t,0),i=0;i<r.length;i++)e.push(this.getAttrTypeAndValue(o(t,r[i])));return e},this.getAttrTypeAndValue=function(t){var e={type:null,value:null,ds:null},r=n(t,0),i=s(t,r[0],[],\"06\"),o=s(t,r[1],[]),a=Sr.asn1.ASN1Util.oidHexToInt(i);return e.type=Sr.asn1.x509.OID.oid2atype(a),e.ds=this.HEX2STAG[t.substr(r[1],2)],\"bmp\"!=e.ds?e.value=Dr(o):e.value=Yr(o),e},this.readCertPEM=function(t){this.readCertHex(v(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{h(this.hex,0,[0,7],\"a3\"),this.parseExt()}catch(t){}},this.getParam=function(){var t={};return t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(),t.sbjpubkey=jr(this.getPublicKeyHex(),\"PUBLIC KEY\"),this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),t},this.getExtParamArray=function(t){null==t&&(-1!=l(this.hex,0,[0,\"[3]\"])&&(t=c(this.hex,0,[0,\"[3]\",0],\"30\")));for(var e=[],r=n(t,0),i=0;i<r.length;i++){var s=o(t,r[i]),a=this.getExtParam(s);null!=a&&e.push(a)}return e},this.getExtParam=function(t){var e=n(t,0).length;if(2!=e&&3!=e)throw new Error(\"wrong number elements in Extension: \"+e+\" \"+t);var r=p(s(t,0,[0],\"06\")),i=!1;3==e&&\"0101ff\"==u(t,0,[1])&&(i=!0);var o=u(t,0,[e-1,0]),a=void 0;if(\"2.5.29.14\"==r?a=this.getExtSubjectKeyIdentifier(o,i):\"2.5.29.15\"==r?a=this.getExtKeyUsage(o,i):\"2.5.29.17\"==r?a=this.getExtSubjectAltName(o,i):\"2.5.29.18\"==r?a=this.getExtIssuerAltName(o,i):\"2.5.29.19\"==r?a=this.getExtBasicConstraints(o,i):\"2.5.29.31\"==r?a=this.getExtCRLDistributionPoints(o,i):\"2.5.29.32\"==r?a=this.getExtCertificatePolicies(o,i):\"2.5.29.35\"==r?a=this.getExtAuthorityKeyIdentifier(o,i):\"2.5.29.37\"==r?a=this.getExtExtKeyUsage(o,i):\"1.3.6.1.5.5.7.1.1\"==r?a=this.getExtAuthorityInfoAccess(o,i):\"2.5.29.20\"==r?a=this.getExtCRLNumber(o,i):\"2.5.29.21\"==r?a=this.getExtCRLReason(o,i):\"1.3.6.1.5.5.7.48.1.2\"==r?a=this.getExtOcspNonce(o,i):\"1.3.6.1.5.5.7.48.1.5\"==r?a=this.getExtOcspNoCheck(o,i):\"1.2.840.113583.1.1.9.1\"==r&&(a=this.getExtAdobeTimeStamp(o,i)),null!=a)return a;var c={extname:r,extn:o};return i&&(c.critical=!0),c},this.findExt=function(t,e){for(var r=0;r<t.length;r++)if(t[r].extname==e)return t[r];return null},this.updateExtCDPFullURI=function(t,e){var r=this.findExt(t,\"cRLDistributionPoints\");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)if(null!=n[i].dpname&&null!=n[i].dpname.full)for(var o=n[i].dpname.full,s=0;s<o.length;s++){var a=o[i];null!=a.uri&&(a.uri=e)}},this.updateExtAIAOCSP=function(t,e){var r=this.findExt(t,\"authorityInfoAccess\");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].ocsp&&(n[i].ocsp=e)},this.updateExtAIACAIssuer=function(t,e){var r=this.findExt(t,\"authorityInfoAccess\");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].caissuer&&(n[i].caissuer=e)},this.dnarraytostr=function(t){return\"/\"+t.map((function(t){return function e(t){return t.map((function(t){return function e(t){return t.type+\"=\"+t.value}(t).replace(/\\+/,\"\\\\+\")})).join(\"+\")}(t).replace(/\\//,\"\\\\/\")})).join(\"/\")},this.getInfo=function(){var t,e,r,n=function t(e){return JSON.stringify(e.array).replace(/[\\[\\]\\{\\}\\\"]/g,\"\")},i=function t(e){for(var r=\"\",n=e.array,i=0;i<n.length;i++){var o=n[i];if(r+=\"    policy oid: \"+o.policyoid+\"\\n\",void 0!==o.array)for(var s=0;s<o.array.length;s++){var a=o.array[s];void 0!==a.cps&&(r+=\"    cps: \"+a.cps+\"\\n\")}}return r},o=function t(e){for(var r=\"\",n=e.array,i=0;i<n.length;i++){var o=n[i];try{void 0!==o.dpname.full[0].uri&&(r+=\"    \"+o.dpname.full[0].uri+\"\\n\")}catch(t){}try{void 0!==o.dname.full[0].dn.hex&&(r+=\"    \"+on.hex2dn(o.dpname.full[0].dn.hex)+\"\\n\")}catch(t){}}return r},s=function t(e){for(var r=\"\",n=e.array,i=0;i<n.length;i++){var o=n[i];void 0!==o.caissuer&&(r+=\"    caissuer: \"+o.caissuer+\"\\n\"),void 0!==o.ocsp&&(r+=\"    ocsp: \"+o.ocsp+\"\\n\")}return r};if(t=\"Basic Fields\\n\",t+=\"  serial number: \"+this.getSerialNumberHex()+\"\\n\",t+=\"  signature algorithm: \"+this.getSignatureAlgorithmField()+\"\\n\",t+=\"  issuer: \"+this.getIssuerString()+\"\\n\",t+=\"  notBefore: \"+this.getNotBefore()+\"\\n\",t+=\"  notAfter: \"+this.getNotAfter()+\"\\n\",t+=\"  subject: \"+this.getSubjectString()+\"\\n\",t+=\"  subject public key info: \\n\",t+=\"    key algorithm: \"+(e=this.getPublicKey()).type+\"\\n\",\"RSA\"===e.type&&(t+=\"    n=\"+$r(e.n.toString(16)).substr(0,16)+\"...\\n\",t+=\"    e=\"+$r(e.e.toString(16))+\"\\n\"),null!=(r=this.aExtInfo)){t+=\"X509v3 Extensions:\\n\";for(var a=0;a<r.length;a++){var u=r[a],c=Sr.asn1.x509.OID.oid2name(u.oid);\"\"===c&&(c=u.oid);var h=\"\";if(!0===u.critical&&(h=\"CRITICAL\"),t+=\"  \"+c+\" \"+h+\":\\n\",\"basicConstraints\"===c){var l=this.getExtBasicConstraints();void 0===l.cA?t+=\"    {}\\n\":(t+=\"    cA=true\",void 0!==l.pathLen&&(t+=\", pathLen=\"+l.pathLen),t+=\"\\n\")}else if(\"keyUsage\"===c)t+=\"    \"+this.getExtKeyUsageString()+\"\\n\";else if(\"subjectKeyIdentifier\"===c)t+=\"    \"+this.getExtSubjectKeyIdentifier().kid.hex+\"\\n\";else if(\"authorityKeyIdentifier\"===c){var f=this.getExtAuthorityKeyIdentifier();void 0!==f.kid&&(t+=\"    kid=\"+f.kid.hex+\"\\n\")}else{if(\"extKeyUsage\"===c)t+=\"    \"+this.getExtExtKeyUsage().array.join(\", \")+\"\\n\";else if(\"subjectAltName\"===c)t+=\"    \"+n(this.getExtSubjectAltName())+\"\\n\";else if(\"cRLDistributionPoints\"===c)t+=o(this.getExtCRLDistributionPoints());else if(\"authorityInfoAccess\"===c)t+=s(this.getExtAuthorityInfoAccess());else\"certificatePolicies\"===c&&(t+=i(this.getExtCertificatePolicies()))}}}return t+=\"signature algorithm: \"+this.getSignatureAlgorithmName()+\"\\n\",t+=\"signature: \"+this.getSignatureValueHex().substr(0,16)+\"...\\n\"},\"string\"==typeof t&&(-1!=t.indexOf(\"-----BEGIN\")?this.readCertPEM(t):Sr.lang.String.isHex(t)&&this.readCertHex(t))}Me.prototype.sign=function(t,e){var r=function t(r){return Sr.crypto.Util.hashString(r,e)}(t);return this.signWithMessageHash(r,e)},Me.prototype.signWithMessageHash=function(t,e){var r=Oe(Sr.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return en(this.doPrivate(r).toString(16),this.n.bitLength())},Me.prototype.signPSS=function(t,e,r){var n=function t(r){return Sr.crypto.Util.hashHex(r,e)}(Nr(t));return void 0===r&&(r=-1),this.signWithMessageHashPSS(n,e,r)},Me.prototype.signWithMessageHashPSS=function(t,e,r){var n,i=Lr(t),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),u=function t(r){return Sr.crypto.Util.hashHex(r,e)};if(-1===r||void 0===r)r=o;else if(-2===r)r=a-o-2;else if(r<-2)throw new Error(\"invalid salt length\");if(a<o+r+2)throw new Error(\"data too long\");var c=\"\";r>0&&(c=new Array(r),(new Be).nextBytes(c),c=String.fromCharCode.apply(String,c));var h=Lr(u(Nr(\"\\0\\0\\0\\0\\0\\0\\0\\0\"+i+c))),l=[];for(n=0;n<a-r-o-2;n+=1)l[n]=0;var f=String.fromCharCode.apply(String,l)+\"\u0001\"+c,g=rn(h,f.length,u),d=[];for(n=0;n<f.length;n+=1)d[n]=f.charCodeAt(n)^g.charCodeAt(n);var p=65280>>8*a-s&255;for(d[0]&=~p,n=0;n<o;n++)d.push(h.charCodeAt(n));return d.push(188),en(this.doPrivate(new w(d)).toString(16),this.n.bitLength())},Me.prototype.verify=function(t,e){if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var r=Oe(e,16),n=this.n.bitLength();if(r.bitLength()>n)return!1;var i=this.doPublic(r).toString(16);if(i.length+3!=n/4)return!1;var o=nn(i.replace(/^1f+00/,\"\"));if(0==o.length)return!1;var s=o[0];return o[1]==function t(e){return Sr.crypto.Util.hashString(e,s)}(t)},Me.prototype.verifyWithMessageHash=function(t,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=Oe(e,16);if(r.bitLength()>this.n.bitLength())return 0;var n=nn(this.doPublic(r).toString(16).replace(/^1f+00/,\"\"));if(0==n.length)return!1;n[0];return n[1]==t},Me.prototype.verifyPSS=function(t,e,r,n){var i=function t(e){return Sr.crypto.Util.hashHex(e,r)}(Nr(t));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,e,r,n)},Me.prototype.verifyWithMessageHashPSS=function(t,e,r,n){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new w(e,16),s=function t(e){return Sr.crypto.Util.hashHex(e,r)},a=Lr(t),u=a.length,c=this.n.bitLength()-1,h=Math.ceil(c/8);if(-1===n||void 0===n)n=u;else if(-2===n)n=h-u-2;else if(n<-2)throw new Error(\"invalid salt length\");if(h<u+n+2)throw new Error(\"data too long\");var l=this.doPublic(o).toByteArray();for(i=0;i<l.length;i+=1)l[i]&=255;for(;l.length<h;)l.unshift(0);if(188!==l[h-1])throw new Error(\"encoded message does not end in 0xbc\");var f=(l=String.fromCharCode.apply(String,l)).substr(0,h-u-1),g=l.substr(f.length,u),d=65280>>8*h-c&255;if(0!=(f.charCodeAt(0)&d))throw new Error(\"bits beyond keysize not zero\");var p=rn(g,f.length,s),v=[];for(i=0;i<f.length;i+=1)v[i]=f.charCodeAt(i)^p.charCodeAt(i);v[0]&=~d;var y=h-u-n-2;for(i=0;i<y;i+=1)if(0!==v[i])throw new Error(\"leftmost octets not zero\");if(1!==v[y])throw new Error(\"0x01 marker not found\");return g===Lr(s(Nr(\"\\0\\0\\0\\0\\0\\0\\0\\0\"+a+String.fromCharCode.apply(String,v.slice(-n)))))},Me.SALT_LEN_HLEN=-1,Me.SALT_LEN_MAX=-2,Me.SALT_LEN_RECOVER=-2,on.hex2dn=function(t,e){void 0===e&&(e=0);var r=new on;Fr.getTLV(t,e);return r.getX500Name(t).str},on.hex2rdn=function(t,e){if(void 0===e&&(e=0),\"31\"!==t.substr(e,2))throw new Error(\"malformed RDN\");for(var r=new Array,n=Fr.getChildIdx(t,e),i=0;i<n.length;i++)r.push(on.hex2attrTypeValue(t,n[i]));return(r=r.map((function(t){return t.replace(\"+\",\"\\\\+\")}))).join(\"+\")},on.hex2attrTypeValue=function(t,e){var r=Fr,n=r.getV;if(void 0===e&&(e=0),\"30\"!==t.substr(e,2))throw new Error(\"malformed attribute type and value\");var i=r.getChildIdx(t,e);2!==i.length||t.substr(i[0],2);var o=n(t,i[0]),s=Sr.asn1.ASN1Util.oidHexToInt(o);return Sr.asn1.x509.OID.oid2atype(s)+\"=\"+Lr(n(t,i[1]))},on.getPublicKeyFromCertHex=function(t){var e=new on;return e.readCertHex(t),e.getPublicKey()},on.getPublicKeyFromCertPEM=function(t){var e=new on;return e.readCertPEM(t),e.getPublicKey()},on.getPublicKeyInfoPropOfCertPEM=function(t){var e,r,n=Fr.getVbyList,i={};return i.algparam=null,(e=new on).readCertPEM(t),r=e.getPublicKeyHex(),i.keyhex=n(r,0,[1],\"03\").substr(2),i.algoid=n(r,0,[0,0],\"06\"),\"2a8648ce3d0201\"===i.algoid&&(i.algparam=n(r,0,[0,1],\"06\")),i},on.KEYUSAGE_NAME=[\"digitalSignature\",\"nonRepudiation\",\"keyEncipherment\",\"dataEncipherment\",\"keyAgreement\",\"keyCertSign\",\"cRLSign\",\"encipherOnly\",\"decipherOnly\"],void 0!==Sr&&Sr||(e.KJUR=Sr={}),void 0!==Sr.jws&&Sr.jws||(Sr.jws={}),Sr.jws.JWS=function(){var t=Sr.jws.JWS.isSafeJSONString;this.parseJWS=function(e,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=e.match(/^([^.]+)\\.([^.]+)\\.([^.]+)$/);if(null==n)throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\";var i=n[1],o=n[2],s=n[3],a=i+\".\"+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!r){var u=Rr(s),c=Oe(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var h=wr(i),l=wr(o);if(this.parsedJWS.headS=h,this.parsedJWS.payloadS=l,!t(h,this.parsedJWS,\"headP\"))throw\"malformed JSON string for JWS Head: \"+h}}},Sr.jws.JWS.sign=function(t,e,r,n,i){var o,s,a,u=Sr,c=u.jws.JWS,h=c.readSafeJSONString,l=c.isSafeJSONString,f=u.crypto,d=(f.ECDSA,f.Mac),p=f.Signature,v=JSON;if(\"string\"!=typeof e&&\"object\"!=(void 0===e?\"undefined\":g(e)))throw\"spHeader must be JSON string or object: \"+e;if(\"object\"==(void 0===e?\"undefined\":g(e))&&(s=e,o=v.stringify(s)),\"string\"==typeof e){if(!l(o=e))throw\"JWS Head is not safe JSON string: \"+o;s=h(o)}if(a=r,\"object\"==(void 0===r?\"undefined\":g(r))&&(a=v.stringify(r)),\"\"!=t&&null!=t||void 0===s.alg||(t=s.alg),\"\"!=t&&null!=t&&void 0===s.alg&&(s.alg=t,o=v.stringify(s)),t!==s.alg)throw\"alg and sHeader.alg doesn't match: \"+t+\"!=\"+s.alg;var y=null;if(void 0===c.jwsalg2sigalg[t])throw\"unsupported alg name: \"+t;y=c.jwsalg2sigalg[t];var m=br(o)+\".\"+br(a),_=\"\";if(\"Hmac\"==y.substr(0,4)){if(void 0===n)throw\"mac key shall be specified for HS* alg\";var S=new d({alg:y,prov:\"cryptojs\",pass:n});S.updateString(m),_=S.doFinal()}else if(-1!=y.indexOf(\"withECDSA\")){(w=new p({alg:y})).init(n,i),w.updateString(m);var b=w.sign();_=Sr.crypto.ECDSA.asn1SigToConcatSig(b)}else{var w;if(\"none\"!=y)(w=new p({alg:y})).init(n,i),w.updateString(m),_=w.sign()}return m+\".\"+Tr(_)},Sr.jws.JWS.verify=function(t,e,r){var n,i=Sr,o=i.jws.JWS,s=o.readSafeJSONString,a=i.crypto,u=a.ECDSA,c=a.Mac,h=a.Signature;void 0!==g(Me)&&(n=Me);var l=t.split(\".\");if(3!==l.length)return!1;var f=l[0]+\".\"+l[1],d=Rr(l[2]),p=s(wr(l[0])),v=null,y=null;if(void 0===p.alg)throw\"algorithm not specified in header\";if((y=(v=p.alg).substr(0,2),null!=r&&\"[object Array]\"===Object.prototype.toString.call(r)&&r.length>0)&&-1==(\":\"+r.join(\":\")+\":\").indexOf(\":\"+v+\":\"))throw\"algorithm '\"+v+\"' not accepted in the list\";if(\"none\"!=v&&null===e)throw\"key shall be specified to verify.\";if(\"string\"==typeof e&&-1!=e.indexOf(\"-----BEGIN \")&&(e=tn.getKey(e)),!(\"RS\"!=y&&\"PS\"!=y||e instanceof n))throw\"key shall be a RSAKey obj for RS* and PS* algs\";if(\"ES\"==y&&!(e instanceof u))throw\"key shall be a ECDSA obj for ES* algs\";var m=null;if(void 0===o.jwsalg2sigalg[p.alg])throw\"unsupported alg name: \"+v;if(\"none\"==(m=o.jwsalg2sigalg[v]))throw\"not supported\";if(\"Hmac\"==m.substr(0,4)){if(void 0===e)throw\"hexadecimal key shall be specified for HMAC\";var _=new c({alg:m,pass:e});return _.updateString(f),d==_.doFinal()}if(-1!=m.indexOf(\"withECDSA\")){var S,b=null;try{b=u.concatSigToASN1Sig(d)}catch(t){return!1}return(S=new h({alg:m})).init(e),S.updateString(f),S.verify(b)}return(S=new h({alg:m})).init(e),S.updateString(f),S.verify(d)},Sr.jws.JWS.parse=function(t){var e,r,n,i=t.split(\".\"),o={};if(2!=i.length&&3!=i.length)throw\"malformed sJWS: wrong number of '.' splitted elements\";return e=i[0],r=i[1],3==i.length&&(n=i[2]),o.headerObj=Sr.jws.JWS.readSafeJSONString(wr(e)),o.payloadObj=Sr.jws.JWS.readSafeJSONString(wr(r)),o.headerPP=JSON.stringify(o.headerObj,null,\"  \"),null==o.payloadObj?o.payloadPP=wr(r):o.payloadPP=JSON.stringify(o.payloadObj,null,\"  \"),void 0!==n&&(o.sigHex=Rr(n)),o},Sr.jws.JWS.verifyJWT=function(t,e,r){var n=Sr.jws,i=n.JWS,o=i.readSafeJSONString,s=i.inArray,a=i.includedArray,u=t.split(\".\"),c=u[0],h=u[1],l=(Rr(u[2]),o(wr(c))),f=o(wr(h));if(void 0===l.alg)return!1;if(void 0===r.alg)throw\"acceptField.alg shall be specified\";if(!s(l.alg,r.alg))return!1;if(void 0!==f.iss&&\"object\"===g(r.iss)&&!s(f.iss,r.iss))return!1;if(void 0!==f.sub&&\"object\"===g(r.sub)&&!s(f.sub,r.sub))return!1;if(void 0!==f.aud&&\"object\"===g(r.aud))if(\"string\"==typeof f.aud){if(!s(f.aud,r.aud))return!1}else if(\"object\"==g(f.aud)&&!a(f.aud,r.aud))return!1;var d=n.IntDate.getNow();return void 0!==r.verifyAt&&\"number\"==typeof r.verifyAt&&(d=r.verifyAt),void 0!==r.gracePeriod&&\"number\"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==f.exp&&\"number\"==typeof f.exp&&f.exp+r.gracePeriod<d)&&(!(void 0!==f.nbf&&\"number\"==typeof f.nbf&&d<f.nbf-r.gracePeriod)&&(!(void 0!==f.iat&&\"number\"==typeof f.iat&&d<f.iat-r.gracePeriod)&&((void 0===f.jti||void 0===r.jti||f.jti===r.jti)&&!!i.verify(t,e,r.alg))))},Sr.jws.JWS.includedArray=function(t,e){var r=Sr.jws.JWS.inArray;if(null===t)return!1;if(\"object\"!==(void 0===t?\"undefined\":g(t)))return!1;if(\"number\"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(!r(t[n],e))return!1;return!0},Sr.jws.JWS.inArray=function(t,e){if(null===e)return!1;if(\"object\"!==(void 0===e?\"undefined\":g(e)))return!1;if(\"number\"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},Sr.jws.JWS.jwsalg2sigalg={HS256:\"HmacSHA256\",HS384:\"HmacSHA384\",HS512:\"HmacSHA512\",RS256:\"SHA256withRSA\",RS384:\"SHA384withRSA\",RS512:\"SHA512withRSA\",ES256:\"SHA256withECDSA\",ES384:\"SHA384withECDSA\",PS256:\"SHA256withRSAandMGF1\",PS384:\"SHA384withRSAandMGF1\",PS512:\"SHA512withRSAandMGF1\",none:\"none\"},Sr.jws.JWS.isSafeJSONString=function(t,e,r){var n=null;try{return\"object\"!=(void 0===(n=_r(t))?\"undefined\":g(n))||n.constructor===Array?0:(e&&(e[r]=n),1)}catch(t){return 0}},Sr.jws.JWS.readSafeJSONString=function(t){var e=null;try{return\"object\"!=(void 0===(e=_r(t))?\"undefined\":g(e))||e.constructor===Array?null:e}catch(t){return null}},Sr.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\\.[^.]+\\.([^.]+)$/);if(null==e)throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\";return e[1]},Sr.jws.JWS.getJWKthumbprint=function(t){if(\"RSA\"!==t.kty&&\"EC\"!==t.kty&&\"oct\"!==t.kty)throw\"unsupported algorithm for JWK Thumprint\";var e=\"{\";if(\"RSA\"===t.kty){if(\"string\"!=typeof t.n||\"string\"!=typeof t.e)throw\"wrong n and e value for RSA key\";e+='\"e\":\"'+t.e+'\",',e+='\"kty\":\"'+t.kty+'\",',e+='\"n\":\"'+t.n+'\"}'}else if(\"EC\"===t.kty){if(\"string\"!=typeof t.crv||\"string\"!=typeof t.x||\"string\"!=typeof t.y)throw\"wrong crv, x and y value for EC key\";e+='\"crv\":\"'+t.crv+'\",',e+='\"kty\":\"'+t.kty+'\",',e+='\"x\":\"'+t.x+'\",',e+='\"y\":\"'+t.y+'\"}'}else if(\"oct\"===t.kty){if(\"string\"!=typeof t.k)throw\"wrong k value for oct(symmetric) key\";e+='\"kty\":\"'+t.kty+'\",',e+='\"k\":\"'+t.k+'\"}'}var r=Nr(e);return Tr(Sr.crypto.Util.hashHex(r,\"sha256\"))},Sr.jws.IntDate={},Sr.jws.IntDate.get=function(t){var e=Sr.jws.IntDate,r=e.getNow,n=e.getZulu;if(\"now\"==t)return r();if(\"now + 1hour\"==t)return r()+3600;if(\"now + 1day\"==t)return r()+86400;if(\"now + 1month\"==t)return r()+2592e3;if(\"now + 1year\"==t)return r()+31536e3;if(t.match(/Z$/))return n(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw\"unsupported format: \"+t},Sr.jws.IntDate.getZulu=function(t){return Vr(t)},Sr.jws.IntDate.getNow=function(){return~~(new Date/1e3)},Sr.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},Sr.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return(\"0000\"+e.getUTCFullYear()).slice(-4)+(\"00\"+(e.getUTCMonth()+1)).slice(-2)+(\"00\"+e.getUTCDate()).slice(-2)+(\"00\"+e.getUTCHours()).slice(-2)+(\"00\"+e.getUTCMinutes()).slice(-2)+(\"00\"+e.getUTCSeconds()).slice(-2)+\"Z\"},e.SecureRandom=Be,e.rng_seed_time=Re,e.BigInteger=w,e.RSAKey=Me;var sn=Sr.crypto.EDSA;e.EDSA=sn;var an=Sr.crypto.DSA;e.DSA=an;var un=Sr.crypto.Signature;e.Signature=un;var cn=Sr.crypto.MessageDigest;e.MessageDigest=cn;var hn=Sr.crypto.Mac;e.Mac=hn;var ln=Sr.crypto.Cipher;e.Cipher=ln,e.KEYUTIL=tn,e.ASN1HEX=Fr,e.X509=on,e.CryptoJS=v,e.b64tohex=S,e.b64toBA=b,e.stoBA=Er,e.BAtos=xr,e.BAtohex=Ar,e.stohex=kr,e.stob64=function fn(t){return _(kr(t))},e.stob64u=function gn(t){return Pr(_(kr(t)))},e.b64utos=function dn(t){return xr(b(Cr(t)))},e.b64tob64u=Pr,e.b64utob64=Cr,e.hex2b64=_,e.hextob64u=Tr,e.b64utohex=Rr,e.utf8tob64u=br,e.b64utoutf8=wr,e.utf8tob64=function pn(t){return _(Kr(Gr(t)))},e.b64toutf8=function vn(t){return decodeURIComponent(qr(S(t)))},e.utf8tohex=Ir,e.hextoutf8=Dr,e.hextorstr=Lr,e.rstrtohex=Nr,e.hextob64=Ur,e.hextob64nl=Br,e.b64nltohex=Or,e.hextopem=jr,e.pemtohex=Mr,e.hextoArrayBuffer=function yn(t){if(t.length%2!=0)throw\"input is not even length\";if(null==t.match(/^[0-9A-Fa-f]+$/))throw\"input is not hexadecimal\";for(var e=new ArrayBuffer(t.length/2),r=new DataView(e),n=0;n<t.length/2;n++)r.setUint8(n,parseInt(t.substr(2*n,2),16));return e},e.ArrayBuffertohex=function mn(t){for(var e=\"\",r=new DataView(t),n=0;n<t.byteLength;n++)e+=(\"00\"+r.getUint8(n).toString(16)).slice(-2);return e},e.zulutomsec=Hr,e.zulutosec=Vr,e.zulutodate=function _n(t){return new Date(Hr(t))},e.datetozulu=function Sn(t,e,r){var n,i=t.getUTCFullYear();if(e){if(i<1950||2049<i)throw\"not proper year for UTCTime: \"+i;n=(\"\"+i).slice(-2)}else n=(\"000\"+i).slice(-4);if(n+=(\"0\"+(t.getUTCMonth()+1)).slice(-2),n+=(\"0\"+t.getUTCDate()).slice(-2),n+=(\"0\"+t.getUTCHours()).slice(-2),n+=(\"0\"+t.getUTCMinutes()).slice(-2),n+=(\"0\"+t.getUTCSeconds()).slice(-2),r){var o=t.getUTCMilliseconds();0!==o&&(n+=\".\"+(o=(o=(\"00\"+o).slice(-3)).replace(/0+$/g,\"\")))}return n+=\"Z\"},e.uricmptohex=Kr,e.hextouricmp=qr,e.ipv6tohex=Jr,e.hextoipv6=Wr,e.hextoip=zr,e.iptohex=function bn(t){var e=\"malformed IP address\";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(\":\"))return Jr(t);throw e}var r=t.split(\".\");if(4!==r.length)throw e;var n=\"\";try{for(var i=0;i<4;i++){n+=(\"0\"+parseInt(r[i]).toString(16)).slice(-2)}return n}catch(t){throw e}},e.encodeURIComponentAll=Gr,e.newline_toUnix=function wn(t){return t=t.replace(/\\r\\n/gm,\"\\n\")},e.newline_toDos=function Fn(t){return t=(t=t.replace(/\\r\\n/gm,\"\\n\")).replace(/\\n/gm,\"\\r\\n\")},e.hextoposhex=$r,e.intarystrtohex=function En(t){t=(t=(t=t.replace(/^\\s*\\[\\s*/,\"\")).replace(/\\s*\\]\\s*$/,\"\")).replace(/\\s*/g,\"\");try{return t.split(/,/).map((function(t,e,r){var n=parseInt(t);if(n<0||255<n)throw\"integer not in range 0-255\";return(\"00\"+n.toString(16)).slice(-2)})).join(\"\")}catch(t){throw\"malformed integer array string: \"+t}},e.strdiffidx=function t(e,r){var n=e.length;e.length>r.length&&(n=r.length);for(var i=0;i<n;i++)if(e.charCodeAt(i)!=r.charCodeAt(i))return i;return e.length!=r.length?n:-1},e.KJUR=Sr;var xn=Sr.crypto;e.crypto=xn;var An=Sr.asn1;e.asn1=An;var kn=Sr.jws;e.jws=kn;var Pn=Sr.lang;e.lang=Pn}).call(this,r(28).Buffer)},function(t,e,r){\"use strict\";(function(t){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar n=r(30),i=r(31),o=r(32);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return l(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function i(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,r,n):\"string\"==typeof e?function s(t,e,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function c(t,e){if(u.isBuffer(e)){var r=0|g(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||function n(t){return t!=t}(e.length)?a(t,0):f(t,e);if(\"Buffer\"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(t,e)}function h(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function l(t,e){if(h(e),t=a(t,e<0?0:0|g(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|g(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function g(t){if(t>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return K(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return q(t).length;default:if(n)return K(t).length;e=(\"\"+e).toLowerCase(),n=!0}}function p(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return I(this,e,r);case\"utf8\":case\"utf-8\":return A(this,e,r);case\"ascii\":return T(this,e,r);case\"latin1\":case\"binary\":return R(this,e,r);case\"base64\":return x(this,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return D(this,e,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if(\"number\"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function m(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){l=!1;break}if(l)return o}return-1}function _(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function S(t,e,r,n){return J(K(e,t.length-r),t,r,n)}function b(t,e,r,n){return J(function i(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return b(t,e,r,n)}function F(t,e,r,n){return J(q(e),t,r,n)}function E(t,e,r,n){return J(function i(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=l}return function f(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var r=\"\",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=C));return r}(n)}e.Buffer=u,e.SlowBuffer=function k(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function P(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function n(t,e,r,i){return h(e),e<=0?a(t,e):void 0!==r?\"string\"==typeof i?a(t,e).fill(r,i):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function t(e){return!(null==e||!e._isBuffer)},u.compare=function t(e,r){if(!u.isBuffer(e)||!u.isBuffer(r))throw new TypeError(\"Arguments must be Buffers\");if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0},u.isEncoding=function t(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function t(e,r){if(!o(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=u.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(i,s),s+=a.length}return i},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function t(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var r=0;r<e;r+=2)v(this,r,r+1);return this},u.prototype.swap32=function t(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var r=0;r<e;r+=4)v(this,r,r+3),v(this,r+1,r+2);return this},u.prototype.swap64=function t(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var r=0;r<e;r+=8)v(this,r,r+7),v(this,r+1,r+6),v(this,r+2,r+5),v(this,r+3,r+4);return this},u.prototype.toString=function t(){var e=0|this.length;return 0===e?\"\":0===arguments.length?A(this,0,e):p.apply(this,arguments)},u.prototype.equals=function t(e){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===u.compare(this,e)},u.prototype.inspect=function t(){var r=\"\",n=e.INSPECT_MAX_BYTES;return this.length>0&&(r=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(r+=\" ... \")),\"<Buffer \"+r+\">\"},u.prototype.compare=function t(e,r,n,i,o){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError(\"out of range index\");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(r>>>=0),c=Math.min(s,a),h=this.slice(i,o),l=e.slice(r,n),f=0;f<c;++f)if(h[f]!==l[f]){s=h[f],a=l[f];break}return s<a?-1:a<s?1:0},u.prototype.includes=function t(e,r,n){return-1!==this.indexOf(e,r,n)},u.prototype.indexOf=function t(e,r,n){return y(this,e,r,n,!0)},u.prototype.lastIndexOf=function t(e,r,n){return y(this,e,r,n,!1)},u.prototype.write=function t(e,r,n,i){if(void 0===r)i=\"utf8\",n=this.length,r=0;else if(void 0===n&&\"string\"==typeof r)i=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");r|=0,isFinite(n)?(n|=0,void 0===i&&(i=\"utf8\")):(i=n,n=void 0)}var o=this.length-r;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");for(var s=!1;;)switch(i){case\"hex\":return _(this,e,r,n);case\"utf8\":case\"utf-8\":return S(this,e,r,n);case\"ascii\":return b(this,e,r,n);case\"latin1\":case\"binary\":return w(this,e,r,n);case\"base64\":return F(this,e,r,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return E(this,e,r,n);default:if(s)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),s=!0}},u.prototype.toJSON=function t(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=e;o<r;++o)i+=V(t[o]);return i}function D(t,e,r){for(var n=t.slice(e,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(t,e,r){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>r)throw new RangeError(\"Trying to access beyond buffer length\")}function N(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>t.length)throw new RangeError(\"Index out of range\")}function U(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function B(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function O(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function j(t,e,r,n,o){return o||O(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,o){return o||O(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function t(e,r){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(r=void 0===r?i:~~r)<0?(r+=i)<0&&(r=0):r>i&&(r=i),r<e&&(r=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,r)).__proto__=u.prototype;else{var o=r-e;n=new u(o,void 0);for(var s=0;s<o;++s)n[s]=this[s+e]}return n},u.prototype.readUIntLE=function t(e,r,n){e|=0,r|=0,n||L(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i},u.prototype.readUIntBE=function t(e,r,n){e|=0,r|=0,n||L(e,r,this.length);for(var i=this[e+--r],o=1;r>0&&(o*=256);)i+=this[e+--r]*o;return i},u.prototype.readUInt8=function t(e,r){return r||L(e,1,this.length),this[e]},u.prototype.readUInt16LE=function t(e,r){return r||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function t(e,r){return r||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function t(e,r){return r||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function t(e,r){return r||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function t(e,r,n){e|=0,r|=0,n||L(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*r)),i},u.prototype.readIntBE=function t(e,r,n){e|=0,r|=0,n||L(e,r,this.length);for(var i=r,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*r)),s},u.prototype.readInt8=function t(e,r){return r||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function t(e,r){r||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function t(e,r){r||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function t(e,r){return r||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function t(e,r){return r||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function t(e,r){return r||L(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function t(e,r){return r||L(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function t(e,r){return r||L(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function t(e,r){return r||L(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function t(e,r,n,i){(e=+e,r|=0,n|=0,i)||N(this,e,r,n,Math.pow(2,8*n)-1,0);var o=1,s=0;for(this[r]=255&e;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n},u.prototype.writeUIntBE=function t(e,r,n,i){(e=+e,r|=0,n|=0,i)||N(this,e,r,n,Math.pow(2,8*n)-1,0);var o=n-1,s=1;for(this[r+o]=255&e;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n},u.prototype.writeUInt8=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},u.prototype.writeUInt16LE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):U(this,e,r,!0),r+2},u.prototype.writeUInt16BE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):U(this,e,r,!1),r+2},u.prototype.writeUInt32LE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):B(this,e,r,!0),r+4},u.prototype.writeUInt32BE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):B(this,e,r,!1),r+4},u.prototype.writeIntLE=function t(e,r,n,i){if(e=+e,r|=0,!i){var o=Math.pow(2,8*n-1);N(this,e,r,n,o-1,-o)}var s=0,a=1,u=0;for(this[r]=255&e;++s<n&&(a*=256);)e<0&&0===u&&0!==this[r+s-1]&&(u=1),this[r+s]=(e/a>>0)-u&255;return r+n},u.prototype.writeIntBE=function t(e,r,n,i){if(e=+e,r|=0,!i){var o=Math.pow(2,8*n-1);N(this,e,r,n,o-1,-o)}var s=n-1,a=1,u=0;for(this[r+s]=255&e;--s>=0&&(a*=256);)e<0&&0===u&&0!==this[r+s+1]&&(u=1),this[r+s]=(e/a>>0)-u&255;return r+n},u.prototype.writeInt8=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},u.prototype.writeInt16LE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):U(this,e,r,!0),r+2},u.prototype.writeInt16BE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):U(this,e,r,!1),r+2},u.prototype.writeInt32LE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):B(this,e,r,!0),r+4},u.prototype.writeInt32BE=function t(e,r,n){return e=+e,r|=0,n||N(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):B(this,e,r,!1),r+4},u.prototype.writeFloatLE=function t(e,r,n){return j(this,e,r,!0,n)},u.prototype.writeFloatBE=function t(e,r,n){return j(this,e,r,!1,n)},u.prototype.writeDoubleLE=function t(e,r,n){return M(this,e,r,!0,n)},u.prototype.writeDoubleBE=function t(e,r,n){return M(this,e,r,!1,n)},u.prototype.copy=function t(e,r,n,i){if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(i<0)throw new RangeError(\"sourceEnd out of bounds\");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o,s=i-n;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s},u.prototype.fill=function t(e,r,n,i){if(\"string\"==typeof e){if(\"string\"==typeof r?(i=r,r=0,n=this.length):\"string\"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&\"string\"!=typeof i)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof i&&!u.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i)}else\"number\"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<n)throw new RangeError(\"Out of range index\");if(n<=r)return this;var s;if(r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(s=r;s<n;++s)this[s]=e;else{var a=u.isBuffer(e)?e:K(new u(e,i).toString()),c=a.length;for(s=0;s<n-r;++s)this[s+r]=a[s%c]}return this};var H=/[^+\\/0-9A-Za-z-_]/g;function V(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function K(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(t){return n.toByteArray(function e(t){if((t=function e(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}(t).replace(H,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function J(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(29))},function(t,e){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},function(t,e,r){\"use strict\";e.byteLength=function n(t){var e=f(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function i(t){var e,r,n=f(t),i=n[0],o=n[1],s=new u(function c(t,e,r){return 3*(e+r)/4-r}(0,i,o)),h=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)e=a[t.charCodeAt(r)]<<18|a[t.charCodeAt(r+1)]<<12|a[t.charCodeAt(r+2)]<<6|a[t.charCodeAt(r+3)],s[h++]=e>>16&255,s[h++]=e>>8&255,s[h++]=255&e;2===o&&(e=a[t.charCodeAt(r)]<<2|a[t.charCodeAt(r+1)]>>4,s[h++]=255&e);1===o&&(e=a[t.charCodeAt(r)]<<10|a[t.charCodeAt(r+1)]<<4|a[t.charCodeAt(r+2)]>>2,s[h++]=e>>8&255,s[h++]=255&e);return s},e.fromByteArray=function o(t){for(var e,r=t.length,n=r%3,i=[],o=16383,a=0,u=r-n;a<u;a+=o)i.push(g(t,a,a+o>u?u:a+o));1===n?(e=t[r-1],i.push(s[e>>2]+s[e<<4&63]+\"==\")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+\"=\"));return i.join(\"\")};for(var s=[],a=[],u=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,c=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",h=0,l=c.length;h<l;++h)s[h]=c[h],a[c.charCodeAt(h)]=h;function f(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=t.indexOf(\"=\");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function g(t,e,r){for(var n,i,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(i=n)>>18&63]+s[i>>12&63]+s[i>>6&63]+s[63&i]);return o.join(\"\")}a[\"-\".charCodeAt(0)]=62,a[\"_\".charCodeAt(0)]=63},function(t,e){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?i-1:0,f=r?-1:1,g=t[e+l];for(l+=f,o=g&(1<<-h)-1,g>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,n),o-=c}return(g?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,d=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+g]=255&a,g+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+g]=255&s,g+=d,s/=256,c-=8);t[r+g-d]|=128*p}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==r.call(t)}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function n(t){var e=t.jws,r=t.KeyUtil,n=t.X509,o=t.crypto,s=t.hextob64u,a=t.b64tohex,u=t.AllowedSigningAlgs;return function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.parseJwt=function t(r){i.Log.debug(\"JoseUtil.parseJwt\");try{var n=e.JWS.parse(r);return{header:n.headerObj,payload:n.payloadObj}}catch(t){i.Log.error(t)}},t.validateJwt=function e(o,s,u,c,h,l,f){i.Log.debug(\"JoseUtil.validateJwt\");try{if(\"RSA\"===s.kty)if(s.e&&s.n)s=r.getKey(s);else{if(!s.x5c||!s.x5c.length)return i.Log.error(\"JoseUtil.validateJwt: RSA key missing key material\",s),Promise.reject(new Error(\"RSA key missing key material\"));var g=a(s.x5c[0]);s=n.getPublicKeyFromCertHex(g)}else{if(\"EC\"!==s.kty)return i.Log.error(\"JoseUtil.validateJwt: Unsupported key type\",s&&s.kty),Promise.reject(new Error(s.kty));if(!(s.crv&&s.x&&s.y))return i.Log.error(\"JoseUtil.validateJwt: EC key missing key material\",s),Promise.reject(new Error(\"EC key missing key material\"));s=r.getKey(s)}return t._validateJwt(o,s,u,c,h,l,f)}catch(t){return i.Log.error(t&&t.message||t),Promise.reject(\"JWT validation failed\")}},t.validateJwtAttributes=function e(r,n,o,s,a,u){s||(s=0),a||(a=parseInt(Date.now()/1e3));var c=t.parseJwt(r).payload;if(!c.iss)return i.Log.error(\"JoseUtil._validateJwt: issuer was not provided\"),Promise.reject(new Error(\"issuer was not provided\"));if(c.iss!==n)return i.Log.error(\"JoseUtil._validateJwt: Invalid issuer in token\",c.iss),Promise.reject(new Error(\"Invalid issuer in token: \"+c.iss));if(!c.aud)return i.Log.error(\"JoseUtil._validateJwt: aud was not provided\"),Promise.reject(new Error(\"aud was not provided\"));if(!(c.aud===o||Array.isArray(c.aud)&&c.aud.indexOf(o)>=0))return i.Log.error(\"JoseUtil._validateJwt: Invalid audience in token\",c.aud),Promise.reject(new Error(\"Invalid audience in token: \"+c.aud));if(c.azp&&c.azp!==o)return i.Log.error(\"JoseUtil._validateJwt: Invalid azp in token\",c.azp),Promise.reject(new Error(\"Invalid azp in token: \"+c.azp));if(!u){var h=a+s,l=a-s;if(!c.iat)return i.Log.error(\"JoseUtil._validateJwt: iat was not provided\"),Promise.reject(new Error(\"iat was not provided\"));if(h<c.iat)return i.Log.error(\"JoseUtil._validateJwt: iat is in the future\",c.iat),Promise.reject(new Error(\"iat is in the future: \"+c.iat));if(c.nbf&&h<c.nbf)return i.Log.error(\"JoseUtil._validateJwt: nbf is in the future\",c.nbf),Promise.reject(new Error(\"nbf is in the future: \"+c.nbf));if(!c.exp)return i.Log.error(\"JoseUtil._validateJwt: exp was not provided\"),Promise.reject(new Error(\"exp was not provided\"));if(c.exp<l)return i.Log.error(\"JoseUtil._validateJwt: exp is in the past\",c.exp),Promise.reject(new Error(\"exp is in the past:\"+c.exp))}return Promise.resolve(c)},t._validateJwt=function r(n,o,s,a,c,h,l){return t.validateJwtAttributes(n,s,a,c,h,l).then((function(t){try{return e.JWS.verify(n,o,u)?t:(i.Log.error(\"JoseUtil._validateJwt: signature validation failed\"),Promise.reject(new Error(\"signature validation failed\")))}catch(t){return i.Log.error(t&&t.message||t),Promise.reject(new Error(\"signature validation failed\"))}}))},t.hashString=function t(e,r){try{return o.Util.hashString(e,r)}catch(t){i.Log.error(t)}},t.hexToBase64Url=function t(e){try{return s(e)}catch(t){i.Log.error(t)}},t}()};var i=r(0);t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SigninResponse=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(3);function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.SigninResponse=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"#\";o(this,t);var n=i.UrlUtility.parseUrlFragment(e,r);this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.code=n.code,this.state=n.state,this.id_token=n.id_token,this.session_state=n.session_state,this.access_token=n.access_token,this.token_type=n.token_type,this.scope=n.scope,this.profile=void 0,this.expires_in=n.expires_in}return n(t,[{key:\"expires_in\",get:function t(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function t(e){var r=parseInt(e);if(\"number\"==typeof r&&r>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+r}}},{key:\"expired\",get:function t(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:\"scopes\",get:function t(){return(this.scope||\"\").split(\" \")}},{key:\"isOpenIdConnect\",get:function t(){return this.scopes.indexOf(\"openid\")>=0||!!this.id_token}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SignoutRequest=void 0;var n=r(0),i=r(3),o=r(9);e.SignoutRequest=function t(e){var r=e.url,s=e.id_token_hint,a=e.post_logout_redirect_uri,u=e.data,c=e.extraQueryParams,h=e.request_type;if(function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!r)throw n.Log.error(\"SignoutRequest.ctor: No url passed\"),new Error(\"url\");for(var f in s&&(r=i.UrlUtility.addQueryParam(r,\"id_token_hint\",s)),a&&(r=i.UrlUtility.addQueryParam(r,\"post_logout_redirect_uri\",a),u&&(this.state=new o.State({data:u,request_type:h}),r=i.UrlUtility.addQueryParam(r,\"state\",this.state.id))),c)r=i.UrlUtility.addQueryParam(r,f,c[f]);this.url=r}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SignoutResponse=void 0;var n=r(3);e.SignoutResponse=function t(e){!function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var i=n.UrlUtility.parseUrlFragment(e,\"?\");this.error=i.error,this.error_description=i.error_description,this.error_uri=i.error_uri,this.state=i.state}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.InMemoryWebStorage=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.InMemoryWebStorage=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._data={}}return t.prototype.getItem=function t(e){return i.Log.debug(\"InMemoryWebStorage.getItem\",e),this._data[e]},t.prototype.setItem=function t(e,r){i.Log.debug(\"InMemoryWebStorage.setItem\",e),this._data[e]=r},t.prototype.removeItem=function t(e){i.Log.debug(\"InMemoryWebStorage.removeItem\",e),delete this._data[e]},t.prototype.key=function t(e){return Object.getOwnPropertyNames(this._data)[e]},n(t,[{key:\"length\",get:function t(){return Object.getOwnPropertyNames(this._data).length}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserManager=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10),s=r(39),a=r(15),u=r(45),c=r(47),h=r(18),l=r(8),f=r(20),g=r(11),d=r(4);function p(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function v(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}e.UserManager=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.SessionMonitor,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.TokenRevocationClient,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g.TokenClient,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.JoseUtil;p(this,e),r instanceof s.UserManagerSettings||(r=new s.UserManagerSettings(r));var m=v(this,t.call(this,r));return m._events=new u.UserManagerEvents(r),m._silentRenewService=new n(m),m.settings.automaticSilentRenew&&(i.Log.debug(\"UserManager.ctor: automaticSilentRenew is configured, setting up silent renew\"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug(\"UserManager.ctor: monitorSession is configured, setting up session monitor\"),m._sessionMonitor=new o(m)),m._tokenRevocationClient=new a(m._settings),m._tokenClient=new l(m._settings),m._joseUtil=y,m}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getUser=function t(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info(\"UserManager.getUser: user loaded\"),e._events.load(t,!1),t):(i.Log.info(\"UserManager.getUser: user not found in storage\"),null)}))},e.prototype.removeUser=function t(){var e=this;return this.storeUser(null).then((function(){i.Log.info(\"UserManager.removeUser: user removed from storage\"),e._events.unload()}))},e.prototype.signinRedirect=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"si:r\";var r={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,r).then((function(){i.Log.info(\"UserManager.signinRedirect: successful\")}))},e.prototype.signinRedirectCallback=function t(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(t){return t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinRedirectCallback: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinRedirectCallback: no sub\"),t}))},e.prototype.signinPopup=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"si:p\";var r=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return r?(e.redirect_uri=r,e.display=\"popup\",this._signin(e,this._popupNavigator,{startUrl:r,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinPopup: signinPopup successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinPopup: no sub\")),t}))):(i.Log.error(\"UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured\"),Promise.reject(new Error(\"No popup_redirect_uri or redirect_uri configured\")))},e.prototype.signinPopupCallback=function t(e){return this._signinCallback(e,this._popupNavigator).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinPopupCallback: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinPopupCallback: no sub\")),t})).catch((function(t){i.Log.error(t.message)}))},e.prototype.signinSilent=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r=Object.assign({},r),this._loadUser().then((function(t){return t&&t.refresh_token?(r.refresh_token=t.refresh_token,e._useRefreshToken(r)):(r.request_type=\"si:s\",r.id_token_hint=r.id_token_hint||e.settings.includeIdTokenInSilentRenew&&t&&t.id_token,t&&e._settings.validateSubOnSilentRenew&&(i.Log.debug(\"UserManager.signinSilent, subject prior to silent renew: \",t.profile.sub),r.current_sub=t.profile.sub),e._signinSilentIframe(r))}))},e.prototype._useRefreshToken=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(r).then((function(t){return t?t.access_token?e._loadUser().then((function(r){if(r){var n=Promise.resolve();return t.id_token&&(n=e._validateIdTokenFromTokenRefreshToken(r.profile,t.id_token)),n.then((function(){return i.Log.debug(\"UserManager._useRefreshToken: refresh token response success\"),r.id_token=t.id_token||r.id_token,r.access_token=t.access_token,r.refresh_token=t.refresh_token||r.refresh_token,r.expires_in=t.expires_in,e.storeUser(r).then((function(){return e._events.load(r),r}))}))}return null})):(i.Log.error(\"UserManager._useRefreshToken: No access token returned from token endpoint\"),Promise.reject(\"No access token returned from token endpoint\")):(i.Log.error(\"UserManager._useRefreshToken: No response returned from token endpoint\"),Promise.reject(\"No response returned from token endpoint\"))}))},e.prototype._validateIdTokenFromTokenRefreshToken=function t(e,r){var n=this;return this._metadataService.getIssuer().then((function(t){return n.settings.getEpochTime().then((function(o){return n._joseUtil.validateJwtAttributes(r,t,n._settings.client_id,n._settings.clockSkew,o).then((function(t){return t?t.sub!==e.sub?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub\"),Promise.reject(new Error(\"sub in id_token does not match current sub\"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time\"),Promise.reject(new Error(\"auth_time in id_token does not match original auth_time\"))):t.azp&&t.azp!==e.azp?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp\"),Promise.reject(new Error(\"azp in id_token does not match original azp\"))):!t.azp&&e.azp?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token\"),Promise.reject(new Error(\"azp not in id_token, but present in original id_token\"))):void 0:(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token\"),Promise.reject(new Error(\"Failed to validate id_token\")))}))}))}))},e.prototype._signinSilentIframe=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return r?(e.redirect_uri=r,e.prompt=e.prompt||\"none\",this._signin(e,this._iframeNavigator,{startUrl:r,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinSilent: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinSilent: no sub\")),t}))):(i.Log.error(\"UserManager.signinSilent: No silent_redirect_uri configured\"),Promise.reject(new Error(\"No silent_redirect_uri configured\")))},e.prototype.signinSilentCallback=function t(e){return this._signinCallback(e,this._iframeNavigator).then((function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinSilentCallback: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinSilentCallback: no sub\")),t}))},e.prototype.signinCallback=function t(e){var r=this;return this.readSigninResponseState(e).then((function(t){var n=t.state;t.response;return\"si:r\"===n.request_type?r.signinRedirectCallback(e):\"si:p\"===n.request_type?r.signinPopupCallback(e):\"si:s\"===n.request_type?r.signinSilentCallback(e):Promise.reject(new Error(\"invalid response_type in state\"))}))},e.prototype.signoutCallback=function t(e,r){var n=this;return this.readSignoutResponseState(e).then((function(t){var i=t.state,o=t.response;return i?\"so:r\"===i.request_type?n.signoutRedirectCallback(e):\"so:p\"===i.request_type?n.signoutPopupCallback(e,r):Promise.reject(new Error(\"invalid response_type in state\")):o}))},e.prototype.querySessionStatus=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(r=Object.assign({},r)).request_type=\"si:s\";var n=r.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(r.redirect_uri=n,r.prompt=\"none\",r.response_type=r.response_type||this.settings.query_status_response_type,r.scope=r.scope||\"openid\",r.skipUserInfo=!0,this._signinStart(r,this._iframeNavigator,{startUrl:n,silentRequestTimeout:r.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(t){if(i.Log.debug(\"UserManager.querySessionStatus: got signin response\"),t.session_state&&t.profile.sub)return i.Log.info(\"UserManager.querySessionStatus: querySessionStatus success for sub: \",t.profile.sub),{session_state:t.session_state,sub:t.profile.sub,sid:t.profile.sid};i.Log.info(\"querySessionStatus successful, user not authenticated\")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&(\"login_required\"==t.message||\"consent_required\"==t.message||\"interaction_required\"==t.message||\"account_selection_required\"==t.message))return i.Log.info(\"UserManager.querySessionStatus: querySessionStatus success for anonymous user\"),{session_state:t.session_state};throw t}))}))):(i.Log.error(\"UserManager.querySessionStatus: No silent_redirect_uri configured\"),Promise.reject(new Error(\"No silent_redirect_uri configured\")))},e.prototype._signin=function t(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,r,i).then((function(t){return n._signinEnd(t.url,e)}))},e.prototype._signinStart=function t(e,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.prepare(o).then((function(t){return i.Log.debug(\"UserManager._signinStart: got navigator window handle\"),n.createSigninRequest(e).then((function(e){return i.Log.debug(\"UserManager._signinStart: got signin request\"),o.url=e.url,o.id=e.state.id,t.navigate(o)})).catch((function(e){throw t.close&&(i.Log.debug(\"UserManager._signinStart: Error after preparing navigator, closing navigator window\"),t.close()),e}))}))},e.prototype._signinEnd=function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(t){i.Log.debug(\"UserManager._signinEnd: got signin response\");var e=new a.User(t);if(n.current_sub){if(n.current_sub!==e.profile.sub)return i.Log.debug(\"UserManager._signinEnd: current user does not match user returned from signin. sub from signin: \",e.profile.sub),Promise.reject(new Error(\"login_required\"));i.Log.debug(\"UserManager._signinEnd: current user matches user returned from signin\")}return r.storeUser(e).then((function(){return i.Log.debug(\"UserManager._signinEnd: user stored\"),r._events.load(e),e}))}))},e.prototype._signinCallback=function t(e,r){i.Log.debug(\"UserManager._signinCallback\");var n=\"query\"===this._settings.response_mode||!this._settings.response_mode&&l.SigninRequest.isCode(this._settings.response_type)?\"?\":\"#\";return r.callback(e,void 0,n)},e.prototype.signoutRedirect=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"so:r\";var r=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;r&&(e.post_logout_redirect_uri=r);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then((function(){i.Log.info(\"UserManager.signoutRedirect: successful\")}))},e.prototype.signoutRedirectCallback=function t(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(t){return i.Log.info(\"UserManager.signoutRedirectCallback: successful\"),t}))},e.prototype.signoutPopup=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"so:p\";var r=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=r,e.display=\"popup\",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:r,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info(\"UserManager.signoutPopup: successful\")}))},e.prototype.signoutPopupCallback=function t(e,r){void 0===r&&\"boolean\"==typeof e&&(r=e,e=null);return this._popupNavigator.callback(e,r,\"?\").then((function(){i.Log.info(\"UserManager.signoutPopupCallback: successful\")}))},e.prototype._signout=function t(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,r,i).then((function(t){return n._signoutEnd(t.url)}))},e.prototype._signoutStart=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(o).then((function(t){return i.Log.debug(\"UserManager._signoutStart: got navigator window handle\"),r._loadUser().then((function(n){return i.Log.debug(\"UserManager._signoutStart: loaded current user from storage\"),(r._settings.revokeAccessTokenOnSignout?r._revokeInternal(n):Promise.resolve()).then((function(){var s=e.id_token_hint||n&&n.id_token;return s&&(i.Log.debug(\"UserManager._signoutStart: Setting id_token into signout request\"),e.id_token_hint=s),r.removeUser().then((function(){return i.Log.debug(\"UserManager._signoutStart: user removed, creating signout request\"),r.createSignoutRequest(e).then((function(e){return i.Log.debug(\"UserManager._signoutStart: got signout request\"),o.url=e.url,e.state&&(o.id=e.state.id),t.navigate(o)}))}))}))})).catch((function(e){throw t.close&&(i.Log.debug(\"UserManager._signoutStart: Error after preparing navigator, closing navigator window\"),t.close()),e}))}))},e.prototype._signoutEnd=function t(e){return this.processSignoutResponse(e).then((function(t){return i.Log.debug(\"UserManager._signoutEnd: got signout response\"),t}))},e.prototype.revokeAccessToken=function t(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(r){if(r)return i.Log.debug(\"UserManager.revokeAccessToken: removing token properties from user and re-storing\"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug(\"UserManager.revokeAccessToken: user stored\"),e._events.load(t)}))}))})).then((function(){i.Log.info(\"UserManager.revokeAccessToken: access token revoked successfully\")}))},e.prototype._revokeInternal=function t(e,r){var n=this;if(e){var o=e.access_token,s=e.refresh_token;return this._revokeAccessTokenInternal(o,r).then((function(t){return n._revokeRefreshTokenInternal(s,r).then((function(e){return t||e||i.Log.debug(\"UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format\"),t||e}))}))}return Promise.resolve(!1)},e.prototype._revokeAccessTokenInternal=function t(e,r){return!e||e.indexOf(\".\")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,r).then((function(){return!0}))},e.prototype._revokeRefreshTokenInternal=function t(e,r){return e?this._tokenRevocationClient.revoke(e,r,\"refresh_token\").then((function(){return!0})):Promise.resolve(!1)},e.prototype.startSilentRenew=function t(){this._silentRenewService.start()},e.prototype.stopSilentRenew=function t(){this._silentRenewService.stop()},e.prototype._loadUser=function t(){return this._userStore.get(this._userStoreKey).then((function(t){return t?(i.Log.debug(\"UserManager._loadUser: user storageString loaded\"),a.User.fromStorageString(t)):(i.Log.debug(\"UserManager._loadUser: no user storageString\"),null)}))},e.prototype.storeUser=function t(e){if(e){i.Log.debug(\"UserManager.storeUser: storing user\");var r=e.toStorageString();return this._userStore.set(this._userStoreKey,r)}return i.Log.debug(\"storeUser.storeUser: removing user\"),this._userStore.remove(this._userStoreKey)},n(e,[{key:\"_redirectNavigator\",get:function t(){return this.settings.redirectNavigator}},{key:\"_popupNavigator\",get:function t(){return this.settings.popupNavigator}},{key:\"_iframeNavigator\",get:function t(){return this.settings.iframeNavigator}},{key:\"_userStore\",get:function t(){return this.settings.userStore}},{key:\"events\",get:function t(){return this._events}},{key:\"_userStoreKey\",get:function t(){return\"user:\"+this.settings.authority+\":\"+this.settings.client_id}}]),e}(o.OidcClient)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserManagerSettings=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=(r(0),r(5)),o=r(40),s=r(41),a=r(43),u=r(6),c=r(1),h=r(8);function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function f(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}e.UserManagerSettings=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.popup_redirect_uri,i=r.popup_post_logout_redirect_uri,g=r.popupWindowFeatures,d=r.popupWindowTarget,p=r.silent_redirect_uri,v=r.silentRequestTimeout,y=r.automaticSilentRenew,m=void 0!==y&&y,_=r.validateSubOnSilentRenew,S=void 0!==_&&_,b=r.includeIdTokenInSilentRenew,w=void 0===b||b,F=r.monitorSession,E=void 0===F||F,x=r.monitorAnonymousSession,A=void 0!==x&&x,k=r.checkSessionInterval,P=void 0===k?2e3:k,C=r.stopCheckSessionOnError,T=void 0===C||C,R=r.query_status_response_type,I=r.revokeAccessTokenOnSignout,D=void 0!==I&&I,L=r.accessTokenExpiringNotificationTime,N=void 0===L?60:L,U=r.redirectNavigator,B=void 0===U?new o.RedirectNavigator:U,O=r.popupNavigator,j=void 0===O?new s.PopupNavigator:O,M=r.iframeNavigator,H=void 0===M?new a.IFrameNavigator:M,V=r.userStore,K=void 0===V?new u.WebStorageStateStore({store:c.Global.sessionStorage}):V;l(this,e);var q=f(this,t.call(this,arguments[0]));return q._popup_redirect_uri=n,q._popup_post_logout_redirect_uri=i,q._popupWindowFeatures=g,q._popupWindowTarget=d,q._silent_redirect_uri=p,q._silentRequestTimeout=v,q._automaticSilentRenew=m,q._validateSubOnSilentRenew=S,q._includeIdTokenInSilentRenew=w,q._accessTokenExpiringNotificationTime=N,q._monitorSession=E,q._monitorAnonymousSession=A,q._checkSessionInterval=P,q._stopCheckSessionOnError=T,R?q._query_status_response_type=R:arguments[0]&&arguments[0].response_type?q._query_status_response_type=h.SigninRequest.isOidc(arguments[0].response_type)?\"id_token\":\"code\":q._query_status_response_type=\"id_token\",q._revokeAccessTokenOnSignout=D,q._redirectNavigator=B,q._popupNavigator=j,q._iframeNavigator=H,q._userStore=K,q}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:\"popup_redirect_uri\",get:function t(){return this._popup_redirect_uri}},{key:\"popup_post_logout_redirect_uri\",get:function t(){return this._popup_post_logout_redirect_uri}},{key:\"popupWindowFeatures\",get:function t(){return this._popupWindowFeatures}},{key:\"popupWindowTarget\",get:function t(){return this._popupWindowTarget}},{key:\"silent_redirect_uri\",get:function t(){return this._silent_redirect_uri}},{key:\"silentRequestTimeout\",get:function t(){return this._silentRequestTimeout}},{key:\"automaticSilentRenew\",get:function t(){return this._automaticSilentRenew}},{key:\"validateSubOnSilentRenew\",get:function t(){return this._validateSubOnSilentRenew}},{key:\"includeIdTokenInSilentRenew\",get:function t(){return this._includeIdTokenInSilentRenew}},{key:\"accessTokenExpiringNotificationTime\",get:function t(){return this._accessTokenExpiringNotificationTime}},{key:\"monitorSession\",get:function t(){return this._monitorSession}},{key:\"monitorAnonymousSession\",get:function t(){return this._monitorAnonymousSession}},{key:\"checkSessionInterval\",get:function t(){return this._checkSessionInterval}},{key:\"stopCheckSessionOnError\",get:function t(){return this._stopCheckSessionOnError}},{key:\"query_status_response_type\",get:function t(){return this._query_status_response_type}},{key:\"revokeAccessTokenOnSignout\",get:function t(){return this._revokeAccessTokenOnSignout}},{key:\"redirectNavigator\",get:function t(){return this._redirectNavigator}},{key:\"popupNavigator\",get:function t(){return this._popupNavigator}},{key:\"iframeNavigator\",get:function t(){return this._iframeNavigator}},{key:\"userStore\",get:function t(){return this._userStore}}]),e}(i.OidcClientSettings)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.RedirectNavigator=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.RedirectNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(){return Promise.resolve(this)},t.prototype.navigate=function t(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error(\"RedirectNavigator.navigate: No url provided\"),Promise.reject(new Error(\"No url provided\")))},n(t,[{key:\"url\",get:function t(){return window.location.href}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.PopupNavigator=void 0;var n=r(0),i=r(42);e.PopupNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){var r=new i.PopupWindow(e);return Promise.resolve(r)},t.prototype.callback=function t(e,r,o){n.Log.debug(\"PopupNavigator.callback\");try{return i.PopupWindow.notifyOpener(e,r,o),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.PopupWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(3);e.PopupWindow=function(){function t(e){var r=this;!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e}));var o=e.popupWindowTarget||\"_blank\",s=e.popupWindowFeatures||\"location=no,toolbar=no,width=500,height=500,left=100,top=100;\";this._popup=window.open(\"\",o,s),this._popup&&(i.Log.debug(\"PopupWindow.ctor: popup successfully created\"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return t.prototype.navigate=function t(e){return this._popup?e&&e.url?(i.Log.debug(\"PopupWindow.navigate: Setting URL in popup\"),this._id=e.id,this._id&&(window[\"popupCallback_\"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error(\"PopupWindow.navigate: no url provided\"),this._error(\"No url provided\")):this._error(\"PopupWindow.navigate: Error opening popup window\"),this.promise},t.prototype._success=function t(e){i.Log.debug(\"PopupWindow.callback: Successful response from popup window\"),this._cleanup(),this._resolve(e)},t.prototype._error=function t(e){i.Log.error(\"PopupWindow.error: \",e),this._cleanup(),this._reject(new Error(e))},t.prototype.close=function t(){this._cleanup(!1)},t.prototype._cleanup=function t(e){i.Log.debug(\"PopupWindow.cleanup\"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window[\"popupCallback_\"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},t.prototype._checkForPopupClosed=function t(){this._popup&&!this._popup.closed||this._error(\"Popup window closed\")},t.prototype._callback=function t(e,r){this._cleanup(r),e?(i.Log.debug(\"PopupWindow.callback success\"),this._success({url:e})):(i.Log.debug(\"PopupWindow.callback: Invalid response from popup\"),this._error(\"Invalid response from popup\"))},t.notifyOpener=function t(e,r,n){if(window.opener){if(e=e||window.location.href){var s=o.UrlUtility.parseUrlFragment(e,n);if(s.state){var a=\"popupCallback_\"+s.state,u=window.opener[a];u?(i.Log.debug(\"PopupWindow.notifyOpener: passing url message to opener\"),u(e,r)):i.Log.warn(\"PopupWindow.notifyOpener: no matching callback found on opener\")}else i.Log.warn(\"PopupWindow.notifyOpener: no state found in response url\")}}else i.Log.warn(\"PopupWindow.notifyOpener: no window.opener. Can't complete notification.\")},n(t,[{key:\"promise\",get:function t(){return this._promise}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.IFrameNavigator=void 0;var n=r(0),i=r(44);e.IFrameNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){var r=new i.IFrameWindow(e);return Promise.resolve(r)},t.prototype.callback=function t(e){n.Log.debug(\"IFrameNavigator.callback\");try{return i.IFrameWindow.notifyParent(e),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.IFrameWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.IFrameWindow=function(){function t(e){var r=this;!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e})),this._boundMessageEvent=this._message.bind(this),window.addEventListener(\"message\",this._boundMessageEvent,!1),this._frame=window.document.createElement(\"iframe\"),this._frame.style.visibility=\"hidden\",this._frame.style.position=\"absolute\",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return t.prototype.navigate=function t(e){if(e&&e.url){var r=e.silentRequestTimeout||1e4;i.Log.debug(\"IFrameWindow.navigate: Using timeout of:\",r),this._timer=window.setTimeout(this._timeout.bind(this),r),this._frame.src=e.url}else this._error(\"No url provided\");return this.promise},t.prototype._success=function t(e){this._cleanup(),i.Log.debug(\"IFrameWindow: Successful response from frame window\"),this._resolve(e)},t.prototype._error=function t(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},t.prototype.close=function t(){this._cleanup()},t.prototype._cleanup=function t(){this._frame&&(i.Log.debug(\"IFrameWindow: cleanup\"),window.removeEventListener(\"message\",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},t.prototype._timeout=function t(){i.Log.debug(\"IFrameWindow.timeout\"),this._error(\"Frame window timed out\")},t.prototype._message=function t(e){if(i.Log.debug(\"IFrameWindow.message\"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&\"string\"==typeof e.data&&(e.data.startsWith(\"http://\")||e.data.startsWith(\"https://\"))){var r=e.data;r?this._success({url:r}):this._error(\"Invalid response from frame\")}},t.notifyParent=function t(e){i.Log.debug(\"IFrameWindow.notifyParent\"),(e=e||window.location.href)&&(i.Log.debug(\"IFrameWindow.notifyParent: posting url message to parent\"),window.parent.postMessage(e,location.protocol+\"//\"+location.host))},n(t,[{key:\"promise\",get:function t(){return this._promise}},{key:\"_origin\",get:function t(){return location.protocol+\"//\"+location.host}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserManagerEvents=void 0;var n=r(0),i=r(16),o=r(17);e.UserManagerEvents=function(t){function e(r){!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,r));return i._userLoaded=new o.Event(\"User loaded\"),i._userUnloaded=new o.Event(\"User unloaded\"),i._silentRenewError=new o.Event(\"Silent renew error\"),i._userSignedIn=new o.Event(\"User signed in\"),i._userSignedOut=new o.Event(\"User signed out\"),i._userSessionChanged=new o.Event(\"User session changed\"),i}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.load=function e(r){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.Log.debug(\"UserManagerEvents.load\"),t.prototype.load.call(this,r),i&&this._userLoaded.raise(r)},e.prototype.unload=function e(){n.Log.debug(\"UserManagerEvents.unload\"),t.prototype.unload.call(this),this._userUnloaded.raise()},e.prototype.addUserLoaded=function t(e){this._userLoaded.addHandler(e)},e.prototype.removeUserLoaded=function t(e){this._userLoaded.removeHandler(e)},e.prototype.addUserUnloaded=function t(e){this._userUnloaded.addHandler(e)},e.prototype.removeUserUnloaded=function t(e){this._userUnloaded.removeHandler(e)},e.prototype.addSilentRenewError=function t(e){this._silentRenewError.addHandler(e)},e.prototype.removeSilentRenewError=function t(e){this._silentRenewError.removeHandler(e)},e.prototype._raiseSilentRenewError=function t(e){n.Log.debug(\"UserManagerEvents._raiseSilentRenewError\",e.message),this._silentRenewError.raise(e)},e.prototype.addUserSignedIn=function t(e){this._userSignedIn.addHandler(e)},e.prototype.removeUserSignedIn=function t(e){this._userSignedIn.removeHandler(e)},e.prototype._raiseUserSignedIn=function t(){n.Log.debug(\"UserManagerEvents._raiseUserSignedIn\"),this._userSignedIn.raise()},e.prototype.addUserSignedOut=function t(e){this._userSignedOut.addHandler(e)},e.prototype.removeUserSignedOut=function t(e){this._userSignedOut.removeHandler(e)},e.prototype._raiseUserSignedOut=function t(){n.Log.debug(\"UserManagerEvents._raiseUserSignedOut\"),this._userSignedOut.raise()},e.prototype.addUserSessionChanged=function t(e){this._userSessionChanged.addHandler(e)},e.prototype.removeUserSessionChanged=function t(e){this._userSessionChanged.removeHandler(e)},e.prototype._raiseUserSessionChanged=function t(){n.Log.debug(\"UserManagerEvents._raiseUserSessionChanged\"),this._userSessionChanged.raise()},e}(i.AccessTokenEvents)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Timer=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(17);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function u(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}e.Timer=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;a(this,e);var s=u(this,t.call(this,r));return s._timer=n,s._nowFunc=i||function(){return Date.now()/1e3},s}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function t(e){e<=0&&(e=1),e=parseInt(e);var r=this.now+e;if(this.expiration===r&&this._timerHandle)i.Log.debug(\"Timer.init timer \"+this._name+\" skipping initialization since already initialized for expiration:\",this.expiration);else{this.cancel(),i.Log.debug(\"Timer.init timer \"+this._name+\" for duration:\",e),this._expiration=r;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},e.prototype.cancel=function t(){this._timerHandle&&(i.Log.debug(\"Timer.cancel: \",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},e.prototype._callback=function e(){var r=this._expiration-this.now;i.Log.debug(\"Timer.callback; \"+this._name+\" timer expires in:\",r),this._expiration<=this.now&&(this.cancel(),t.prototype.raise.call(this))},n(e,[{key:\"now\",get:function t(){return parseInt(this._nowFunc())}},{key:\"expiration\",get:function t(){return this._expiration}}]),e}(s.Event)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SilentRenewService=void 0;var n=r(0);e.SilentRenewService=function(){function t(e){!function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._userManager=e}return t.prototype.start=function t(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(t){})).catch((function(t){n.Log.error(\"SilentRenewService.start: Error from getUser:\",t.message)})))},t.prototype.stop=function t(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},t.prototype._tokenExpiring=function t(){var e=this;this._userManager.signinSilent().then((function(t){n.Log.debug(\"SilentRenewService._tokenExpiring: Silent token renewal successful\")}),(function(t){n.Log.error(\"SilentRenewService._tokenExpiring: Error from signinSilent:\",t.message),e._userManager.events._raiseSilentRenewError(t)}))},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CordovaPopupNavigator=void 0;var n=r(21);e.CordovaPopupNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){var r=new n.CordovaPopupWindow(e);return Promise.resolve(r)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CordovaIFrameNavigator=void 0;var n=r(21);e.CordovaIFrameNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){e.popupWindowFeatures=\"hidden=yes\";var r=new n.CordovaPopupWindow(e);return Promise.resolve(r)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Version=\"1.11.6\"}])}));", "export const transformers = {\n    position: function(context, next) {\n        const position = context.value\n        this.dataset.simplyPositionX = position.x || 0\n        this.dataset.simplyPositionY = position.y || 0\n        this.style.transform = `translate(${position.x}px, ${position.y}px`\n        return // skip next, don't render position as innerhtml\n    },\n    hideHidden: function(context, next) {\n    \tconst data = context.value\n        if (data) {\n            this.closest('.zett-entity').classList.add('zett-hidden')\n        }\n        return next(context)\n    }\n}", "export default crypto;\nexport const isCryptoKey = (key) => key instanceof CryptoKey;\n", "import digest from '../runtime/digest.js';\nexport const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nexport function p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexport async function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await digest('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\n", "import { encoder, decoder } from '../lib/buffer_utils.js';\nexport const encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nexport const encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nexport const decodeBase64 = (encoded) => {\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n};\nexport const decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n", "export class JOSEError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nJOSEError.code = 'ERR_JOSE_GENERIC';\nexport class JWTClaimValidationFailed extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTClaimValidationFailed.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\nexport class JWTExpired extends JOSEError {\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nJWTExpired.code = 'ERR_JWT_EXPIRED';\nexport class JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nJOSEAlgNotAllowed.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\nexport class JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nJOSENotSupported.code = 'ERR_JOSE_NOT_SUPPORTED';\nexport class JWEDecryptionFailed extends JOSEError {\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nJWEDecryptionFailed.code = 'ERR_JWE_DECRYPTION_FAILED';\nexport class JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n}\nJWEInvalid.code = 'ERR_JWE_INVALID';\nexport class JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n}\nJWSInvalid.code = 'ERR_JWS_INVALID';\nexport class JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n}\nJWTInvalid.code = 'ERR_JWT_INVALID';\nexport class JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n}\nJWKInvalid.code = 'ERR_JWK_INVALID';\nexport class JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n}\nJWKSInvalid.code = 'ERR_JWKS_INVALID';\nexport class JWKSNoMatchingKey extends JOSEError {\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nJWKSNoMatchingKey.code = 'ERR_JWKS_NO_MATCHING_KEY';\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nSymbol.asyncIterator;\nJWKSMultipleMatchingKeys.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\nexport class JWKSTimeout extends JOSEError {\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n        this.code = 'ERR_JWKS_TIMEOUT';\n    }\n}\nJWKSTimeout.code = 'ERR_JWKS_TIMEOUT';\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\nJWSSignatureVerificationFailed.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n", "function unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nexport function checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexport function checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\n", "function message(msg, actual, ...types) {\n    types = types.filter(Boolean);\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport default (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nexport function withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\n", "import { isCryptoKey } from './webcrypto.js';\nexport default (key) => {\n    if (isCryptoKey(key)) {\n        return true;\n    }\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nexport const types = ['CryptoKey'];\n", "const isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexport default isDisjoint;\n", "function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nexport default function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n", "export default (alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n};\n", "import isObject from './is_object.js';\nexport function isJWK(key) {\n    return isObject(key) && typeof key.kty === 'string';\n}\nexport function isPrivateJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'string';\n}\nexport function isPublicJWK(key) {\n    return key.kty !== 'oct' && typeof key.d === 'undefined';\n}\nexport function isSecretJWK(key) {\n    return isJWK(key) && key.kty === 'oct' && typeof key.k === 'string';\n}\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'EdDSA':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nconst parse = async (jwk) => {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const rest = [\n        algorithm,\n        jwk.ext ?? false,\n        jwk.key_ops ?? keyUsages,\n    ];\n    const keyData = { ...jwk };\n    delete keyData.alg;\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, ...rest);\n};\nexport default parse;\n", "import { isJWK } from '../lib/is_jwk.js';\nimport { decode } from './base64url.js';\nimport importJWK from './jwk_to_key.js';\nconst exportKeyValue = (k) => decode(k);\nlet privCache;\nlet pubCache;\nconst isKeyObject = (key) => {\n    return key?.[Symbol.toStringTag] === 'KeyObject';\n};\nconst importAndCache = async (cache, key, jwk, alg, freeze = false) => {\n    let cached = cache.get(key);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const cryptoKey = await importJWK({ ...jwk, alg });\n    if (freeze)\n        Object.freeze(key);\n    if (!cached) {\n        cache.set(key, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nconst normalizePublicKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        delete jwk.d;\n        delete jwk.dp;\n        delete jwk.dq;\n        delete jwk.p;\n        delete jwk.q;\n        delete jwk.qi;\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        pubCache || (pubCache = new WeakMap());\n        return importAndCache(pubCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        pubCache || (pubCache = new WeakMap());\n        const cryptoKey = importAndCache(pubCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nconst normalizePrivateKey = (key, alg) => {\n    if (isKeyObject(key)) {\n        let jwk = key.export({ format: 'jwk' });\n        if (jwk.k) {\n            return exportKeyValue(jwk.k);\n        }\n        privCache || (privCache = new WeakMap());\n        return importAndCache(privCache, key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k)\n            return decode(key.k);\n        privCache || (privCache = new WeakMap());\n        const cryptoKey = importAndCache(privCache, key, key, alg, true);\n        return cryptoKey;\n    }\n    return key;\n};\nexport default { normalizePublicKey, normalizePrivateKey };\n", "import { decode as decodeBase64URL } from '../runtime/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../runtime/asn1.js';\nimport asKeyObject from '../runtime/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return asKeyObject({ ...jwk, alg });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n", "import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport isKeyLike, { types } from '../runtime/is_key_like.js';\nimport * as jwk from './is_jwk.js';\nconst tag = (key) => key?.[Symbol.toStringTag];\nconst jwkMatchesOp = (alg, key, usage) => {\n    if (key.use !== undefined && key.use !== 'sig') {\n        throw new TypeError('Invalid key for this operation, when present its use must be sig');\n    }\n    if (key.key_ops !== undefined && key.key_ops.includes?.(usage) !== true) {\n        throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${usage}`);\n    }\n    if (key.alg !== undefined && key.alg !== alg) {\n        throw new TypeError(`Invalid key for this operation, when present its alg must be ${alg}`);\n    }\n    return true;\n};\nconst symmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (allowJwk && jwk.isJWK(key)) {\n        if (jwk.isSecretJWK(key) && jwkMatchesOp(alg, key, usage))\n            return;\n        throw new TypeError(`JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present`);\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, 'Uint8Array', allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${tag(key)} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage, allowJwk) => {\n    if (allowJwk && jwk.isJWK(key)) {\n        switch (usage) {\n            case 'sign':\n                if (jwk.isPrivateJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a private JWK`);\n            case 'verify':\n                if (jwk.isPublicJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation be a public JWK`);\n        }\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, allowJwk ? 'JSON Web Key' : null));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nfunction checkKeyType(allowJwk, alg, key, usage) {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage, allowJwk);\n    }\n}\nexport default checkKeyType.bind(undefined, false);\nexport const checkKeyTypeWithJwk = checkKeyType.bind(undefined, true);\n", "import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n", "const validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexport default validateAlgorithms;\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { encode as base64url } from './base64url.js';\nimport { types } from './is_key_like.js';\nconst keyToJWK = async (key) => {\n    if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: base64url(key),\n        };\n    }\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('non-extractable CryptoKey cannot be exported as a JWK');\n    }\n    const { ext, key_ops, alg, use, ...jwk } = await crypto.subtle.exportKey('jwk', key);\n    return jwk;\n};\nexport default keyToJWK;\n", "import { toSPKI as exportPublic } from '../runtime/asn1.js';\nimport { toPKCS8 as exportPrivate } from '../runtime/asn1.js';\nimport keyToJWK from '../runtime/key_to_jwk.js';\nexport async function exportSPKI(key) {\n    return exportPublic(key);\n}\nexport async function exportPKCS8(key) {\n    return exportPrivate(key);\n}\nexport async function exportJWK(key) {\n    return keyToJWK(key);\n}\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleDsa(alg, algorithm) {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: alg.slice(-3) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'EdDSA':\n            return { name: algorithm.name };\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkSigCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nimport normalize from './normalize_key.js';\nexport default async function getCryptoKey(alg, key, usage) {\n    if (usage === 'sign') {\n        key = await normalize.normalizePrivateKey(key, alg);\n    }\n    if (usage === 'verify') {\n        key = await normalize.normalizePublicKey(key, alg);\n    }\n    if (isCryptoKey(key)) {\n        checkSigCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError(invalidKeyInput(key, ...types));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array', 'JSON Web Key'));\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getVerifyKey from './get_sign_verify_key.js';\nconst verify = async (alg, key, signature, data) => {\n    const cryptoKey = await getVerifyKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n};\nexport default verify;\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport verify from '../../runtime/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder } from '../../lib/buffer_utils.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport { checkKeyTypeWithJwk } from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nimport { isJWK } from '../../lib/is_jwk.js';\nimport { importJWK } from '../../key/import.js';\nexport async function flattenedVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = base64url(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n        checkKeyTypeWithJwk(alg, key, 'verify');\n        if (isJWK(key)) {\n            key = await importJWK(key, alg);\n        }\n    }\n    else {\n        checkKeyTypeWithJwk(alg, key, 'verify');\n    }\n    const data = concat(encoder.encode(jws.protected ?? ''), encoder.encode('.'), typeof jws.payload === 'string' ? encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = base64url(jws.signature);\n    }\n    catch {\n        throw new JWSInvalid('Failed to base64url decode the signature');\n    }\n    const verified = await verify(alg, key, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = base64url(jws.payload);\n        }\n        catch {\n            throw new JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "export default (date) => Math.floor(date.getTime() / 1000);\n", "const minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport default (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n};\n", "import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { decoder } from './buffer_utils.js';\nimport epoch from './epoch.js';\nimport secs from './secs.js';\nimport isObject from './is_object.js';\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport default (protectedHeader, encodedPayload, options = {}) => {\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n", "import { compactVerify } from '../jws/compact/verify.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    const verified = await compactVerify(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = jwtPayload(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getSignKey from './get_sign_verify_key.js';\nconst sign = async (alg, key, data) => {\n    const cryptoKey = await getSignKey(alg, key, 'sign');\n    checkKeyLength(alg, cryptoKey);\n    const signature = await crypto.subtle.sign(subtleAlgorithm(alg, cryptoKey.algorithm), cryptoKey, data);\n    return new Uint8Array(signature);\n};\nexport default sign;\n", "import { encode as base64url } from '../../runtime/base64url.js';\nimport sign from '../../runtime/sign.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport { checkKeyTypeWithJwk } from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport class FlattenedSign {\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this._payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader) {\n            throw new JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader)) {\n            throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n        };\n        const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, this._protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this._protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        checkKeyTypeWithJwk(alg, key, 'sign');\n        let payload = this._payload;\n        if (b64) {\n            payload = encoder.encode(base64url(payload));\n        }\n        let protectedHeader;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        const data = concat(protectedHeader, encoder.encode('.'), payload);\n        const signature = await sign(alg, key, data);\n        const jws = {\n            signature: base64url(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = decoder.decode(payload);\n        }\n        if (this._unprotectedHeader) {\n            jws.header = this._unprotectedHeader;\n        }\n        if (this._protectedHeader) {\n            jws.protected = decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\n", "import { FlattenedSign } from '../flattened/sign.js';\nexport class CompactSign {\n    constructor(payload) {\n        this._flattened = new FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this._flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\n", "import epoch from '../lib/epoch.js';\nimport isObject from '../lib/is_object.js';\nimport secs from '../lib/secs.js';\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nexport class ProduceJWT {\n    constructor(payload = {}) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, exp: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: epoch(new Date()) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', epoch(input)) };\n        }\n        else if (typeof input === 'string') {\n            this._payload = {\n                ...this._payload,\n                iat: validateInput('setIssuedAt', epoch(new Date()) + secs(input)),\n            };\n        }\n        else {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', input) };\n        }\n        return this;\n    }\n}\n", "import { CompactSign } from '../jws/compact/sign.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class SignJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        const sig = new CompactSign(encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray(this._protectedHeader?.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\n", "import { importJWK } from '../key/import.js';\nimport { JWKSInvalid, JOSENotSupported, JWKSNoMatchingKey, JWKSMultipleMatchingKeys, } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nfunction isJWKLike(key) {\n    return isObject(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nclass LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token?.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate && alg === 'EdDSA') {\n                candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new JWKSNoMatchingKey();\n        }\n        if (length !== 1) {\n            const error = new JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch { }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await importJWK({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nexport function createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    const localJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(localJWKSet, {\n        jwks: {\n            value: () => clone(set._jwks),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return localJWKSet;\n}\n", "import { JOSEError, JWKSTimeout } from '../util/errors.js';\nconst fetchJwks = async (url, timeout, options) => {\n    let controller;\n    let id;\n    let timedOut = false;\n    if (typeof AbortController === 'function') {\n        controller = new AbortController();\n        id = setTimeout(() => {\n            timedOut = true;\n            controller.abort();\n        }, timeout);\n    }\n    const response = await fetch(url.href, {\n        signal: controller ? controller.signal : undefined,\n        redirect: 'manual',\n        headers: options.headers,\n    }).catch((err) => {\n        if (timedOut)\n            throw new JWKSTimeout();\n        throw err;\n    });\n    if (id !== undefined)\n        clearTimeout(id);\n    if (response.status !== 200) {\n        throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch {\n        throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexport default fetchJwks;\n", "import fetchJwks from '../runtime/fetch_jwks.js';\nimport { JWKSNoMatchingKey } from '../util/errors.js';\nimport { createLocalJWKSet } from './local.js';\nimport isObject from '../lib/is_object.js';\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'jose';\n    const VERSION = 'v5.9.6';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nexport const jwksCache = Symbol();\nfunction isFreshJwksCache(input, cacheMaxAge) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || Date.now() - input.uat >= cacheMaxAge) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !isObject(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, isObject)) {\n        return false;\n    }\n    return true;\n}\nclass RemoteJWKSet {\n    constructor(url, options) {\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options?.agent, headers: options?.headers };\n        this._timeoutDuration =\n            typeof options?.timeoutDuration === 'number' ? options?.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof options?.cooldownDuration === 'number' ? options?.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof options?.cacheMaxAge === 'number' ? options?.cacheMaxAge : 600000;\n        if (options?.[jwksCache] !== undefined) {\n            this._cache = options?.[jwksCache];\n            if (isFreshJwksCache(options?.[jwksCache], this._cacheMaxAge)) {\n                this._jwksTimestamp = this._cache.uat;\n                this._local = createLocalJWKSet(this._cache.jwks);\n            }\n        }\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._local || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await this._local(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return this._local(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        const headers = new Headers(this._options.headers);\n        if (USER_AGENT && !headers.has('User-Agent')) {\n            headers.set('User-Agent', USER_AGENT);\n            this._options.headers = Object.fromEntries(headers.entries());\n        }\n        this._pendingFetch || (this._pendingFetch = fetchJwks(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            this._local = createLocalJWKSet(json);\n            if (this._cache) {\n                this._cache.uat = Date.now();\n                this._cache.jwks = json;\n            }\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nexport function createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    const remoteJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(remoteJWKSet, {\n        coolingDown: {\n            get: () => set.coolingDown(),\n            enumerable: true,\n            configurable: false,\n        },\n        fresh: {\n            get: () => set.fresh(),\n            enumerable: true,\n            configurable: false,\n        },\n        reload: {\n            value: () => set.reload(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n        reloading: {\n            get: () => !!set._pendingFetch,\n            enumerable: true,\n            configurable: false,\n        },\n        jwks: {\n            value: () => set._local?.jwks(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return remoteJWKSet;\n}\nexport const experimental_jwksCache = jwksCache;\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport random from './random.js';\nexport async function generateSecret(alg, options) {\n    let length;\n    let algorithm;\n    let keyUsages;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            length = parseInt(alg.slice(-3), 10);\n            algorithm = { name: 'HMAC', hash: `SHA-${length}`, length };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            length = parseInt(alg.slice(-3), 10);\n            return random(new Uint8Array(length >> 3));\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW':\n            length = parseInt(alg.slice(1, 4), 10);\n            algorithm = { name: 'AES-KW', length };\n            keyUsages = ['wrapKey', 'unwrapKey'];\n            break;\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW':\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            length = parseInt(alg.slice(1, 4), 10);\n            algorithm = { name: 'AES-GCM', length };\n            keyUsages = ['encrypt', 'decrypt'];\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return crypto.subtle.generateKey(algorithm, options?.extractable ?? false, keyUsages);\n}\nfunction getModulusLengthOption(options) {\n    const modulusLength = options?.modulusLength ?? 2048;\n    if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n        throw new JOSENotSupported('Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used');\n    }\n    return modulusLength;\n}\nexport async function generateKeyPair(alg, options) {\n    let algorithm;\n    let keyUsages;\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = {\n                name: 'RSA-PSS',\n                hash: `SHA-${alg.slice(-3)}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = {\n                name: 'RSASSA-PKCS1-v1_5',\n                hash: `SHA-${alg.slice(-3)}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['decrypt', 'unwrapKey', 'encrypt', 'wrapKey'];\n            break;\n        case 'ES256':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'ES384':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'ES512':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'EdDSA': {\n            keyUsages = ['sign', 'verify'];\n            const crv = options?.crv ?? 'Ed25519';\n            switch (crv) {\n                case 'Ed25519':\n                case 'Ed448':\n                    algorithm = { name: crv };\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported crv option provided');\n            }\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            keyUsages = ['deriveKey', 'deriveBits'];\n            const crv = options?.crv ?? 'P-256';\n            switch (crv) {\n                case 'P-256':\n                case 'P-384':\n                case 'P-521': {\n                    algorithm = { name: 'ECDH', namedCurve: crv };\n                    break;\n                }\n                case 'X25519':\n                case 'X448':\n                    algorithm = { name: crv };\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return crypto.subtle.generateKey(algorithm, options?.extractable ?? false, keyUsages);\n}\n", "import { generateKeyPair as generate } from '../runtime/generate.js';\nexport async function generateKeyPair(alg, options) {\n    return generate(alg, options);\n}\n", "import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n", "let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n", "const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n", "import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random || (options.rng || rng)();\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * Intended to be used by dependent packages as a common prefix for keys into\n * storage mechanisms (so as to group all keys related to Solid Client Authn\n * within those storage mechanisms, e.g., window.localStorage).\n */\nexport const SOLID_CLIENT_AUTHN_KEY_PREFIX = \"solidClientAuthn:\";\n\n/**\n * Ordered list of signature algorithms, from most preferred to least preferred.\n */\nexport const PREFERRED_SIGNING_ALG = [\"ES256\", \"RS256\"];\n\nexport const EVENTS = {\n  // Note that an `error` events MUST be listened to: https://nodejs.org/dist/latest-v16.x/docs/api/events.html#error-events.\n  ERROR: \"error\",\n  LOGIN: \"login\",\n  LOGOUT: \"logout\",\n  NEW_REFRESH_TOKEN: \"newRefreshToken\",\n  SESSION_EXPIRED: \"sessionExpired\",\n  SESSION_EXTENDED: \"sessionExtended\",\n  SESSION_RESTORED: \"sessionRestore\",\n  TIMEOUT_SET: \"timeoutSet\",\n} as const;\n/**\n * We want to refresh a token 5 seconds before it expires.\n */\nexport const REFRESH_BEFORE_EXPIRATION_SECONDS = 5;\n\n// The openid scope requests an OIDC ID token token to be returned.\nconst SCOPE_OPENID = \"openid\";\n// The offline_access scope requests a refresh token to be returned.\nconst SCOPE_OFFLINE = \"offline_access\";\n// The webid scope is required as per https://solid.github.io/solid-oidc/#webid-scope\nconst SCOPE_WEBID = \"webid\";\n// The scopes are expected as a space-separated list.\nexport const DEFAULT_SCOPES = [SCOPE_OPENID, SCOPE_OFFLINE, SCOPE_WEBID].join(\n  \" \",\n);\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * An abstract class that will select the first handler that can handle certain parameters\n */\nimport type IHandleable from \"./IHandleable\";\n\n/**\n * @hidden\n */\nexport default class AggregateHandler<P extends Array<unknown>, R>\n  implements IHandleable<P, R>\n{\n  constructor(private handleables: IHandleable<P, R>[]) {\n    this.handleables = handleables;\n  }\n\n  /**\n   * Helper function that will asynchronously determine the proper handler to use. If multiple\n   * handlers can handle, it will choose the first one in the list\n   * @param params Paramerters to feed to the handler\n   */\n  private async getProperHandler(params: P): Promise<IHandleable<P, R> | null> {\n    // TODO : This function doesn't currently operate as described. Tests need to be written\n\n    // return new Promise<IHandleable<P, R> | null>((resolve, reject) => {\n    //  const resolvedValues: Array<boolean | null> = Array(this.handleables.length).map(() => null)\n    //   let numberResolved = 0\n    //   this.handleables.forEach(async (handleable: IHandleable<P, R>, index: number) => {\n    //     resolvedValues[index] = await handleable.canHandle(...params)\n    //     numberResolved++\n    //     let curResolvedValueIndex = 0\n    //     while (\n    //       resolvedValues[curResolvedValueIndex] !== null ||\n    //       resolvedValues[curResolvedValueIndex] !== undefined\n    //     ) {\n    //       if (resolvedValues[curResolvedValueIndex]) {\n    //         resolve(this.handleables[curResolvedValueIndex])\n    //       }\n    //       curResolvedValueIndex++\n    //     }\n    //   })\n    // })\n\n    const canHandleList = await Promise.all(\n      this.handleables.map((handleable) => handleable.canHandle(...params)),\n    );\n\n    for (let i = 0; i < canHandleList.length; i += 1) {\n      if (canHandleList[i]) {\n        return this.handleables[i];\n      }\n    }\n    return null;\n  }\n\n  async canHandle(...params: P): Promise<boolean> {\n    return (await this.getProperHandler(params)) !== null;\n  }\n\n  async handle(...params: P): Promise<R> {\n    const handler = await this.getProperHandler(params);\n    if (handler) {\n      return handler.handle(...params);\n    }\n\n    throw new Error(\n      `[${this.constructor.name}] cannot find a suitable handler for: ${params\n        .map((param) => {\n          try {\n            return JSON.stringify(param);\n          } catch (err) {\n            /* eslint-disable  @typescript-eslint/no-explicit-any */\n            return (param as any).toString();\n          }\n        })\n        .join(\", \")}`,\n    );\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n// eslint-disable-next-line no-shadow\nimport type { JWTPayload } from \"jose\";\nimport { jwtVerify, createRemoteJWKSet } from \"jose\";\n\ntype WithStack = { stack: string };\n\n/**\n * Extract a WebID and the clientID from an ID token payload based on https://github.com/solid/webid-oidc-spec.\n * Note that this does not yet implement the user endpoint lookup, and only checks\n * for `webid`, `azp` or IRI-like `sub` claims.\n *\n * @param idToken the payload of the ID token from which the WebID can be extracted.\n * @returns an object with entries webId and clientId extracted from the ID token.\n * @internal\n */\nexport async function getWebidFromTokenPayload(\n  idToken: string,\n  jwksIri: string,\n  issuerIri: string,\n  clientId: string,\n): Promise<{ webId: string; clientId?: string }> {\n  let payload: JWTPayload;\n  let clientIdInPayload: string | undefined;\n  try {\n    const { payload: verifiedPayload } = await jwtVerify(\n      idToken,\n      createRemoteJWKSet(new URL(jwksIri)),\n      {\n        issuer: issuerIri,\n        audience: clientId,\n      },\n    );\n    payload = verifiedPayload;\n  } catch (e) {\n    throw new Error(`Token verification failed: ${(e as WithStack).stack}`);\n  }\n\n  if (typeof payload.azp === \"string\") {\n    clientIdInPayload = payload.azp;\n  }\n  if (typeof payload.webid === \"string\") {\n    return {\n      webId: payload.webid,\n      clientId: clientIdInPayload,\n    };\n  }\n  if (typeof payload.sub !== \"string\") {\n    throw new Error(\n      `The token ${JSON.stringify(\n        payload,\n      )} is invalid: it has no 'webid' claim and no 'sub' claim.`,\n    );\n  }\n  try {\n    // This parses the 'sub' claim to check if it is a well-formed IRI.\n    // However, the normalized value isn't returned to make sure the WebID is returned\n    // as specified by the Identity Provider.\n    // eslint-disable-next-line no-new\n    new URL(payload.sub);\n    return {\n      webId: payload.sub,\n      clientId: clientIdInPayload,\n    };\n  } catch (e) {\n    throw new Error(\n      `The token has no 'webid' claim, and its 'sub' claim of [${payload.sub}] is invalid as a URL - error [${e}].`,\n    );\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport function isValidRedirectUrl(redirectUrl: string): boolean {\n  // If the redirect URL is not a valid URL, an error will be thrown.\n  try {\n    const urlObject = new URL(redirectUrl);\n    const noReservedQuery =\n      !urlObject.searchParams.has(\"code\") &&\n      !urlObject.searchParams.has(\"state\");\n    // As per https://tools.ietf.org/html/rfc6749#section-3.1.2, the redirect URL\n    // must not include a hash fragment.\n    const noHash = urlObject.hash === \"\";\n    return noReservedQuery && noHash;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function removeOpenIdParams(redirectUrl: string): URL {\n  const cleanedUpUrl = new URL(redirectUrl);\n  // For auth code flow\n  cleanedUpUrl.searchParams.delete(\"state\");\n  cleanedUpUrl.searchParams.delete(\"code\");\n  // For login error\n  cleanedUpUrl.searchParams.delete(\"error\");\n  cleanedUpUrl.searchParams.delete(\"error_description\");\n  // For RFC9207\n  cleanedUpUrl.searchParams.delete(\"iss\");\n  return cleanedUpUrl;\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nimport type IStorageUtility from \"../../../storage/IStorageUtility\";\nimport type IOidcOptions from \"../IOidcOptions\";\nimport type { IRedirector } from \"../IRedirector\";\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nfunction booleanWithFallback(\n  value: boolean | undefined,\n  fallback: boolean,\n): boolean {\n  if (typeof value === \"boolean\") {\n    return Boolean(value);\n  }\n  return Boolean(fallback);\n}\n\n/**\n * @hidden\n * Authorization code flow spec: https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth\n * PKCE: https://tools.ietf.org/html/rfc7636\n */\nexport default abstract class AuthorizationCodeWithPkceOidcHandlerBase {\n  constructor(\n    protected storageUtility: IStorageUtility,\n    protected redirector: IRedirector,\n  ) {\n    this.storageUtility = storageUtility;\n    this.redirector = redirector;\n  }\n\n  parametersGuard = (\n    oidcLoginOptions: IOidcOptions,\n  ): oidcLoginOptions is IOidcOptions & { redirectUrl: string } => {\n    return (\n      oidcLoginOptions.issuerConfiguration.grantTypesSupported !== undefined &&\n      oidcLoginOptions.issuerConfiguration.grantTypesSupported.indexOf(\n        \"authorization_code\",\n      ) > -1 &&\n      oidcLoginOptions.redirectUrl !== undefined\n    );\n  };\n\n  async canHandle(oidcLoginOptions: IOidcOptions): Promise<boolean> {\n    return this.parametersGuard(oidcLoginOptions);\n  }\n\n  async handleRedirect({\n    oidcLoginOptions,\n    state,\n    codeVerifier,\n    targetUrl,\n  }: {\n    oidcLoginOptions: IOidcOptions;\n    state: string;\n    codeVerifier: string;\n    targetUrl: string;\n  }) {\n    if (!this.parametersGuard(oidcLoginOptions)) {\n      throw new Error(\"The authorization code grant requires a redirectUrl.\");\n    }\n    await Promise.all([\n      // We use the OAuth 'state' value (which should be crypto-random) as\n      // the key in our storage to store our actual SessionID. We do this\n      // 'cos we'll need to lookup our session information again when the\n      // browser is redirected back to us (i.e. the OAuth client\n      // application) from the Authorization Server.\n      // We don't want to use our session ID as the OAuth 'state' value, as\n      // that session ID can be any developer-specified value, and therefore\n      // may not be appropriate (since the OAuth 'state' value should really\n      // be an unguessable crypto-random value).\n      this.storageUtility.setForUser(state, {\n        sessionId: oidcLoginOptions.sessionId,\n      }),\n\n      // Store our login-process state using the session ID as the key.\n      // Strictly speaking, this indirection from our OAuth state value to\n      // our session ID is unnecessary, but it provides a slightly cleaner\n      // separation of concerns.\n      this.storageUtility.setForUser(oidcLoginOptions.sessionId, {\n        codeVerifier,\n        issuer: oidcLoginOptions.issuer.toString(),\n        // The redirect URL is read after redirect, so it must be stored now.\n        redirectUrl: oidcLoginOptions.redirectUrl,\n        dpop: Boolean(oidcLoginOptions.dpop).toString(),\n        keepAlive: booleanWithFallback(\n          oidcLoginOptions.keepAlive,\n          true,\n        ).toString(),\n      }),\n    ]);\n\n    this.redirector.redirect(targetUrl, {\n      handleRedirect: oidcLoginOptions.handleRedirect,\n    });\n\n    return undefined;\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type ILogoutHandler from \"./ILogoutHandler\";\nimport type { ISessionInfoManager } from \"../sessionInfo/ISessionInfoManager\";\n\n/**\n * @hidden\n */\nexport default class GeneralLogoutHandler implements ILogoutHandler {\n  constructor(private sessionInfoManager: ISessionInfoManager) {\n    this.sessionInfoManager = sessionInfoManager;\n  }\n\n  async canHandle(): Promise<boolean> {\n    return true;\n  }\n\n  async handle(userId: string): Promise<void> {\n    await this.sessionInfoManager.clear(userId);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nimport type ILogoutHandler from \"./ILogoutHandler\";\nimport type { IRedirector } from \"../login/oidc/IRedirector\";\nimport type { ILogoutHandlerOptions } from \"./ILogoutHandler\";\n\nexport default class IRpLogoutHandler implements ILogoutHandler {\n  constructor(protected redirector: IRedirector) {\n    this.redirector = redirector;\n  }\n\n  async canHandle(\n    userId: string,\n    options?: ILogoutHandlerOptions | undefined,\n  ): Promise<boolean> {\n    return options?.logoutType === \"idp\";\n  }\n\n  async handle(\n    userId: string,\n    options?: ILogoutHandlerOptions | undefined,\n  ): Promise<void> {\n    if (options?.logoutType !== \"idp\") {\n      throw new Error(\n        \"Attempting to call idp logout handler to perform app logout\",\n      );\n    }\n\n    if (options.toLogoutUrl === undefined) {\n      throw new Error(\n        \"Cannot perform IDP logout. Did you log in using the OIDC authentication flow?\",\n      );\n    }\n\n    this.redirector.redirect(options.toLogoutUrl(options), {\n      handleRedirect: options.handleRedirect,\n    });\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nimport type { ILogoutHandlerOptions } from \"./ILogoutHandler\";\nimport type ILogoutHandler from \"./ILogoutHandler\";\nimport GeneralLogoutHandler from \"./GeneralLogoutHandler\";\nimport IRpLogoutHandler from \"./RpLogoutHandler\";\nimport type { ISessionInfoManager } from \"../sessionInfo/ISessionInfoManager\";\nimport type { IRedirector } from \"../login/oidc/IRedirector\";\n\nexport default class IWaterfallLogoutHandler implements ILogoutHandler {\n  private handlers: ILogoutHandler[];\n\n  constructor(\n    sessionInfoManager: ISessionInfoManager,\n    redirector: IRedirector,\n  ) {\n    this.handlers = [\n      new GeneralLogoutHandler(sessionInfoManager),\n      new IRpLogoutHandler(redirector),\n    ];\n  }\n\n  async canHandle(): Promise<boolean> {\n    return true;\n  }\n\n  async handle(\n    userId: string,\n    options?: ILogoutHandlerOptions | undefined,\n  ): Promise<void> {\n    for (const handler of this.handlers) {\n      /* eslint-disable no-await-in-loop */\n      if (await handler.canHandle(userId, options))\n        await handler.handle(userId, options);\n      /* eslint-enable no-await-in-loop */\n    }\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport { v4 } from \"uuid\";\nimport type {\n  ISessionInfo,\n  ISessionInfoManager,\n  ISessionInternalInfo,\n  ISessionInfoManagerOptions,\n  IStorageUtility,\n} from \"..\";\n\nexport function getUnauthenticatedSession(): ISessionInfo & {\n  fetch: typeof fetch;\n} {\n  return {\n    isLoggedIn: false,\n    sessionId: v4(),\n    fetch: (...args) => fetch(...args),\n  };\n}\n\n/**\n * @param sessionId\n * @param storage\n * @hidden\n */\nexport async function clear(\n  sessionId: string,\n  storage: IStorageUtility,\n): Promise<void> {\n  await Promise.all([\n    storage.deleteAllUserData(sessionId, { secure: false }),\n    storage.deleteAllUserData(sessionId, { secure: true }),\n  ]);\n}\n\n/**\n * @hidden\n */\nexport abstract class SessionInfoManagerBase implements ISessionInfoManager {\n  constructor(protected storageUtility: IStorageUtility) {\n    this.storageUtility = storageUtility;\n  }\n\n  update(\n    _sessionId: string,\n    _options: ISessionInfoManagerOptions,\n  ): Promise<void> {\n    throw new Error(\"Not Implemented\");\n  }\n\n  get(_: string): Promise<(ISessionInfo & ISessionInternalInfo) | undefined> {\n    throw new Error(\"Not implemented\");\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getAll(): Promise<(ISessionInfo & ISessionInternalInfo)[]> {\n    throw new Error(\"Not implemented\");\n  }\n\n  /**\n   * This function removes all session-related information from storage.\n   * @param sessionId the session identifier\n   * @param storage the storage where session info is stored\n   * @hidden\n   */\n  async clear(sessionId: string): Promise<void> {\n    return clear(sessionId, this.storageUtility);\n  }\n\n  /**\n   * Registers a new session, so that its ID can be retrieved.\n   * @param sessionId\n   */\n  async register(_sessionId: string): Promise<void> {\n    throw new Error(\"Not implemented\");\n  }\n\n  /**\n   * Returns all the registered session IDs. Differs from getAll, which also\n   * returns additional session information.\n   */\n  async getRegisteredSessionIdAll(): Promise<string[]> {\n    throw new Error(\"Not implemented\");\n  }\n\n  /**\n   * Deletes all information about all sessions, including their registrations.\n   */\n  async clearAll(): Promise<void> {\n    throw new Error(\"Not implemented\");\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nimport type { IRpLogoutOptions } from \"./ILogoutHandler\";\n\nexport interface IEndSessionOptions {\n  endSessionEndpoint: string;\n  idTokenHint?: string;\n  postLogoutRedirectUri?: string;\n  state?: string;\n}\n\n/**\n * This function is designed to isomorphically capture the behavior in oidc-client-js and node-oidc-provider\n * - https://github.com/IdentityModel/oidc-client-js/blob/edec8f59897bdeedcb0b4167586d49626203c2c1/src/OidcClient.js#L138\n * - https://github.com/panva/node-openid-client/blob/35758419489ff751a71f5b66f5020087a63e1e88/lib/client.js#L284\n *\n * @param options IEndSessionOptions\n * @returns The URL to redirect to in order to perform RP Initiated Logout\n * @hidden\n */\nexport function getEndSessionUrl({\n  endSessionEndpoint,\n  idTokenHint,\n  postLogoutRedirectUri,\n  state,\n}: IEndSessionOptions) {\n  const url = new URL(endSessionEndpoint);\n\n  if (idTokenHint !== undefined)\n    url.searchParams.append(\"id_token_hint\", idTokenHint);\n\n  if (postLogoutRedirectUri !== undefined) {\n    url.searchParams.append(\"post_logout_redirect_uri\", postLogoutRedirectUri);\n    if (state !== undefined) url.searchParams.append(\"state\", state);\n  }\n\n  return url.toString();\n}\n\n/**\n * @param options.endSessionEndpoint The end_session_endpoint advertised by the server\n * @param options.idTokenHint The idToken supplied by the server after logging in\n * Redirects the window to the location required to perform RP initiated logout\n *\n * @hidden\n */\nexport function maybeBuildRpInitiatedLogout({\n  endSessionEndpoint,\n  idTokenHint,\n}: Partial<Omit<IEndSessionOptions, keyof IRpLogoutOptions>>) {\n  if (endSessionEndpoint === undefined) return undefined;\n\n  return function logout({ state, postLogoutUrl }: IRpLogoutOptions) {\n    return getEndSessionUrl({\n      endSessionEndpoint,\n      idTokenHint,\n      state,\n      postLogoutRedirectUri: postLogoutUrl,\n    });\n  };\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * Defines the data that should be persisted for each session. This interface\n * is exposed as part of our public API.\n */\nexport interface ISessionInfo {\n  /**\n   * 'true' if the session is currently logged into an associated identity\n   * provider.\n   */\n  isLoggedIn: boolean;\n\n  /**\n   * The WebID if the user is logged into the session, and undefined if not.\n   */\n  webId?: string;\n\n  /**\n   * The WebID of the app, or a \"Public app\" WebID if the app does not provide its own.\n   * undefined until the session is logged in and the app WebID has been verified.\n   */\n  clientAppId?: string;\n\n  /**\n   * A unique identifier for the session.\n   */\n  sessionId: string;\n\n  /**\n   * UNIX timestamp (number of milliseconds since Jan 1st 1970) representing the\n   * time until which this session is valid.\n   */\n  expirationDate?: number;\n}\n\n/**\n * Captures information about sessions that is persisted in storage, but that\n * should not be exposed as part of our public API, and is only used for\n * internal purposes. It is complementary to ISessionInfo when retrieving all\n * information about a stored session, both public and internal.\n */\nexport interface ISessionInternalInfo {\n  /**\n   * The refresh token associated with the session (if any).\n   */\n  refreshToken?: string;\n\n  /**\n   * The OIDC issuer that issued the tokens authenticating the session.\n   */\n  issuer?: string;\n\n  /**\n   * The redirect URL registered when initially logging the session in.\n   */\n  redirectUrl?: string;\n\n  /**\n   * For public clients, and Solid Identity Providers that do not support Client\n   * WebIDs, the client secret is still required at the token endpoint.\n   */\n  clientAppSecret?: string;\n\n  /**\n   * The token type used by the session\n   */\n  tokenType?: \"DPoP\" | \"Bearer\";\n\n  /**\n   * Whether the session is refreshed in the background or not.\n   * @since 2.2.0\n   */\n  keepAlive?: boolean;\n}\n\nexport function isSupportedTokenType(\n  token: string | \"DPoP\" | \"Bearer\",\n): token is \"DPoP\" | \"Bearer\" {\n  return typeof token === \"string\" && [\"DPoP\", \"Bearer\"].includes(token);\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type { ISessionInfo, ISessionInternalInfo } from \"./ISessionInfo\";\n\n/**\n * @hidden\n */\nexport interface ISessionInfoManagerOptions {\n  loggedIn?: boolean;\n  webId?: string;\n}\n\n/**\n * @hidden\n */\nexport interface ISessionInfoManager {\n  update(sessionId: string, options: ISessionInfoManagerOptions): Promise<void>;\n  /**\n   * Returns all information about a registered session\n   * @param sessionId\n   */\n  get(\n    sessionId: string,\n  ): Promise<(ISessionInfo & ISessionInternalInfo) | undefined>;\n  /**\n   * Returns all information about all registered sessions\n   */\n  getAll(): Promise<(ISessionInfo & ISessionInternalInfo)[]>;\n  /**\n   * Registers a new session, so that its ID can be retrieved.\n   * @param sessionId\n   */\n  register(sessionId: string): Promise<void>;\n  /**\n   * Returns all the registered session IDs. Differs from getAll, which also\n   * returns additional session information.\n   */\n  getRegisteredSessionIdAll(): Promise<string[]>;\n  /**\n   * Deletes all information regarding one session, including its registration.\n   * @param sessionId\n   */\n  clear(sessionId: string): Promise<void>;\n  /**\n   * Deletes all information about all sessions, including their registrations.\n   */\n  clearAll(): Promise<void>;\n}\n\nexport const USER_SESSION_PREFIX = \"solidClientAuthenticationUser\";\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type IStorageUtility from \"../../storage/IStorageUtility\";\nimport type ILoginOptions from \"../ILoginOptions\";\nimport type { IClient } from \"./IClient\";\nimport type { IIssuerConfig } from \"./IIssuerConfig\";\n\nexport interface IClientRegistrarOptions {\n  sessionId: string;\n  clientName?: string;\n  redirectUrl?: string;\n}\n\n/**\n * @hidden\n */\nexport interface IClientRegistrar {\n  getClient(\n    options: IClientRegistrarOptions,\n    issuerConfig: IIssuerConfig,\n  ): Promise<IClient>;\n}\n\nfunction isValidUrl(url: string): boolean {\n  try {\n    // Here, the URL constructor is just called to parse the given string and\n    // verify if it is a well-formed IRI.\n    // eslint-disable-next-line no-new\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport function determineSigningAlg(\n  supported: string[],\n  preferred: string[],\n): string | null {\n  return (\n    preferred.find((signingAlg) => {\n      return supported.includes(signingAlg);\n    }) ?? null\n  );\n}\n\ntype StaticClientOptions = ILoginOptions & {\n  clientId: string;\n  clientSecret: string;\n};\n\ntype SolidOidcClientOptions = ILoginOptions & {\n  clientId: string;\n  clientSecret: undefined;\n};\n\nfunction isStaticClient(\n  options: ILoginOptions,\n): options is StaticClientOptions {\n  return options.clientId !== undefined && !isValidUrl(options.clientId);\n}\n\nfunction isSolidOidcClient(\n  options: ILoginOptions,\n  issuerConfig: IIssuerConfig,\n): options is SolidOidcClientOptions {\n  return (\n    issuerConfig.scopesSupported.includes(\"webid\") &&\n    options.clientId !== undefined &&\n    isValidUrl(options.clientId)\n  );\n}\n\nexport function isKnownClientType(\n  clientType: string | undefined,\n): clientType is \"dynamic\" | \"static\" | \"solid-oidc\" {\n  return (\n    typeof clientType === \"string\" &&\n    [\"dynamic\", \"static\", \"solid-oidc\"].includes(clientType)\n  );\n}\n\nexport async function handleRegistration(\n  options: ILoginOptions,\n  issuerConfig: IIssuerConfig,\n  storageUtility: IStorageUtility,\n  clientRegistrar: IClientRegistrar,\n): Promise<IClient> {\n  let clientInfo: IClient;\n  if (isSolidOidcClient(options, issuerConfig)) {\n    clientInfo = {\n      clientId: options.clientId,\n      clientName: options.clientName,\n      clientType: \"solid-oidc\",\n    };\n  } else if (isStaticClient(options)) {\n    clientInfo = {\n      clientId: options.clientId,\n      clientSecret: options.clientSecret,\n      clientName: options.clientName,\n      clientType: \"static\",\n    };\n  } else {\n    // Case of a dynamically registered client.\n    return clientRegistrar.getClient(\n      {\n        sessionId: options.sessionId,\n        clientName: options.clientName,\n        redirectUrl: options.redirectUrl,\n      },\n      issuerConfig,\n    );\n  }\n\n  // If a client_id was provided, and the Identity Provider is Solid-OIDC compliant,\n  // or it is not compliant but the client_id isn't an IRI (we assume it has already\n  // been registered with the IdP), then the client registration information needs\n  // to be stored so that it can be retrieved later after redirect.\n  const infoToSave: Record<string, string> = {\n    clientId: clientInfo.clientId,\n    clientType: clientInfo.clientType,\n  };\n  if (clientInfo.clientType === \"static\") {\n    infoToSave.clientSecret = clientInfo.clientSecret;\n  }\n  if (clientInfo.clientName) {\n    infoToSave.clientName = clientInfo.clientName;\n  }\n  // Note that due to the underlying implementation, doing a `Promise.all`\n  // on multiple `storageUtility.setForUser` results in the last one\n  // overriding the previous calls.\n  await storageUtility.setForUser(options.sessionId, infoToSave);\n  return clientInfo;\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\nimport type { IIssuerConfigFetcher } from \"./login/oidc/IIssuerConfigFetcher\";\nimport type { ILogoutOptions, IRpLogoutOptions } from \"./logout/ILogoutHandler\";\nimport type ILogoutHandler from \"./logout/ILogoutHandler\";\nimport type ILoginHandler from \"./login/ILoginHandler\";\nimport type IIncomingRedirectHandler from \"./login/oidc/IIncomingRedirectHandler\";\nimport type { ISessionInfoManager } from \"./sessionInfo/ISessionInfoManager\";\nimport type {\n  ISessionInfo,\n  ISessionInternalInfo,\n} from \"./sessionInfo/ISessionInfo\";\n\nconst boundFetch: typeof fetch = (request, init) => fetch(request, init);\n\n/**\n * @hidden\n */\nexport default class ClientAuthentication {\n  protected boundLogout?: (options: IRpLogoutOptions) => string;\n\n  constructor(\n    protected loginHandler: ILoginHandler,\n    protected redirectHandler: IIncomingRedirectHandler,\n    protected logoutHandler: ILogoutHandler,\n    protected sessionInfoManager: ISessionInfoManager,\n    protected issuerConfigFetcher?: IIssuerConfigFetcher,\n  ) {\n    this.loginHandler = loginHandler;\n    this.redirectHandler = redirectHandler;\n    this.logoutHandler = logoutHandler;\n    this.sessionInfoManager = sessionInfoManager;\n    this.issuerConfigFetcher = issuerConfigFetcher;\n  }\n\n  // By default, our fetch() resolves to the environment fetch() function.\n  fetch = boundFetch;\n\n  logout = async (\n    sessionId: string,\n    options?: ILogoutOptions,\n  ): Promise<void> => {\n    // When doing IDP logout this will redirect away from the current page, so we should not expect\n    // code after this condition to be run if it is true.\n    // We also need to make sure that any other cleanup that we want to do for\n    // our session takes place before this condition is run\n    await this.logoutHandler.handle(\n      sessionId,\n      options?.logoutType === \"idp\"\n        ? {\n            ...options,\n            toLogoutUrl: this.boundLogout,\n          }\n        : options,\n    );\n\n    // Restore our fetch() function back to the environment fetch(), effectively\n    // leaving us with un-authenticated fetches from now on.\n    this.fetch = boundFetch;\n\n    // Delete the bound logout function, so that it can't be called after this.\n    delete this.boundLogout;\n  };\n\n  getSessionInfo = async (\n    sessionId: string,\n  ): Promise<(ISessionInfo & ISessionInternalInfo) | undefined> => {\n    // TODO complete\n    return this.sessionInfoManager.get(sessionId);\n  };\n\n  getAllSessionInfo = async (): Promise<ISessionInfo[]> => {\n    return this.sessionInfoManager.getAll();\n  };\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * A helper class that will validate items taken from local storage\n */\nimport { exportJWK } from \"jose\";\nimport type IStorage from \"./IStorage\";\nimport type IStorageUtility from \"./IStorageUtility\";\nimport type { IIssuerConfig } from \"../login/oidc/IIssuerConfig\";\nimport type { IIssuerConfigFetcher } from \"../login/oidc/IIssuerConfigFetcher\";\nimport type { KeyPair } from \"../authenticatedFetch/dpopUtils\";\n\nexport type OidcContext = {\n  issuerConfig: IIssuerConfig;\n  codeVerifier?: string;\n  redirectUrl?: string;\n  dpop: boolean;\n  keepAlive: boolean;\n};\n\nexport async function getSessionIdFromOauthState(\n  storageUtility: IStorageUtility,\n  oauthState: string,\n): Promise<string | undefined> {\n  return storageUtility.getForUser(oauthState, \"sessionId\");\n}\n\n/**\n * Based on the provided state, this looks up contextual information stored\n * before redirecting the user to the OIDC issuer.\n * @param sessionId The state (~ correlation ID) of the OIDC request\n * @param storageUtility\n * @param configFetcher\n * @returns Information stored about the client issuing the request\n */\nexport async function loadOidcContextFromStorage(\n  sessionId: string,\n  storageUtility: IStorageUtility,\n  configFetcher: IIssuerConfigFetcher,\n): Promise<OidcContext> {\n  try {\n    const [issuerIri, codeVerifier, storedRedirectIri, dpop, keepAlive] =\n      await Promise.all([\n        storageUtility.getForUser(sessionId, \"issuer\", {\n          errorIfNull: true,\n        }),\n        storageUtility.getForUser(sessionId, \"codeVerifier\"),\n        storageUtility.getForUser(sessionId, \"redirectUrl\"),\n        storageUtility.getForUser(sessionId, \"dpop\", { errorIfNull: true }),\n        storageUtility.getForUser(sessionId, \"keepAlive\"),\n      ]);\n    // Clear the code verifier, which is one-time use.\n    await storageUtility.deleteForUser(sessionId, \"codeVerifier\");\n    // Unlike openid-client, this looks up the configuration from storage\n    const issuerConfig = await configFetcher.fetchConfig(issuerIri as string);\n    return {\n      codeVerifier,\n      redirectUrl: storedRedirectIri,\n      issuerConfig,\n      dpop: dpop === \"true\",\n      // Default keepAlive to true if not found in storage.\n      keepAlive: typeof keepAlive === \"string\" ? keepAlive === \"true\" : true,\n    };\n  } catch (e) {\n    throw new Error(\n      `Failed to retrieve OIDC context from storage associated with session [${sessionId}]: ${e}`,\n    );\n  }\n}\n\n/**\n * Stores information about the session in the provided storage. Note that not\n * all storage are equally secure, and it is strongly advised not to store either\n * the refresh token or the DPoP key in the browser's local storage.\n *\n * @param storageUtility\n * @param sessionId\n * @param webId\n * @param clientId\n * @param isLoggedIn\n * @param refreshToken\n * @param secure\n * @param dpopKey\n */\nexport async function saveSessionInfoToStorage(\n  storageUtility: IStorageUtility,\n  sessionId: string,\n  webId?: string,\n  clientId?: string,\n  isLoggedIn?: string,\n  refreshToken?: string,\n  secure?: boolean,\n  dpopKey?: KeyPair,\n): Promise<void> {\n  // TODO: Investigate why this does not work with a Promise.all\n  if (refreshToken !== undefined) {\n    await storageUtility.setForUser(sessionId, { refreshToken }, { secure });\n  }\n  if (webId !== undefined) {\n    await storageUtility.setForUser(sessionId, { webId }, { secure });\n  }\n  if (clientId !== undefined) {\n    await storageUtility.setForUser(sessionId, { clientId }, { secure });\n  }\n  if (isLoggedIn !== undefined) {\n    await storageUtility.setForUser(sessionId, { isLoggedIn }, { secure });\n  }\n  if (dpopKey !== undefined) {\n    await storageUtility.setForUser(\n      sessionId,\n      {\n        publicKey: JSON.stringify(dpopKey.publicKey),\n        privateKey: JSON.stringify(await exportJWK(dpopKey.privateKey)),\n      },\n      { secure },\n    );\n  }\n}\n\n// TOTEST: this does not handle all possible bad inputs for example what if it's not proper JSON\n/**\n * @hidden\n */\nexport default class StorageUtility implements IStorageUtility {\n  constructor(\n    private secureStorage: IStorage,\n    private insecureStorage: IStorage,\n  ) {\n    this.secureStorage = secureStorage;\n    this.insecureStorage = insecureStorage;\n  }\n\n  private getKey(userId: string): string {\n    return `solidClientAuthenticationUser:${userId}`;\n  }\n\n  private async getUserData(\n    userId: string,\n    secure?: boolean,\n  ): Promise<Record<string, string>> {\n    const stored = await (\n      secure ? this.secureStorage : this.insecureStorage\n    ).get(this.getKey(userId));\n\n    if (stored === undefined) {\n      return {};\n    }\n\n    try {\n      return JSON.parse(stored);\n    } catch (err) {\n      throw new Error(\n        `Data for user [${userId}] in [${\n          secure ? \"secure\" : \"unsecure\"\n        }] storage is corrupted - expected valid JSON, but got: ${stored}`,\n      );\n    }\n  }\n\n  private async setUserData(\n    userId: string,\n    data: Record<string, string>,\n    secure?: boolean,\n  ): Promise<void> {\n    await (secure ? this.secureStorage : this.insecureStorage).set(\n      this.getKey(userId),\n      JSON.stringify(data),\n    );\n  }\n\n  async get(\n    key: string,\n    options?: { errorIfNull?: boolean; secure?: boolean },\n  ): Promise<string | undefined> {\n    const value = await (\n      options?.secure ? this.secureStorage : this.insecureStorage\n    ).get(key);\n    if (value === undefined && options?.errorIfNull) {\n      throw new Error(`[${key}] is not stored`);\n    }\n    return value;\n  }\n\n  async set(\n    key: string,\n    value: string,\n    options?: { secure?: boolean },\n  ): Promise<void> {\n    return (options?.secure ? this.secureStorage : this.insecureStorage).set(\n      key,\n      value,\n    );\n  }\n\n  async delete(key: string, options?: { secure?: boolean }): Promise<void> {\n    return (options?.secure ? this.secureStorage : this.insecureStorage).delete(\n      key,\n    );\n  }\n\n  async getForUser(\n    userId: string,\n    key: string,\n    options?: { errorIfNull?: boolean; secure?: boolean },\n  ): Promise<string | undefined> {\n    const userData = await this.getUserData(userId, options?.secure);\n    let value;\n    if (!userData || !userData[key]) {\n      value = undefined;\n    }\n    value = userData[key];\n    if (value === undefined && options?.errorIfNull) {\n      throw new Error(`Field [${key}] for user [${userId}] is not stored`);\n    }\n    return value || undefined;\n  }\n\n  async setForUser(\n    userId: string,\n    values: Record<string, string>,\n    options?: { secure?: boolean },\n  ): Promise<void> {\n    let userData: Record<string, string>;\n    try {\n      userData = await this.getUserData(userId, options?.secure);\n    } catch {\n      // if reading the user data throws, the data is corrupted, and we want to write over it\n      userData = {};\n    }\n\n    await this.setUserData(userId, { ...userData, ...values }, options?.secure);\n  }\n\n  async deleteForUser(\n    userId: string,\n    key: string,\n    options?: { secure?: boolean },\n  ): Promise<void> {\n    const userData = await this.getUserData(userId, options?.secure);\n    delete userData[key];\n    await this.setUserData(userId, userData, options?.secure);\n  }\n\n  async deleteAllUserData(\n    userId: string,\n    options?: { secure?: boolean },\n  ): Promise<void> {\n    await (options?.secure ? this.secureStorage : this.insecureStorage).delete(\n      this.getKey(userId),\n    );\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type IStorage from \"./IStorage\";\n\n/**\n * @hidden\n */\nexport default class InMemoryStorage implements IStorage {\n  private map: Record<string, string> = {};\n\n  async get(key: string): Promise<string | undefined> {\n    return this.map[key] || undefined;\n  }\n\n  async set(key: string, value: string): Promise<void> {\n    this.map[key] = value;\n  }\n\n  async delete(key: string): Promise<void> {\n    delete this.map[key];\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Error to be triggered when a poor configuration is received\n */\n\n// NOTE: There's a bug with istanbul and typescript that prevents full branch coverages\n// https://github.com/gotwarlost/istanbul/issues/690\n// The workaround is to put istanbul ignore on the constructor\n/**\n * @hidden\n */\nexport default class ConfigurationError extends Error {\n  /* istanbul ignore next */\n  constructor(message: string) {\n    super(message);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Error to be triggered if a method is not implemented\n * @hidden\n */\nexport default class NotImplementedError extends Error {\n  /* istanbul ignore next */\n  constructor(methodName: string) {\n    super(`[${methodName}] is not implemented`);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Error to be triggered when receiving a response missing mandatory elements\n */\n\n// NOTE: There's a bug with istanbul and typescript that prevents full branch coverages\n// https://github.com/gotwarlost/istanbul/issues/690\n// The workaround is to put istanbul ignore on the constructor\n/**\n * @hidden\n */\nexport class InvalidResponseError extends Error {\n  /* istanbul ignore next */\n  constructor(public readonly missingFields: string[]) {\n    super(\n      `Invalid response from OIDC provider: missing fields ${missingFields}`,\n    );\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Error to be triggered when receiving a response missing mandatory elements\n */\n\n// NOTE: There's a bug with istanbul and typescript that prevents full branch coverages\n// https://github.com/gotwarlost/istanbul/issues/690\n// The workaround is to put istanbul ignore on the constructor\n/**\n * @hidden\n */\nexport class OidcProviderError extends Error {\n  /* istanbul ignore next */\n  constructor(\n    message: string,\n    public readonly error: string,\n    public readonly errorDescription?: string,\n  ) {\n    super(message);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport type { JWK, KeyLike } from \"jose\";\nimport { SignJWT, generateKeyPair, exportJWK } from \"jose\";\nimport { v4 } from \"uuid\";\nimport { PREFERRED_SIGNING_ALG } from \"../constant\";\n\n/**\n * Normalizes a URL in order to generate the DPoP token based on a consistent scheme.\n *\n * @param audience The URL to normalize.\n * @returns The normalized URL as a string.\n * @hidden\n */\nfunction normalizeHTU(audience: string): string {\n  const audienceUrl = new URL(audience);\n  return new URL(audienceUrl.pathname, audienceUrl.origin).toString();\n}\n\nexport type KeyPair = {\n  privateKey: KeyLike;\n  publicKey: JWK;\n};\n\n/**\n * Creates a DPoP header according to https://tools.ietf.org/html/draft-fett-oauth-dpop-04,\n * based on the target URL and method, using the provided key.\n *\n * @param audience Target URL.\n * @param method HTTP method allowed.\n * @param dpopKey Key used to sign the token.\n * @returns A JWT that can be used as a DPoP Authorization header.\n */\nexport async function createDpopHeader(\n  audience: string,\n  method: string,\n  dpopKey: KeyPair,\n): Promise<string> {\n  return new SignJWT({\n    htu: normalizeHTU(audience),\n    htm: method.toUpperCase(),\n    jti: v4(),\n  })\n    .setProtectedHeader({\n      alg: PREFERRED_SIGNING_ALG[0],\n      jwk: dpopKey.publicKey,\n      typ: \"dpop+jwt\",\n    })\n    .setIssuedAt()\n    .sign(dpopKey.privateKey, {});\n}\n\nexport async function generateDpopKeyPair(): Promise<KeyPair> {\n  const { privateKey, publicKey } = await generateKeyPair(\n    PREFERRED_SIGNING_ALG[0],\n  );\n  const dpopKeyPair = {\n    privateKey,\n    publicKey: await exportJWK(publicKey),\n  };\n  // The alg property isn't set by exportJWK, so set it manually.\n  [dpopKeyPair.publicKey.alg] = PREFERRED_SIGNING_ALG;\n  return dpopKeyPair;\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n// eslint-disable-next-line no-shadow\nimport type { EventEmitter } from \"events\";\nimport { REFRESH_BEFORE_EXPIRATION_SECONDS, EVENTS } from \"../constant\";\nimport type { ITokenRefresher } from \"../login/oidc/refresh/ITokenRefresher\";\nimport type { KeyPair } from \"./dpopUtils\";\nimport { createDpopHeader } from \"./dpopUtils\";\nimport { OidcProviderError } from \"../errors/OidcProviderError\";\nimport { InvalidResponseError } from \"../errors/InvalidResponseError\";\n\nexport type RefreshOptions = {\n  sessionId: string;\n  refreshToken: string;\n  tokenRefresher: ITokenRefresher;\n};\n\n/**\n * If expires_in isn't specified for the access token, we assume its lifetime is\n * 10 minutes.\n */\nexport const DEFAULT_EXPIRATION_TIME_SECONDS = 600;\n\nfunction isExpectedAuthError(statusCode: number): boolean {\n  // As per https://tools.ietf.org/html/rfc7235#section-3.1 and https://tools.ietf.org/html/rfc7235#section-3.1,\n  // a response failing because the provided credentials aren't accepted by the\n  // server can get a 401 or a 403 response.\n  return [401, 403].includes(statusCode);\n}\n\nexport type DpopHeaderPayload = {\n  htu: string;\n  htm: string;\n  jti: string;\n};\n\nasync function buildDpopFetchOptions(\n  targetUrl: string,\n  authToken: string,\n  dpopKey: KeyPair,\n  defaultOptions?: RequestInit,\n): Promise<RequestInit> {\n  const headers = new Headers(defaultOptions?.headers);\n  // Any pre-existing Authorization header should be overriden.\n  headers.set(\"Authorization\", `DPoP ${authToken}`);\n  headers.set(\n    \"DPoP\",\n    await createDpopHeader(targetUrl, defaultOptions?.method ?? \"get\", dpopKey),\n  );\n  return {\n    ...defaultOptions,\n    headers,\n  };\n}\n\nasync function buildAuthenticatedHeaders(\n  targetUrl: string,\n  authToken: string,\n  dpopKey?: KeyPair,\n  defaultOptions?: RequestInit,\n): Promise<RequestInit> {\n  if (dpopKey !== undefined) {\n    return buildDpopFetchOptions(targetUrl, authToken, dpopKey, defaultOptions);\n  }\n  const headers = new Headers(defaultOptions?.headers);\n  // Any pre-existing Authorization header should be overriden.\n  headers.set(\"Authorization\", `Bearer ${authToken}`);\n  return {\n    ...defaultOptions,\n    headers,\n  };\n}\n\nasync function makeAuthenticatedRequest(\n  accessToken: string,\n  url: RequestInfo | URL,\n  defaultRequestInit?: RequestInit,\n  dpopKey?: KeyPair,\n) {\n  return fetch(\n    url,\n    await buildAuthenticatedHeaders(\n      url.toString(),\n      accessToken,\n      dpopKey,\n      defaultRequestInit,\n    ),\n  );\n}\n\nasync function refreshAccessToken(\n  refreshOptions: RefreshOptions,\n  dpopKey?: KeyPair,\n  eventEmitter?: EventEmitter,\n): Promise<{ accessToken: string; refreshToken?: string; expiresIn?: number }> {\n  const tokenSet = await refreshOptions.tokenRefresher.refresh(\n    refreshOptions.sessionId,\n    refreshOptions.refreshToken,\n    dpopKey,\n  );\n  eventEmitter?.emit(\n    EVENTS.SESSION_EXTENDED,\n    tokenSet.expiresIn ?? DEFAULT_EXPIRATION_TIME_SECONDS,\n  );\n  if (typeof tokenSet.refreshToken === \"string\") {\n    eventEmitter?.emit(EVENTS.NEW_REFRESH_TOKEN, tokenSet.refreshToken);\n  }\n  return {\n    accessToken: tokenSet.accessToken,\n    refreshToken: tokenSet.refreshToken,\n    expiresIn: tokenSet.expiresIn,\n  };\n}\n\n/**\n *\n * @param expiresIn Delay until the access token expires.\n * @returns a delay until the access token should be refreshed.\n */\nconst computeRefreshDelay = (expiresIn?: number): number => {\n  if (expiresIn !== undefined) {\n    return expiresIn - REFRESH_BEFORE_EXPIRATION_SECONDS > 0\n      ? // We want to refresh the token 5 seconds before they actually expire.\n        expiresIn - REFRESH_BEFORE_EXPIRATION_SECONDS\n      : expiresIn;\n  }\n  return DEFAULT_EXPIRATION_TIME_SECONDS;\n};\n\n/**\n * @param accessToken an access token, either a Bearer token or a DPoP one.\n * @param options The option object may contain two objects: the DPoP key token\n * is bound to if applicable, and options to customize token renewal behavior.\n *\n * @returns A fetch function that adds an appropriate Authorization header with\n * the provided token, and adds a DPoP header if applicable.\n */\nexport async function buildAuthenticatedFetch(\n  accessToken: string,\n  options?: {\n    dpopKey?: KeyPair;\n    refreshOptions?: RefreshOptions;\n    expiresIn?: number;\n    eventEmitter?: EventEmitter;\n  },\n): Promise<typeof fetch> {\n  let currentAccessToken = accessToken;\n  let latestTimeout: Parameters<typeof clearTimeout>[0];\n  const currentRefreshOptions: RefreshOptions | undefined =\n    options?.refreshOptions;\n  // Setup the refresh timeout outside of the authenticated fetch, so that\n  // an idle app will not get logged out if it doesn't issue a fetch before\n  // the first expiration date.\n  if (currentRefreshOptions !== undefined) {\n    const proactivelyRefreshToken = async () => {\n      try {\n        const {\n          accessToken: refreshedAccessToken,\n          refreshToken,\n          expiresIn,\n        } = await refreshAccessToken(\n          currentRefreshOptions,\n          // If currentRefreshOptions is defined, options is necessarily defined too.\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options!.dpopKey,\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options!.eventEmitter,\n        );\n        // Update the tokens in the closure if appropriate.\n        currentAccessToken = refreshedAccessToken;\n        if (refreshToken !== undefined) {\n          currentRefreshOptions.refreshToken = refreshToken;\n        }\n        // Each time the access token is refreshed, we must plan for the next\n        // refresh iteration.\n        clearTimeout(latestTimeout);\n        latestTimeout = setTimeout(\n          proactivelyRefreshToken,\n          computeRefreshDelay(expiresIn) * 1000,\n        );\n        // If currentRefreshOptions is defined, options is necessarily defined too.\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        options!.eventEmitter?.emit(EVENTS.TIMEOUT_SET, latestTimeout);\n      } catch (e) {\n        // It is possible that an underlying library throws an error on refresh flow failure.\n        // If we used a log framework, the error could be logged at the `debug` level,\n        // but otherwise the failure of the refresh flow should not blow up in the user's\n        // face, so we just swallow the error.\n        if (e instanceof OidcProviderError) {\n          // The OIDC provider refused to refresh the access token and returned an error instead.\n          /* istanbul ignore next 100% coverage would require testing that nothing\n              happens here if the emitter is undefined, which is more cumbersome\n              than what it's worth. */\n          options?.eventEmitter?.emit(\n            EVENTS.ERROR,\n            e.error,\n            e.errorDescription,\n          );\n          /* istanbul ignore next 100% coverage would require testing that nothing\n            happens here if the emitter is undefined, which is more cumbersome\n            than what it's worth. */\n          options?.eventEmitter?.emit(EVENTS.SESSION_EXPIRED);\n        }\n        if (\n          e instanceof InvalidResponseError &&\n          e.missingFields.includes(\"access_token\")\n        ) {\n          // In this case, the OIDC provider returned a non-standard response, but\n          // did not specify that it was an error. We cannot refresh nonetheless.\n          /* istanbul ignore next 100% coverage would require testing that nothing\n            happens here if the emitter is undefined, which is more cumbersome\n            than what it's worth. */\n          options?.eventEmitter?.emit(EVENTS.SESSION_EXPIRED);\n        }\n      }\n    };\n    latestTimeout = setTimeout(\n      proactivelyRefreshToken,\n      // If currentRefreshOptions is defined, options is necessarily defined too.\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      computeRefreshDelay(options!.expiresIn) * 1000,\n    );\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    options!.eventEmitter?.emit(EVENTS.TIMEOUT_SET, latestTimeout);\n  } else if (options !== undefined && options.eventEmitter !== undefined) {\n    // If no refresh options are provided, the session expires when the access token does.\n    const expirationTimeout = setTimeout(\n      () => {\n        // The event emitter is always defined in our code, and it would be tedious\n        // to test for conditions when it is not.\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        options.eventEmitter!.emit(EVENTS.SESSION_EXPIRED);\n      },\n      computeRefreshDelay(options.expiresIn) * 1000,\n    );\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    options.eventEmitter!.emit(EVENTS.TIMEOUT_SET, expirationTimeout);\n  }\n  return async (url, requestInit?): Promise<Response> => {\n    let response = await makeAuthenticatedRequest(\n      currentAccessToken,\n      url,\n      requestInit,\n      options?.dpopKey,\n    );\n\n    const failedButNotExpectedAuthError =\n      !response.ok && !isExpectedAuthError(response.status);\n    if (response.ok || failedButNotExpectedAuthError) {\n      // If there hasn't been a redirection, or if there has been a non-auth related\n      // issue, it should be handled at the application level\n      return response;\n    }\n    const hasBeenRedirected = response.url !== url;\n    if (hasBeenRedirected && options?.dpopKey !== undefined) {\n      // If the request failed for auth reasons, and has been redirected, we should\n      // replay it generating a DPoP header for the rediration target IRI. This\n      // doesn't apply to Bearer tokens, as the Bearer tokens aren't specific\n      // to a given resource and method, while the DPoP header (associated to a\n      // DPoP token) is.\n      response = await makeAuthenticatedRequest(\n        currentAccessToken,\n        // Replace the original target IRI (`url`) by the redirection target\n        response.url,\n        requestInit,\n        options.dpopKey,\n      );\n    }\n    return response;\n  };\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport StorageUtility from \"../StorageUtility\";\nimport type IStorage from \"../IStorage\";\nimport type IStorageUtility from \"../IStorageUtility\";\n\nexport const StorageUtilityGetResponse = \"getResponse\";\n\nexport const StorageUtilityMock: IStorageUtility = {\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  get: async (key: string, options?: { errorIfNull?: boolean }) =>\n    StorageUtilityGetResponse,\n  set: async (key: string, value: string) => {\n    /* do nothing */\n  },\n  delete: async (key: string) => {\n    /* do nothing */\n  },\n  getForUser: async (\n    userId: string,\n    key: string,\n    options?: { errorIfNull?: boolean; secure?: boolean },\n  ) => StorageUtilityGetResponse,\n  setForUser: async (\n    userId: string,\n    values: Record<string, string>,\n    options?: { secure?: boolean },\n  ) => {\n    /* do nothing */\n  },\n  deleteForUser: async (\n    userId: string,\n    key: string,\n    options?: { secure?: boolean },\n  ) => {\n    /* do nothing */\n  },\n  deleteAllUserData: async (userId: string, options?: { secure?: boolean }) => {\n    /* do nothing */\n  },\n};\n\nexport const mockStorage = (\n  stored: Record<string, string | Record<string, string>>,\n): IStorage => {\n  const store = stored;\n  return {\n    get: async (key: string): Promise<string | undefined> => {\n      if (store[key] === undefined) {\n        return undefined;\n      }\n      if (typeof store[key] === \"string\") {\n        return store[key] as string;\n      }\n      return JSON.stringify(store[key]);\n    },\n    set: async (key: string, value: string): Promise<void> => {\n      store[key] = value;\n    },\n    delete: async (key: string): Promise<void> => {\n      delete store[key];\n    },\n  };\n};\n\nexport const mockStorageUtility = (\n  stored: Record<string, string | Record<string, string>>,\n  isSecure = false,\n): IStorageUtility => {\n  if (isSecure) {\n    return new StorageUtility(mockStorage(stored), mockStorage({}));\n  }\n  return new StorageUtility(mockStorage({}), mockStorage(stored));\n};\n", "import { OidcClient, WebStorageStateStore } from '@inrupt/oidc-client';\nexport { CordovaIFrameNavigator, CordovaPopupNavigator, InMemoryWebStorage, Log, OidcClient, SessionMonitor, User, UserManager, Version, WebStorageStateStore } from '@inrupt/oidc-client';\nimport { determineSigningAlg, PREFERRED_SIGNING_ALG, generateDpopKeyPair, createDpopHeader, getWebidFromTokenPayload, OidcProviderError, InvalidResponseError, DEFAULT_SCOPES, removeOpenIdParams } from '@inrupt/solid-client-authn-core';\n\n//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nfunction processErrorResponse(\n// The type is any here because the object is parsed from a JSON response\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nresponseBody, options) {\n    var _a, _b, _c, _d;\n    // The following errors are defined by the spec, and allow providing some context.\n    // See https://tools.ietf.org/html/rfc7591#section-3.2.2 for more information\n    if (responseBody.error === \"invalid_redirect_uri\") {\n        throw new Error(`Dynamic client registration failed: the provided redirect uri [${(_a = options.redirectUrl) === null || _a === void 0 ? void 0 : _a.toString()}] is invalid - ${(_b = responseBody.error_description) !== null && _b !== void 0 ? _b : \"\"}`);\n    }\n    if (responseBody.error === \"invalid_client_metadata\") {\n        throw new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(options)} is invalid - ${(_c = responseBody.error_description) !== null && _c !== void 0 ? _c : \"\"}`);\n    }\n    // We currently don't support software statements, so no related error should happen.\n    // If an error outside of the spec happens, no additional context can be provided\n    throw new Error(`Dynamic client registration failed: ${responseBody.error} - ${(_d = responseBody.error_description) !== null && _d !== void 0 ? _d : \"\"}`);\n}\nfunction validateRegistrationResponse(\n// The type is any here because the object is parsed from a JSON response\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nresponseBody, options) {\n    if (responseBody.client_id === undefined) {\n        throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(responseBody)}`);\n    }\n    if (options.redirectUrl &&\n        (responseBody.redirect_uris === undefined ||\n            responseBody.redirect_uris[0] !== options.redirectUrl.toString())) {\n        throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(responseBody.redirect_uris)} don't match the provided ${JSON.stringify([\n            options.redirectUrl.toString(),\n        ])}`);\n    }\n}\nasync function registerClient(options, issuerConfig) {\n    var _a;\n    if (!issuerConfig.registrationEndpoint) {\n        throw new Error(\"Dynamic Registration could not be completed because the issuer has no registration endpoint.\");\n    }\n    if (!Array.isArray(issuerConfig.idTokenSigningAlgValuesSupported)) {\n        throw new Error(\"The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.\");\n    }\n    const signingAlg = determineSigningAlg(issuerConfig.idTokenSigningAlgValuesSupported, PREFERRED_SIGNING_ALG);\n    const config = {\n        /* eslint-disable camelcase */\n        client_name: options.clientName,\n        application_type: \"web\",\n        redirect_uris: [(_a = options.redirectUrl) === null || _a === void 0 ? void 0 : _a.toString()],\n        subject_type: \"public\",\n        token_endpoint_auth_method: \"client_secret_basic\",\n        id_token_signed_response_alg: signingAlg,\n        grant_types: [\"authorization_code\", \"refresh_token\"],\n        /* eslint-enable camelcase */\n    };\n    const headers = {\n        \"Content-Type\": \"application/json\",\n    };\n    const registerResponse = await fetch(issuerConfig.registrationEndpoint.toString(), {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify(config),\n    });\n    if (registerResponse.ok) {\n        const responseBody = await registerResponse.json();\n        validateRegistrationResponse(responseBody, options);\n        return {\n            clientId: responseBody.client_id,\n            clientSecret: responseBody.client_secret,\n            idTokenSignedResponseAlg: responseBody.id_token_signed_response_alg,\n            clientType: \"dynamic\",\n        };\n    }\n    if (registerResponse.status === 400) {\n        processErrorResponse(await registerResponse.json(), options);\n    }\n    throw new Error(`Dynamic client registration failed: the server returned ${registerResponse.status} ${registerResponse.statusText} - ${await registerResponse.text()}`);\n}\n\n//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n// Identifiers in camelcase are mandated by the OAuth spec.\n/* eslint-disable camelcase */\nfunction hasError(value) {\n    return value.error !== undefined && typeof value.error === \"string\";\n}\nfunction hasErrorDescription(value) {\n    return (value.error_description !== undefined &&\n        typeof value.error_description === \"string\");\n}\nfunction hasErrorUri(value) {\n    return value.error_uri !== undefined && typeof value.error_uri === \"string\";\n}\nfunction hasAccessToken(value) {\n    return (value.access_token !== undefined && typeof value.access_token === \"string\");\n}\nfunction hasIdToken(value) {\n    return value.id_token !== undefined && typeof value.id_token === \"string\";\n}\nfunction hasRefreshToken(value) {\n    return (value.refresh_token !== undefined && typeof value.refresh_token === \"string\");\n}\nfunction hasTokenType(value) {\n    return value.token_type !== undefined && typeof value.token_type === \"string\";\n}\nfunction hasExpiresIn(value) {\n    return value.expires_in === undefined || typeof value.expires_in === \"number\";\n}\nfunction validatePreconditions(issuer, data) {\n    if (data.grantType &&\n        (!issuer.grantTypesSupported ||\n            !issuer.grantTypesSupported.includes(data.grantType))) {\n        throw new Error(`The issuer [${issuer.issuer}] does not support the [${data.grantType}] grant`);\n    }\n    if (!issuer.tokenEndpoint) {\n        throw new Error(`This issuer [${issuer.issuer}] does not have a token endpoint`);\n    }\n}\nfunction validateTokenEndpointResponse(tokenResponse, dpop) {\n    if (hasError(tokenResponse)) {\n        throw new OidcProviderError(`Token endpoint returned error [${tokenResponse.error}]${hasErrorDescription(tokenResponse)\n            ? `: ${tokenResponse.error_description}`\n            : \"\"}${hasErrorUri(tokenResponse) ? ` (see ${tokenResponse.error_uri})` : \"\"}`, tokenResponse.error, hasErrorDescription(tokenResponse)\n            ? tokenResponse.error_description\n            : undefined);\n    }\n    if (!hasAccessToken(tokenResponse)) {\n        throw new InvalidResponseError([\"access_token\"]);\n    }\n    if (!hasIdToken(tokenResponse)) {\n        throw new InvalidResponseError([\"id_token\"]);\n    }\n    if (!hasTokenType(tokenResponse)) {\n        throw new InvalidResponseError([\"token_type\"]);\n    }\n    if (!hasExpiresIn(tokenResponse)) {\n        throw new InvalidResponseError([\"expires_in\"]);\n    }\n    // TODO: Due to a bug in both the ESS ID broker AND NSS (what were the odds), a DPoP token is returned\n    // with a token_type 'Bearer'. To work around this, this test is currently disabled.\n    // https://github.com/solid/oidc-op/issues/26\n    // Fixed, but unreleased for the ESS (current version: inrupt-oidc-server-0.5.2)\n    // if (dpop && tokenResponse.token_type.toLowerCase() !== \"dpop\") {\n    //   throw new Error(\n    //     `Invalid token endpoint response: requested a [DPoP] token, but got a 'token_type' value of [${tokenResponse.token_type}].`\n    //   );\n    // }\n    if (!dpop && tokenResponse.token_type.toLowerCase() !== \"bearer\") {\n        throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${tokenResponse.token_type}].`);\n    }\n    return tokenResponse;\n}\nasync function getTokens(issuer, client, data, dpop) {\n    validatePreconditions(issuer, data);\n    const headers = {\n        \"content-type\": \"application/x-www-form-urlencoded\",\n    };\n    let dpopKey;\n    if (dpop) {\n        dpopKey = await generateDpopKeyPair();\n        headers.DPoP = await createDpopHeader(issuer.tokenEndpoint, \"POST\", dpopKey);\n    }\n    // Note: this defaults to client_secret_basic. client_secret_post\n    // is currently not supported. See https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication\n    // for details.\n    if (client.clientSecret) {\n        headers.Authorization = `Basic ${btoa(`${client.clientId}:${client.clientSecret}`)}`;\n    }\n    const requestBody = {\n        /* eslint-disable camelcase */\n        grant_type: data.grantType,\n        redirect_uri: data.redirectUrl,\n        code: data.code,\n        code_verifier: data.codeVerifier,\n        client_id: client.clientId,\n        /* eslint-enable camelcase */\n    };\n    const tokenRequestInit = {\n        method: \"POST\",\n        headers,\n        body: new URLSearchParams(requestBody).toString(),\n    };\n    const rawTokenResponse = await fetch(issuer.tokenEndpoint, tokenRequestInit);\n    const jsonTokenResponse = (await rawTokenResponse.json());\n    const tokenResponse = validateTokenEndpointResponse(jsonTokenResponse, dpop);\n    const { webId, clientId } = await getWebidFromTokenPayload(tokenResponse.id_token, issuer.jwksUri, issuer.issuer, client.clientId);\n    return {\n        accessToken: tokenResponse.access_token,\n        idToken: tokenResponse.id_token,\n        refreshToken: hasRefreshToken(tokenResponse)\n            ? tokenResponse.refresh_token\n            : undefined,\n        webId,\n        clientId,\n        dpopKey,\n        expiresIn: tokenResponse.expires_in,\n    };\n}\n\n//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\nconst isValidUrl = (url) => {\n    try {\n        // Here, the URL constructor is just called to parse the given string and\n        // verify if it is a well-formed IRI.\n        // eslint-disable-next-line no-new\n        new URL(url);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n};\n// Identifiers in snake_case are mandated by the OAuth spec.\n/* eslint-disable camelcase */\nasync function refresh(refreshToken, issuer, client, dpopKey) {\n    if (client.clientId === undefined) {\n        throw new Error(\"No client ID available when trying to refresh the access token.\");\n    }\n    const requestBody = {\n        grant_type: \"refresh_token\",\n        refresh_token: refreshToken,\n        scope: DEFAULT_SCOPES,\n    };\n    let dpopHeader = {};\n    if (dpopKey !== undefined) {\n        dpopHeader = {\n            DPoP: await createDpopHeader(issuer.tokenEndpoint, \"POST\", dpopKey),\n        };\n    }\n    let authHeader = {};\n    if (client.clientSecret !== undefined) {\n        authHeader = {\n            // We assume that client_secret_basic is the client authentication method.\n            // TODO: Get the authentication method from the IClient configuration object.\n            Authorization: `Basic ${btoa(`${client.clientId}:${client.clientSecret}`)}`,\n        };\n    }\n    else if (isValidUrl(client.clientId)) {\n        // If the client ID is an URL, and there is no client secret, the client\n        // has a Solid-OIDC Client Identifier, and it should be present in the\n        // request body.\n        requestBody.client_id = client.clientId;\n    }\n    const rawResponse = await fetch(issuer.tokenEndpoint, {\n        method: \"POST\",\n        body: new URLSearchParams(requestBody).toString(),\n        headers: {\n            ...dpopHeader,\n            ...authHeader,\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n    });\n    let response;\n    try {\n        response = await rawResponse.json();\n    }\n    catch (e) {\n        // The response is left out of the error on purpose not to leak any sensitive information.\n        throw new Error(`The token endpoint of issuer ${issuer.issuer} returned a malformed response.`);\n    }\n    const validatedResponse = validateTokenEndpointResponse(response, dpopKey !== undefined);\n    const { webId } = await getWebidFromTokenPayload(validatedResponse.id_token, issuer.jwksUri, issuer.issuer, client.clientId);\n    return {\n        accessToken: validatedResponse.access_token,\n        idToken: validatedResponse.id_token,\n        refreshToken: typeof validatedResponse.refresh_token === \"string\"\n            ? validatedResponse.refresh_token\n            : undefined,\n        webId,\n        dpopKey,\n        expiresIn: validatedResponse.expires_in,\n    };\n}\n\n//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n/**\n * Removes OIDC-specific query parameters from a given URL (state, code...), and\n * sanitizes the URL (e.g. removes the hash fragment).\n * @param redirectUrl The URL to clean up.\n * @returns A copy of the URL, without OIDC-specific query params.\n */\nfunction normalizeCallbackUrl(redirectUrl) {\n    const cleanedUrl = removeOpenIdParams(redirectUrl);\n    // As per https://tools.ietf.org/html/rfc6749#section-3.1.2, the redirect URL\n    // must not include a hash fragment.\n    cleanedUrl.hash = \"\";\n    // Do not normalize the trailing slash, and respect the original redirect URL.\n    if (\n    // The trailing slash is present in the original redirect URL\n    redirectUrl.includes(`${cleanedUrl.origin}/`)) {\n        return cleanedUrl.href;\n    }\n    // Calling cleanedUrl.href appends a trailing slash to the origin, which may\n    // create a redirect URL mismatch if it wasn't originally present.\n    return `${cleanedUrl.origin}${cleanedUrl.href.substring(\n    // Adds 1 to the origin length to remove the trailing slash\n    cleanedUrl.origin.length + 1)}`;\n}\n/**\n * Clears any OIDC-related data lingering in the local storage.\n */\nasync function clearOidcPersistentStorage() {\n    const client = new OidcClient({\n        // TODO: We should look at the various interfaces being used for storage,\n        //  i.e. between oidc-client-js (WebStorageStoreState), localStorage\n        //  (which has an interface Storage), and our own proprietary interface\n        //  IStorage - i.e. we should really just be using the browser Web Storage\n        //  API, e.g. \"stateStore: window.localStorage,\".\n        // We are instantiating a new instance here, so the only value we need to\n        // explicitly provide is the response mode (default otherwise will look\n        // for a hash '#' fragment!).\n        // eslint-disable-next-line camelcase\n        response_mode: \"query\",\n    });\n    await client.clearStaleState(new WebStorageStateStore({}));\n    const myStorage = window.localStorage;\n    const itemsToRemove = [];\n    for (let i = 0; i <= myStorage.length; i += 1) {\n        const key = myStorage.key(i);\n        if (key &&\n            (key.match(/^oidc\\..+$/) ||\n                key.match(/^solidClientAuthenticationUser:.+$/))) {\n            itemsToRemove.push(key);\n        }\n    }\n    itemsToRemove.forEach((key) => myStorage.removeItem(key));\n}\n\nexport { clearOidcPersistentStorage, getTokens, normalizeCallbackUrl, refresh, registerClient };\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * A helper class that will validate items taken from local storage\n */\nimport type { IStorage } from \"@inrupt/solid-client-authn-core\";\nimport { StorageUtility } from \"@inrupt/solid-client-authn-core\";\n\n/**\n * This class in a no-value-added extension of StorageUtility from the core module.\n * The reason it has to be declared is for TSyringe to find the decorators in the\n * same modules as where the dependency container is declared (in this case,\n * the browser module, with the dependancy container in dependencies.ts).\n * @hidden\n */\nexport default class StorageUtilityBrowser extends StorageUtility {\n  constructor(secureStorage: IStorage, insecureStorage: IStorage) {\n    super(secureStorage, insecureStorage);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type {\n  ISessionInfo,\n  ISessionInternalInfo,\n  ILoginOptions,\n} from \"@inrupt/solid-client-authn-core\";\nimport {\n  EVENTS,\n  isValidRedirectUrl,\n  ClientAuthentication as ClientAuthenticationBase,\n  removeOpenIdParams,\n} from \"@inrupt/solid-client-authn-core\";\nimport { normalizeCallbackUrl } from \"@inrupt/oidc-client-ext\";\nimport type { EventEmitter } from \"events\";\n\n/**\n * @hidden\n */\nexport default class ClientAuthentication extends ClientAuthenticationBase {\n  // Define these functions as properties so that they don't get accidentally re-bound.\n  // Isn't Javascript fun?\n  login = async (\n    options: ILoginOptions,\n    eventEmitter: EventEmitter,\n  ): Promise<void> => {\n    // In order to get a clean start, make sure that the session is logged out\n    // on login.\n    // But we may want to preserve our client application info, particularly if\n    // we used Dynamic Client Registration to register (since we don't\n    // necessarily want the user to have to register this app each time they\n    // login).\n    await this.sessionInfoManager.clear(options.sessionId);\n\n    // In the case of the user hitting the 'back' button in their browser, they\n    // could return to a previous redirect URL that contains OIDC params that\n    // are now longer valid. To be safe, strip relevant params now.\n    // If the user is providing a redirect IRI, it should not be modified, so\n    // normalization only applies if we default to the current location (which is\n    // a bad practice and should be discouraged).\n    const redirectUrl =\n      options.redirectUrl ?? normalizeCallbackUrl(window.location.href);\n    if (!isValidRedirectUrl(redirectUrl)) {\n      throw new Error(\n        `${redirectUrl} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`,\n      );\n    }\n    await this.loginHandler.handle({\n      ...options,\n      redirectUrl,\n      // If no clientName is provided, the clientId may be used instead.\n      clientName: options.clientName ?? options.clientId,\n      eventEmitter,\n    });\n  };\n\n  // Collects session information from storage, and returns them. Returns null\n  // if the expected information cannot be found.\n  // Note that the ID token is not stored, which means the session information\n  // cannot be validated at this point.\n  validateCurrentSession = async (\n    currentSessionId: string,\n  ): Promise<(ISessionInfo & ISessionInternalInfo) | null> => {\n    const sessionInfo = await this.sessionInfoManager.get(currentSessionId);\n    if (\n      sessionInfo === undefined ||\n      sessionInfo.clientAppId === undefined ||\n      sessionInfo.issuer === undefined\n    ) {\n      return null;\n    }\n    return sessionInfo;\n  };\n\n  handleIncomingRedirect = async (\n    url: string,\n    eventEmitter: EventEmitter,\n  ): Promise<ISessionInfo | undefined> => {\n    try {\n      const redirectInfo = await this.redirectHandler.handle(\n        url,\n        eventEmitter,\n        undefined,\n      );\n      // The `FallbackRedirectHandler` directly returns the global `fetch` for\n      // his value, so we should ensure it's bound to `window` rather than to\n      // ClientAuthentication, to avoid the following error:\n      // > 'fetch' called on an object that does not implement interface Window.\n      this.fetch = redirectInfo.fetch.bind(window);\n      this.boundLogout = redirectInfo.getLogoutUrl;\n\n      // Strip the oauth params:\n      await this.cleanUrlAfterRedirect(url);\n\n      return {\n        isLoggedIn: redirectInfo.isLoggedIn,\n        webId: redirectInfo.webId,\n        sessionId: redirectInfo.sessionId,\n        expirationDate: redirectInfo.expirationDate,\n        clientAppId: redirectInfo.clientAppId,\n      };\n    } catch (err) {\n      // Strip the oauth params:\n      await this.cleanUrlAfterRedirect(url);\n\n      // FIXME: EVENTS.ERROR should be errorCode, errorDescription\n      //\n      // I'm not sure if \"redirect\" is a good error code, and in theory `err`\n      // maybe an Error object and not a string; Maybe we want to just hardcode\n      // a description instead?\n      eventEmitter.emit(EVENTS.ERROR, \"redirect\", err);\n\n      return undefined;\n    }\n  };\n\n  private async cleanUrlAfterRedirect(url: string): Promise<void> {\n    const cleanedUpUrl = removeOpenIdParams(url).href;\n\n    // Remove OAuth-specific query params (since the login flow finishes with\n    // the browser being redirected back with OAuth2 query params (e.g. for\n    // 'code' and 'state'), and so if the user simply refreshes this page our\n    // authentication library will be called again with what are now invalid\n    // query parameters!).\n    window.history.replaceState(null, \"\", cleanedUpUrl);\n    while (window.location.href !== cleanedUpUrl) {\n      // Poll the current URL every ms. Active polling is required because\n      // window.history.replaceState is asynchronous, but the associated\n      // 'popstate' event which should be listened to is only sent on active\n      // navigation, which we will not have here.\n      // See https://developer.mozilla.org/en-US/docs/Web/API/Window/popstate_event#when_popstate_is_sent\n      // eslint-disable-next-line no-await-in-loop\n      await new Promise<void>((resolve) => {\n        setTimeout(() => resolve(), 1);\n      });\n    }\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Handles Common Oidc login functions (Like fetching the configuration)\n */\n\nimport type {\n  IClientRegistrar,\n  IIssuerConfig,\n  IIssuerConfigFetcher,\n  ILoginOptions,\n  ILoginHandler,\n  IOidcHandler,\n  IOidcOptions,\n  IStorageUtility,\n  LoginResult,\n} from \"@inrupt/solid-client-authn-core\";\nimport {\n  ConfigurationError,\n  handleRegistration,\n} from \"@inrupt/solid-client-authn-core\";\n\nfunction hasIssuer(\n  options: ILoginOptions,\n): options is ILoginOptions & { oidcIssuer: string } {\n  return typeof options.oidcIssuer === \"string\";\n}\n\nfunction hasRedirectUrl(\n  options: ILoginOptions,\n): options is ILoginOptions & { redirectUrl: string } {\n  return typeof options.redirectUrl === \"string\";\n}\n\n/**\n * @hidden\n */\nexport default class OidcLoginHandler implements ILoginHandler {\n  constructor(\n    private storageUtility: IStorageUtility,\n    private oidcHandler: IOidcHandler,\n    private issuerConfigFetcher: IIssuerConfigFetcher,\n    private clientRegistrar: IClientRegistrar,\n  ) {\n    this.storageUtility = storageUtility;\n    this.oidcHandler = oidcHandler;\n    this.issuerConfigFetcher = issuerConfigFetcher;\n    this.clientRegistrar = clientRegistrar;\n  }\n\n  async canHandle(options: ILoginOptions): Promise<boolean> {\n    return hasIssuer(options) && hasRedirectUrl(options);\n  }\n\n  async handle(options: ILoginOptions): Promise<LoginResult> {\n    if (!hasIssuer(options)) {\n      throw new ConfigurationError(\n        `OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(\n          options,\n        )}`,\n      );\n    }\n    if (!hasRedirectUrl(options)) {\n      throw new ConfigurationError(\n        `OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(\n          options,\n        )}`,\n      );\n    }\n\n    // Fetch issuer config.\n    const issuerConfig: IIssuerConfig =\n      await this.issuerConfigFetcher.fetchConfig(options.oidcIssuer);\n\n    const clientRegistration = await handleRegistration(\n      options,\n      issuerConfig,\n      this.storageUtility,\n      this.clientRegistrar,\n    );\n\n    // Construct OIDC Options\n    const OidcOptions: IOidcOptions = {\n      // Note that here, the issuer is not the one from the received options, but\n      // from the issuer's config. This enforces the canonical URL is used and stored,\n      // which is also the one present in the ID token, so storing a technically\n      // valid, but different issuer URL (e.g. using a trailing slash or not) now\n      // could prevent from validating the ID token later.\n      issuer: issuerConfig.issuer,\n      // TODO: differentiate if DPoP should be true\n      dpop: options.tokenType.toLowerCase() === \"dpop\",\n      ...options,\n      issuerConfiguration: issuerConfig,\n      client: clientRegistration,\n    };\n\n    // Call proper OIDC Handler\n    return this.oidcHandler.handle(OidcOptions);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Handler for the Authorization Code with PKCE Flow\n */\nimport type {\n  IOidcHandler,\n  IOidcOptions,\n  LoginResult,\n} from \"@inrupt/solid-client-authn-core\";\nimport {\n  DEFAULT_SCOPES,\n  AuthorizationCodeWithPkceOidcHandlerBase,\n} from \"@inrupt/solid-client-authn-core\";\nimport { OidcClient } from \"@inrupt/oidc-client-ext\";\n\n/**\n * @hidden\n * Authorization code flow spec: https://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth\n * PKCE: https://tools.ietf.org/html/rfc7636\n */\nexport default class AuthorizationCodeWithPkceOidcHandler\n  extends AuthorizationCodeWithPkceOidcHandlerBase\n  implements IOidcHandler\n{\n  async handle(oidcLoginOptions: IOidcOptions): Promise<LoginResult> {\n    /* eslint-disable camelcase */\n    const oidcOptions = {\n      authority: oidcLoginOptions.issuer.toString(),\n      client_id: oidcLoginOptions.client.clientId,\n      client_secret: oidcLoginOptions.client.clientSecret,\n      redirect_uri: oidcLoginOptions.redirectUrl,\n      response_type: \"code\",\n      scope: DEFAULT_SCOPES,\n      filterProtocolClaims: true,\n      // The userinfo endpoint on NSS fails, so disable this for now\n      // Note that in Solid, information should be retrieved from the\n      // profile referenced by the WebId.\n      loadUserInfo: false,\n      code_verifier: true,\n      prompt: oidcLoginOptions.prompt ?? \"consent\",\n    };\n    /* eslint-enable camelcase */\n\n    const oidcClientLibrary = new OidcClient(oidcOptions);\n\n    try {\n      const signingRequest = await oidcClientLibrary.createSigninRequest();\n      // Make sure to await the promise before returning so that the error is caught.\n      return await this.handleRedirect({\n        oidcLoginOptions,\n        // eslint-disable-next-line no-underscore-dangle\n        state: signingRequest.state._id,\n        // eslint-disable-next-line no-underscore-dangle\n        codeVerifier: signingRequest.state._code_verifier,\n        targetUrl: signingRequest.url.toString(),\n      });\n    } catch (err: unknown) {\n      // eslint-disable-next-line no-console\n      console.error(err);\n    }\n\n    // The login is only completed AFTER redirect, so nothing to return here.\n    return undefined;\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Responsible for fetching an IDP configuration\n */\nimport type {\n  IIssuerConfig,\n  IIssuerConfigFetcher,\n  IStorageUtility,\n} from \"@inrupt/solid-client-authn-core\";\nimport { ConfigurationError } from \"@inrupt/solid-client-authn-core\";\n\nexport const WELL_KNOWN_OPENID_CONFIG = \".well-known/openid-configuration\";\n\n/* eslint-disable camelcase */\nconst issuerConfigKeyMap: Record<\n  string,\n  { toKey: string; convertToUrl?: boolean }\n> = {\n  issuer: {\n    toKey: \"issuer\",\n    convertToUrl: true,\n  },\n  authorization_endpoint: {\n    toKey: \"authorizationEndpoint\",\n    convertToUrl: true,\n  },\n  token_endpoint: {\n    toKey: \"tokenEndpoint\",\n    convertToUrl: true,\n  },\n  userinfo_endpoint: {\n    toKey: \"userinfoEndpoint\",\n    convertToUrl: true,\n  },\n  jwks_uri: {\n    toKey: \"jwksUri\",\n    convertToUrl: true,\n  },\n  registration_endpoint: {\n    toKey: \"registrationEndpoint\",\n    convertToUrl: true,\n  },\n  end_session_endpoint: {\n    toKey: \"endSessionEndpoint\",\n    convertToUrl: true,\n  },\n  scopes_supported: { toKey: \"scopesSupported\" },\n  response_types_supported: { toKey: \"responseTypesSupported\" },\n  response_modes_supported: { toKey: \"responseModesSupported\" },\n  grant_types_supported: { toKey: \"grantTypesSupported\" },\n  acr_values_supported: { toKey: \"acrValuesSupported\" },\n  subject_types_supported: { toKey: \"subjectTypesSupported\" },\n  id_token_signing_alg_values_supported: {\n    toKey: \"idTokenSigningAlgValuesSupported\",\n  },\n  id_token_encryption_alg_values_supported: {\n    toKey: \"idTokenEncryptionAlgValuesSupported\",\n  },\n  id_token_encryption_enc_values_supported: {\n    toKey: \"idTokenEncryptionEncValuesSupported\",\n  },\n  userinfo_signing_alg_values_supported: {\n    toKey: \"userinfoSigningAlgValuesSupported\",\n  },\n  userinfo_encryption_alg_values_supported: {\n    toKey: \"userinfoEncryptionAlgValuesSupported\",\n  },\n  userinfo_encryption_enc_values_supported: {\n    toKey: \"userinfoEncryptionEncValuesSupported\",\n  },\n  request_object_signing_alg_values_supported: {\n    toKey: \"requestObjectSigningAlgValuesSupported\",\n  },\n  request_object_encryption_alg_values_supported: {\n    toKey: \"requestObjectEncryptionAlgValuesSupported\",\n  },\n  request_object_encryption_enc_values_supported: {\n    toKey: \"requestObjectEncryptionEncValuesSupported\",\n  },\n  token_endpoint_auth_methods_supported: {\n    toKey: \"tokenEndpointAuthMethodsSupported\",\n  },\n  token_endpoint_auth_signing_alg_values_supported: {\n    toKey: \"tokenEndpointAuthSigningAlgValuesSupported\",\n  },\n  display_values_supported: { toKey: \"displayValuesSupported\" },\n  claim_types_supported: { toKey: \"claimTypesSupported\" },\n  claims_supported: { toKey: \"claimsSupported\" },\n  service_documentation: { toKey: \"serviceDocumentation\" },\n  claims_locales_supported: { toKey: \"claimsLocalesSupported\" },\n  ui_locales_supported: { toKey: \"uiLocalesSupported\" },\n  claims_parameter_supported: { toKey: \"claimsParameterSupported\" },\n  request_parameter_supported: { toKey: \"requestParameterSupported\" },\n  request_uri_parameter_supported: { toKey: \"requestUriParameterSupported\" },\n  require_request_uri_registration: { toKey: \"requireRequestUriRegistration\" },\n  op_policy_uri: {\n    toKey: \"opPolicyUri\",\n    convertToUrl: true,\n  },\n  op_tos_uri: {\n    toKey: \"opTosUri\",\n    convertToUrl: true,\n  },\n};\n/* eslint-enable camelcase */\n\nfunction processConfig(\n  config: Record<string, string | string[]>,\n): IIssuerConfig {\n  const parsedConfig: Record<string, string | string[]> = {};\n  Object.keys(config).forEach((key) => {\n    if (issuerConfigKeyMap[key]) {\n      // TODO: PMcB55: Validate URL if \"issuerConfigKeyMap[key].convertToUrl\"\n      //  if (issuerConfigKeyMap[key].convertToUrl) {\n      //   validateUrl(config[key]);\n      //  }\n      parsedConfig[issuerConfigKeyMap[key].toKey] = config[key];\n    }\n  });\n  if (!Array.isArray(parsedConfig.scopesSupported)) {\n    parsedConfig.scopesSupported = [\"openid\"];\n  }\n  return parsedConfig as unknown as IIssuerConfig;\n}\n\n/**\n * @hidden\n */\nexport default class IssuerConfigFetcher implements IIssuerConfigFetcher {\n  constructor(private storageUtility: IStorageUtility) {\n    this.storageUtility = storageUtility;\n  }\n\n  // This method needs no state (so can be static), and can be exposed to allow\n  // callers to know where this implementation puts state it needs.\n  public static getLocalStorageKey(issuer: string): string {\n    return `issuerConfig:${issuer}`;\n  }\n\n  async fetchConfig(issuer: string): Promise<IIssuerConfig> {\n    let issuerConfig: IIssuerConfig;\n\n    const openIdConfigUrl = new URL(\n      WELL_KNOWN_OPENID_CONFIG,\n      // Make sure to append a slash at issuer URL, so that the .well-known URL\n      // includes the full issuer path. See https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig.\n      issuer.endsWith(\"/\") ? issuer : `${issuer}/`,\n    ).href;\n    const issuerConfigRequestBody = await fetch(openIdConfigUrl);\n    // Check the validity of the fetched config\n    try {\n      issuerConfig = processConfig(await issuerConfigRequestBody.json());\n    } catch (err) {\n      throw new ConfigurationError(\n        `[${issuer.toString()}] has an invalid configuration: ${\n          (err as { message: string }).message\n        }`,\n      );\n    }\n\n    // Update store with fetched config\n    await this.storageUtility.set(\n      IssuerConfigFetcher.getLocalStorageKey(issuer),\n      JSON.stringify(issuerConfig),\n    );\n\n    return issuerConfig;\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type {\n  ISessionInfo,\n  ISessionInfoManager,\n  ISessionInternalInfo,\n  IStorageUtility,\n} from \"@inrupt/solid-client-authn-core\";\nimport {\n  isSupportedTokenType,\n  clear as clearBase,\n  SessionInfoManagerBase,\n  isValidRedirectUrl,\n} from \"@inrupt/solid-client-authn-core\";\nimport { clearOidcPersistentStorage } from \"@inrupt/oidc-client-ext\";\n\nexport { getUnauthenticatedSession } from \"@inrupt/solid-client-authn-core\";\n\n/**\n * @param sessionId\n * @param storage\n * @hidden\n */\nexport async function clear(\n  sessionId: string,\n  storage: IStorageUtility,\n): Promise<void> {\n  await clearBase(sessionId, storage);\n  await clearOidcPersistentStorage();\n}\n\n/**\n * @hidden\n */\nexport class SessionInfoManager\n  extends SessionInfoManagerBase\n  implements ISessionInfoManager\n{\n  async get(\n    sessionId: string,\n  ): Promise<(ISessionInfo & ISessionInternalInfo) | undefined> {\n    const [\n      isLoggedIn,\n      webId,\n      clientId,\n      clientSecret,\n      redirectUrl,\n      refreshToken,\n      issuer,\n      tokenType,\n    ] = await Promise.all([\n      this.storageUtility.getForUser(sessionId, \"isLoggedIn\", {\n        secure: true,\n      }),\n      this.storageUtility.getForUser(sessionId, \"webId\", {\n        secure: true,\n      }),\n      this.storageUtility.getForUser(sessionId, \"clientId\", {\n        secure: false,\n      }),\n      this.storageUtility.getForUser(sessionId, \"clientSecret\", {\n        secure: false,\n      }),\n      this.storageUtility.getForUser(sessionId, \"redirectUrl\", {\n        secure: false,\n      }),\n      this.storageUtility.getForUser(sessionId, \"refreshToken\", {\n        secure: true,\n      }),\n      this.storageUtility.getForUser(sessionId, \"issuer\", {\n        secure: false,\n      }),\n      this.storageUtility.getForUser(sessionId, \"tokenType\", {\n        secure: false,\n      }),\n    ]);\n\n    if (typeof redirectUrl === \"string\" && !isValidRedirectUrl(redirectUrl)) {\n      // This resolves the issue for people experiencing https://github.com/inrupt/solid-client-authn-js/issues/2891.\n      // An invalid redirect URL is present in the storage, and the session should\n      // be cleared to get a fresh start. This will require the user to log back in.\n      await Promise.all([\n        this.storageUtility.deleteAllUserData(sessionId, { secure: false }),\n        this.storageUtility.deleteAllUserData(sessionId, { secure: true }),\n      ]);\n      return undefined;\n    }\n\n    if (tokenType !== undefined && !isSupportedTokenType(tokenType)) {\n      throw new Error(`Tokens of type [${tokenType}] are not supported.`);\n    }\n\n    if (\n      clientId === undefined &&\n      isLoggedIn === undefined &&\n      webId === undefined &&\n      refreshToken === undefined\n    ) {\n      return undefined;\n    }\n\n    return {\n      sessionId,\n      webId,\n      isLoggedIn: isLoggedIn === \"true\",\n      redirectUrl,\n      refreshToken,\n      issuer,\n      clientAppId: clientId,\n      clientAppSecret: clientSecret,\n      // Default the token type to DPoP if unspecified.\n      tokenType: tokenType ?? \"DPoP\",\n    };\n  }\n\n  /**\n   * This function removes all session-related information from storage.\n   * @param sessionId the session identifier\n   * @param storage the storage where session info is stored\n   * @hidden\n   */\n  async clear(sessionId: string): Promise<void> {\n    return clear(sessionId, this.storageUtility);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type {\n  IIncomingRedirectHandler,\n  ISessionInfo,\n} from \"@inrupt/solid-client-authn-core\";\n\nimport { getUnauthenticatedSession } from \"../../../sessionInfo/SessionInfoManager\";\n\n/**\n * This class handles redirect IRIs without any query params, and returns an unauthenticated\n * session. It serves as a fallback so that consuming libraries don't have to test\n * for the query params themselves, and can always try to use them as a redirect IRI.\n * @hidden\n */\nexport class FallbackRedirectHandler implements IIncomingRedirectHandler {\n  async canHandle(redirectUrl: string): Promise<boolean> {\n    try {\n      // The next URL object is built for validating it.\n      // eslint-disable-next-line no-new\n      new URL(redirectUrl);\n      return true;\n    } catch (e) {\n      throw new Error(\n        `[${redirectUrl}] is not a valid URL, and cannot be used as a redirect URL: ${e}`,\n      );\n    }\n  }\n\n  async handle(\n    // The argument is ignored, but must be present to implement the interface\n    _redirectUrl: string,\n  ): Promise<ISessionInfo & { fetch: typeof fetch }> {\n    return getUnauthenticatedSession();\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\nimport type {\n  IClient,\n  IClientRegistrar,\n  IIssuerConfigFetcher,\n  IIncomingRedirectHandler,\n  ISessionInfoManager,\n  IStorageUtility,\n  ITokenRefresher,\n  RefreshOptions,\n  IncomingRedirectResult,\n} from \"@inrupt/solid-client-authn-core\";\nimport {\n  buildAuthenticatedFetch,\n  loadOidcContextFromStorage,\n  maybeBuildRpInitiatedLogout,\n  saveSessionInfoToStorage,\n} from \"@inrupt/solid-client-authn-core\";\nimport { getTokens } from \"@inrupt/oidc-client-ext\";\nimport type { EventEmitter } from \"events\";\n\n/**\n * @hidden\n */\nexport class AuthCodeRedirectHandler implements IIncomingRedirectHandler {\n  constructor(\n    private storageUtility: IStorageUtility,\n    private sessionInfoManager: ISessionInfoManager,\n    private issuerConfigFetcher: IIssuerConfigFetcher,\n    private clientRegistrar: IClientRegistrar,\n    private tokerRefresher: ITokenRefresher,\n  ) {\n    this.storageUtility = storageUtility;\n    this.sessionInfoManager = sessionInfoManager;\n    this.issuerConfigFetcher = issuerConfigFetcher;\n    this.clientRegistrar = clientRegistrar;\n    this.tokerRefresher = tokerRefresher;\n  }\n\n  async canHandle(redirectUrl: string): Promise<boolean> {\n    try {\n      const myUrl = new URL(redirectUrl);\n      return (\n        myUrl.searchParams.get(\"code\") !== null &&\n        myUrl.searchParams.get(\"state\") !== null\n      );\n    } catch (e) {\n      throw new Error(\n        `[${redirectUrl}] is not a valid URL, and cannot be used as a redirect URL: ${e}`,\n      );\n    }\n  }\n\n  async handle(\n    redirectUrl: string,\n    eventEmitter?: EventEmitter,\n  ): Promise<IncomingRedirectResult> {\n    if (!(await this.canHandle(redirectUrl))) {\n      throw new Error(\n        `AuthCodeRedirectHandler cannot handle [${redirectUrl}]: it is missing one of [code, state].`,\n      );\n    }\n\n    const url = new URL(redirectUrl);\n    const oauthState = url.searchParams.get(\"state\") as string;\n\n    const storedSessionId = (await this.storageUtility.getForUser(\n      oauthState,\n      \"sessionId\",\n      {\n        errorIfNull: true,\n      },\n    )) as string;\n\n    const {\n      issuerConfig,\n      codeVerifier,\n      redirectUrl: storedRedirectIri,\n      dpop: isDpop,\n    } = await loadOidcContextFromStorage(\n      storedSessionId,\n      this.storageUtility,\n      this.issuerConfigFetcher,\n    );\n\n    const iss = url.searchParams.get(\"iss\");\n\n    if (typeof iss === \"string\" && iss !== issuerConfig.issuer) {\n      throw new Error(\n        `The value of the iss parameter (${iss}) does not match the issuer identifier of the authorization server (${issuerConfig.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`,\n      );\n    }\n\n    if (codeVerifier === undefined) {\n      throw new Error(\n        `The code verifier for session ${storedSessionId} is missing from storage.`,\n      );\n    }\n\n    if (storedRedirectIri === undefined) {\n      throw new Error(\n        `The redirect URL for session ${storedSessionId} is missing from storage.`,\n      );\n    }\n\n    const client: IClient = await this.clientRegistrar.getClient(\n      { sessionId: storedSessionId },\n      issuerConfig,\n    );\n\n    const tokenCreatedAt = Date.now();\n    const tokens = await getTokens(\n      issuerConfig,\n      client,\n      {\n        grantType: \"authorization_code\",\n        // We rely on our 'canHandle' function checking that the OAuth 'code'\n        // parameter is present in our query string.\n        code: url.searchParams.get(\"code\") as string,\n        codeVerifier,\n        redirectUrl: storedRedirectIri,\n      },\n      isDpop,\n    );\n\n    // Delete oidc-client-specific session information from storage. oidc-client\n    // is no longer used for the token exchange, so it doesn't perform this automatically.\n    window.localStorage.removeItem(`oidc.${oauthState}`);\n\n    let refreshOptions: RefreshOptions | undefined;\n    if (tokens.refreshToken !== undefined) {\n      refreshOptions = {\n        sessionId: storedSessionId,\n        refreshToken: tokens.refreshToken,\n        tokenRefresher: this.tokerRefresher,\n      };\n    }\n\n    const authFetch = await buildAuthenticatedFetch(tokens.accessToken, {\n      dpopKey: tokens.dpopKey,\n      refreshOptions,\n      eventEmitter,\n      expiresIn: tokens.expiresIn,\n    });\n\n    await saveSessionInfoToStorage(\n      this.storageUtility,\n      storedSessionId,\n      tokens.webId,\n      tokens.clientId,\n      \"true\",\n      undefined,\n      true,\n    );\n\n    const sessionInfo = await this.sessionInfoManager.get(storedSessionId);\n    if (!sessionInfo) {\n      throw new Error(`Could not retrieve session: [${storedSessionId}].`);\n    }\n\n    return Object.assign(sessionInfo, {\n      fetch: authFetch,\n      getLogoutUrl: maybeBuildRpInitiatedLogout({\n        idTokenHint: tokens.idToken,\n        endSessionEndpoint: issuerConfig.endSessionEndpoint,\n      }),\n      expirationDate:\n        typeof tokens.expiresIn === \"number\"\n          ? tokenCreatedAt + tokens.expiresIn * 1000\n          : undefined,\n    } as IncomingRedirectResult);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Responsible for selecting the correct OidcHandler to handle the provided OIDC Options\n */\nimport type {\n  IIncomingRedirectHandler,\n  IncomingRedirectInput,\n  IncomingRedirectResult,\n} from \"@inrupt/solid-client-authn-core\";\nimport { AggregateHandler } from \"@inrupt/solid-client-authn-core\";\n\n/**\n * @hidden\n */\nexport default class AggregateRedirectHandler\n  extends AggregateHandler<IncomingRedirectInput, IncomingRedirectResult>\n  implements IIncomingRedirectHandler\n{\n  constructor(redirectHandlers: IIncomingRedirectHandler[]) {\n    super(redirectHandlers);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type { IStorage } from \"@inrupt/solid-client-authn-core\";\n\n/**\n * @hidden\n */\nexport default class BrowserStorage implements IStorage {\n  get storage(): typeof window.localStorage {\n    return window.localStorage;\n  }\n\n  async get(key: string): Promise<string | undefined> {\n    return this.storage.getItem(key) || undefined;\n  }\n\n  async set(key: string, value: string): Promise<void> {\n    this.storage.setItem(key, value);\n  }\n\n  async delete(key: string): Promise<void> {\n    this.storage.removeItem(key);\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type {\n  IRedirector,\n  IRedirectorOptions,\n} from \"@inrupt/solid-client-authn-core\";\n\n/**\n * @hidden\n */\nexport default class Redirector implements IRedirector {\n  redirect(redirectUrl: string, options?: IRedirectorOptions): void {\n    if (options && options.handleRedirect) {\n      options.handleRedirect(redirectUrl);\n    } else if (options && options.redirectByReplacingState) {\n      window.history.replaceState({}, \"\", redirectUrl);\n    } else {\n      window.location.href = redirectUrl;\n    }\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type {\n  IStorageUtility,\n  IClientRegistrar,\n  IIssuerConfig,\n  IClient,\n  IClientRegistrarOptions,\n} from \"@inrupt/solid-client-authn-core\";\nimport { isKnownClientType } from \"@inrupt/solid-client-authn-core\";\nimport { registerClient } from \"@inrupt/oidc-client-ext\";\n\n/**\n * @hidden\n */\nexport default class ClientRegistrar implements IClientRegistrar {\n  constructor(private storageUtility: IStorageUtility) {\n    this.storageUtility = storageUtility;\n  }\n\n  async getClient(\n    options: IClientRegistrarOptions,\n    issuerConfig: IIssuerConfig,\n  ): Promise<IClient> {\n    // If client secret and/or client id are stored in storage, use those.\n    const [\n      storedClientId,\n      storedClientSecret,\n      storedClientName,\n      storedClientType,\n    ] = await Promise.all([\n      this.storageUtility.getForUser(options.sessionId, \"clientId\", {\n        secure: false,\n      }),\n      this.storageUtility.getForUser(options.sessionId, \"clientSecret\", {\n        secure: false,\n      }),\n      this.storageUtility.getForUser(options.sessionId, \"clientName\", {\n        secure: false,\n      }),\n      this.storageUtility.getForUser(options.sessionId, \"clientType\", {\n        secure: false,\n      }),\n    ]);\n    if (storedClientId && isKnownClientType(storedClientType)) {\n      return {\n        clientId: storedClientId,\n        clientSecret: storedClientSecret,\n        clientName: storedClientName,\n        // Note: static clients are not applicable in a browser context.\n        clientType: storedClientType,\n      } as IClient;\n    }\n\n    try {\n      const registeredClient = await registerClient(options, issuerConfig);\n      // Save info\n      const infoToSave: Record<string, string> = {\n        clientId: registeredClient.clientId,\n        clientType: \"dynamic\",\n      };\n      if (registeredClient.clientSecret) {\n        infoToSave.clientSecret = registeredClient.clientSecret;\n      }\n      if (registeredClient.idTokenSignedResponseAlg) {\n        infoToSave.idTokenSignedResponseAlg =\n          registeredClient.idTokenSignedResponseAlg;\n      }\n      await this.storageUtility.setForUser(options.sessionId, infoToSave, {\n        // FIXME: figure out how to persist secure storage at reload\n        // Otherwise, the client info cannot be retrieved from storage, and\n        // the lib tries to re-register the client on each fetch\n        secure: false,\n      });\n      return registeredClient;\n    } catch (error) {\n      throw new Error(`Client registration failed: [${error}]`);\n    }\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type {\n  IIncomingRedirectHandler,\n  ISessionInfo,\n} from \"@inrupt/solid-client-authn-core\";\nimport { EVENTS } from \"@inrupt/solid-client-authn-core\";\nimport type { EventEmitter } from \"events\";\n\nimport { getUnauthenticatedSession } from \"../../../sessionInfo/SessionInfoManager\";\n\n/**\n * This class handles redirect IRIs without any query params, and returns an unauthenticated\n * session. It serves as a fallback so that consuming libraries don't have to test\n * for the query params themselves, and can always try to use them as a redirect IRI.\n * @hidden\n */\nexport class ErrorOidcHandler implements IIncomingRedirectHandler {\n  async canHandle(redirectUrl: string): Promise<boolean> {\n    try {\n      // eslint-disable-next-line no-new\n      return new URL(redirectUrl).searchParams.has(\"error\");\n    } catch (e) {\n      throw new Error(\n        `[${redirectUrl}] is not a valid URL, and cannot be used as a redirect URL: ${e}`,\n      );\n    }\n  }\n\n  async handle(\n    redirectUrl: string,\n    eventEmitter?: EventEmitter,\n  ): Promise<ISessionInfo & { fetch: typeof fetch }> {\n    if (eventEmitter !== undefined) {\n      const url = new URL(redirectUrl);\n      const errorUrl = url.searchParams.get(\"error\");\n      const errorDescriptionUrl = url.searchParams.get(\"error_description\");\n      eventEmitter.emit(EVENTS.ERROR, errorUrl, errorDescriptionUrl);\n    }\n    return getUnauthenticatedSession();\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport type {\n  IClient,\n  IClientRegistrar,\n  IIssuerConfigFetcher,\n  IStorageUtility,\n  KeyPair,\n  ITokenRefresher,\n  TokenEndpointResponse,\n} from \"@inrupt/solid-client-authn-core\";\nimport {\n  loadOidcContextFromStorage,\n  EVENTS,\n} from \"@inrupt/solid-client-authn-core\";\nimport { refresh } from \"@inrupt/oidc-client-ext\";\nimport type { EventEmitter } from \"events\";\n\n// Some identifiers are not in camelcase on purpose, as they are named using the\n// official names from the OIDC/OAuth2 specifications.\n/* eslint-disable camelcase */\n\n/**\n * @hidden\n */\nexport default class TokenRefresher implements ITokenRefresher {\n  constructor(\n    private storageUtility: IStorageUtility,\n    private issuerConfigFetcher: IIssuerConfigFetcher,\n    private clientRegistrar: IClientRegistrar,\n  ) {\n    this.storageUtility = storageUtility;\n    this.issuerConfigFetcher = issuerConfigFetcher;\n    this.clientRegistrar = clientRegistrar;\n  }\n\n  async refresh(\n    sessionId: string,\n    refreshToken?: string,\n    dpopKey?: KeyPair,\n    eventEmitter?: EventEmitter,\n  ): Promise<TokenEndpointResponse> {\n    const oidcContext = await loadOidcContextFromStorage(\n      sessionId,\n      this.storageUtility,\n      this.issuerConfigFetcher,\n    );\n    // This should also retrieve the client from storage\n    const clientInfo: IClient = await this.clientRegistrar.getClient(\n      { sessionId },\n      oidcContext.issuerConfig,\n    );\n\n    if (refreshToken === undefined) {\n      // TODO: in a next PR, look up storage for a refresh token\n      throw new Error(\n        `Session [${sessionId}] has no refresh token to allow it to refresh its access token.`,\n      );\n    }\n\n    if (oidcContext.dpop && dpopKey === undefined) {\n      throw new Error(\n        `For session [${sessionId}], the key bound to the DPoP access token must be provided to refresh said access token.`,\n      );\n    }\n\n    const tokenSet = await refresh(\n      refreshToken,\n      oidcContext.issuerConfig,\n      clientInfo,\n      dpopKey,\n    );\n\n    if (tokenSet.refreshToken !== undefined) {\n      eventEmitter?.emit(EVENTS.NEW_REFRESH_TOKEN, tokenSet.refreshToken);\n    }\n    return tokenSet;\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\n/**\n * Top Level core document. Responsible for setting up the dependency graph\n */\nimport type { IStorage } from \"@inrupt/solid-client-authn-core\";\nimport {\n  InMemoryStorage,\n  IWaterfallLogoutHandler,\n} from \"@inrupt/solid-client-authn-core\";\nimport StorageUtilityBrowser from \"./storage/StorageUtility\";\nimport ClientAuthentication from \"./ClientAuthentication\";\nimport OidcLoginHandler from \"./login/oidc/OidcLoginHandler\";\nimport AuthorizationCodeWithPkceOidcHandler from \"./login/oidc/oidcHandlers/AuthorizationCodeWithPkceOidcHandler\";\nimport IssuerConfigFetcher from \"./login/oidc/IssuerConfigFetcher\";\nimport { FallbackRedirectHandler } from \"./login/oidc/incomingRedirectHandler/FallbackRedirectHandler\";\nimport { SessionInfoManager } from \"./sessionInfo/SessionInfoManager\";\nimport { AuthCodeRedirectHandler } from \"./login/oidc/incomingRedirectHandler/AuthCodeRedirectHandler\";\nimport AggregateRedirectHandler from \"./login/oidc/AggregateRedirectHandler\";\nimport BrowserStorage from \"./storage/BrowserStorage\";\nimport Redirector from \"./login/oidc/Redirector\";\nimport ClientRegistrar from \"./login/oidc/ClientRegistrar\";\nimport { ErrorOidcHandler } from \"./login/oidc/incomingRedirectHandler/ErrorOidcHandler\";\nimport TokenRefresher from \"./login/oidc/refresh/TokenRefresher\";\n\n/**\n * @param dependencies\n * @hidden\n */\nexport function getClientAuthenticationWithDependencies(dependencies: {\n  secureStorage?: IStorage;\n  insecureStorage?: IStorage;\n}): ClientAuthentication {\n  const inMemoryStorage = new InMemoryStorage();\n  const secureStorage = dependencies.secureStorage || inMemoryStorage;\n  const insecureStorage = dependencies.insecureStorage || new BrowserStorage();\n\n  const storageUtility = new StorageUtilityBrowser(\n    secureStorage,\n    insecureStorage,\n  );\n\n  const issuerConfigFetcher = new IssuerConfigFetcher(storageUtility);\n  const clientRegistrar = new ClientRegistrar(storageUtility);\n\n  const sessionInfoManager = new SessionInfoManager(storageUtility);\n\n  const tokenRefresher = new TokenRefresher(\n    storageUtility,\n    issuerConfigFetcher,\n    clientRegistrar,\n  );\n\n  const redirector = new Redirector();\n\n  // make new handler for redirect and login\n  const loginHandler = new OidcLoginHandler(\n    storageUtility,\n    new AuthorizationCodeWithPkceOidcHandler(storageUtility, redirector),\n    issuerConfigFetcher,\n    clientRegistrar,\n  );\n\n  const redirectHandler = new AggregateRedirectHandler([\n    new ErrorOidcHandler(),\n    new AuthCodeRedirectHandler(\n      storageUtility,\n      sessionInfoManager,\n      issuerConfigFetcher,\n      clientRegistrar,\n      tokenRefresher,\n    ),\n    // This catch-all class will always be able to handle the\n    // redirect IRI, so it must be registered last.\n    new FallbackRedirectHandler(),\n  ]);\n\n  return new ClientAuthentication(\n    loginHandler,\n    redirectHandler,\n    new IWaterfallLogoutHandler(sessionInfoManager, redirector),\n    sessionInfoManager,\n    issuerConfigFetcher,\n  );\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { SOLID_CLIENT_AUTHN_KEY_PREFIX } from \"@inrupt/solid-client-authn-core\";\n\nexport const KEY_CURRENT_SESSION = `${SOLID_CLIENT_AUTHN_KEY_PREFIX}currentSession`;\n\nexport const KEY_CURRENT_URL = `${SOLID_CLIENT_AUTHN_KEY_PREFIX}currentUrl`;\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n/**\n * @hidden\n */\nimport type {\n  ILoginInputOptions,\n  ISessionInfo,\n  IStorage,\n  IHasSessionEventListener,\n  ISessionEventListener,\n  ILogoutOptions,\n} from \"@inrupt/solid-client-authn-core\";\nimport { EVENTS } from \"@inrupt/solid-client-authn-core\";\nimport { v4 } from \"uuid\";\nimport EventEmitter from \"events\";\nimport type ClientAuthentication from \"./ClientAuthentication\";\nimport { getClientAuthenticationWithDependencies } from \"./dependencies\";\nimport { KEY_CURRENT_SESSION, KEY_CURRENT_URL } from \"./constant\";\n\nexport interface ISessionOptions {\n  /**\n   * A private storage, unreachable to other scripts on the page. Typically in-memory.\n   */\n  secureStorage: IStorage;\n  /**\n   * A storage where non-sensitive information may be stored, potentially longer-lived than the secure storage.\n   */\n  insecureStorage: IStorage;\n  /**\n   * Details about the current session\n   */\n  sessionInfo: ISessionInfo;\n  /**\n   * An instance of the library core. Typically obtained using `getClientAuthenticationWithDependencies`.\n   */\n  clientAuthentication: ClientAuthentication;\n}\n\nexport interface IHandleIncomingRedirectOptions {\n  /**\n   * If the user has signed in before, setting this to `true` will automatically\n   * redirect them to their Solid Identity Provider, which will then attempt to\n   * re-activate the session and send the user back to your app without\n   * requiring user interaction.\n   * If your app's access has not expired yet and re-activation completed\n   * successfully, a `sessionRestore` event will be fired with the URL the user\n   * was at before they were redirected to their Solid Identity Provider.\n   * See {@link ISessionEventListener}: a callback can be registered to\n   * `session.events.on(EVENTS.SESSION_RESTORED, callback)`.\n   */\n  restorePreviousSession?: boolean;\n\n  /**\n   * The URL of the page handling the redirect, including the query\n   * parameters \u2014 these contain the information to process the login.\n   * Note: as a convenience, if no URL value is specified here, we default to\n   * using the browser's current location.\n   */\n  url?: string;\n}\n\nexport async function silentlyAuthenticate(\n  sessionId: string,\n  clientAuthn: ClientAuthentication,\n  session: Session,\n): Promise<boolean> {\n  const storedSessionInfo = await clientAuthn.validateCurrentSession(sessionId);\n  if (storedSessionInfo !== null) {\n    // It can be really useful to save the user's current browser location,\n    // so that we can restore it after completing the silent authentication\n    // on incoming redirect. This way, the user is eventually redirected back\n    // to the page they were on and not to the app's redirect page.\n    window.localStorage.setItem(KEY_CURRENT_URL, window.location.href);\n    await clientAuthn.login(\n      {\n        sessionId,\n        prompt: \"none\",\n        oidcIssuer: storedSessionInfo.issuer,\n        redirectUrl: storedSessionInfo.redirectUrl,\n        clientId: storedSessionInfo.clientAppId,\n        clientSecret: storedSessionInfo.clientAppSecret,\n        tokenType: storedSessionInfo.tokenType ?? \"DPoP\",\n      },\n      session.events,\n    );\n    return true;\n  }\n  return false;\n}\n\nfunction isLoggedIn(\n  sessionInfo?: ISessionInfo,\n): sessionInfo is ISessionInfo & { isLoggedIn: true } {\n  return !!sessionInfo?.isLoggedIn;\n}\n\n/**\n * A {@link Session} object represents a user's session on an application. The session holds state, as it stores information enabling access to private resources after login for instance.\n */\nexport class Session implements IHasSessionEventListener {\n  /**\n   * Information regarding the current session.\n   */\n  public readonly info: ISessionInfo;\n\n  /**\n   * Session attribute exposing the EventEmitter interface, to listen on session\n   * events such as login, logout, etc.\n   * @since 1.15.0\n   */\n  public readonly events: ISessionEventListener;\n\n  private clientAuthentication: ClientAuthentication;\n\n  private tokenRequestInProgress = false;\n\n  /**\n   * Session object constructor. Typically called as follows:\n   *\n   * ```typescript\n   * const session = new Session();\n   * ```\n   *\n   * See also [getDefaultSession](https://docs.inrupt.com/developer-tools/api/javascript/solid-client-authn-browser/functions.html#getdefaultsession).\n   *\n   * @param sessionOptions The options enabling the correct instantiation of\n   * the session. Either both storages or clientAuthentication are required. For\n   * more information, see {@link ISessionOptions}.\n   * @param sessionId A string uniquely identifying the session.\n   *\n   */\n  constructor(\n    sessionOptions: Partial<ISessionOptions> = {},\n    sessionId: string | undefined = undefined,\n  ) {\n    this.events = new EventEmitter();\n    if (sessionOptions.clientAuthentication) {\n      this.clientAuthentication = sessionOptions.clientAuthentication;\n    } else if (sessionOptions.secureStorage && sessionOptions.insecureStorage) {\n      this.clientAuthentication = getClientAuthenticationWithDependencies({\n        secureStorage: sessionOptions.secureStorage,\n        insecureStorage: sessionOptions.insecureStorage,\n      });\n    } else {\n      this.clientAuthentication = getClientAuthenticationWithDependencies({});\n    }\n\n    if (sessionOptions.sessionInfo) {\n      this.info = {\n        sessionId: sessionOptions.sessionInfo.sessionId,\n        isLoggedIn: false,\n        webId: sessionOptions.sessionInfo.webId,\n        clientAppId: sessionOptions.sessionInfo.clientAppId,\n      };\n    } else {\n      this.info = {\n        sessionId: sessionId ?? v4(),\n        isLoggedIn: false,\n      };\n    }\n\n    // When a session is logged in, we want to track its ID in local storage to\n    // enable silent refresh. The current session ID specifically stored in 'localStorage'\n    // (as opposed to using our storage abstraction layer) because it is only\n    // used in a browser-specific mechanism.\n    this.events.on(EVENTS.LOGIN, () =>\n      window.localStorage.setItem(KEY_CURRENT_SESSION, this.info.sessionId),\n    );\n\n    this.events.on(EVENTS.SESSION_EXPIRED, () => this.internalLogout(false));\n\n    this.events.on(EVENTS.ERROR, () => this.internalLogout(false));\n  }\n\n  /**\n   * Triggers the login process. Note that this method will redirect the user away from your app.\n   *\n   * @param options Parameter to customize the login behaviour. In particular, two options are mandatory: `options.oidcIssuer`, the user's identity provider, and `options.redirectUrl`, the URL to which the user will be redirected after logging in their identity provider.\n   * @returns This method should redirect the user away from the app: it does not return anything. The login process is completed by {@linkcode handleIncomingRedirect}.\n   */\n  // Define these functions as properties so that they don't get accidentally re-bound.\n  // Isn't Javascript fun?\n  login = async (options: ILoginInputOptions): Promise<void> => {\n    await this.clientAuthentication.login(\n      {\n        sessionId: this.info.sessionId,\n        ...options,\n        // Defaults the token type to DPoP\n        tokenType: options.tokenType ?? \"DPoP\",\n      },\n      this.events,\n    );\n    // `login` redirects the user away from the app,\n    // so unless it throws an error, there is no code that should run afterwards\n    // (since there is no \"after\" in the lifetime of the script).\n    // Hence, this Promise never resolves:\n    return new Promise(() => {});\n  };\n\n  /**\n   * Fetches data using available login information. If the user is not logged in, this will behave as a regular `fetch`. The signature of this method is identical to the [canonical `fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API).\n   *\n   * @param url The URL from which data should be fetched.\n   * @param init Optional parameters customizing the request, by specifying an HTTP method, headers, a body, etc. Follows the [WHATWG Fetch Standard](https://fetch.spec.whatwg.org/).\n   */\n  fetch: typeof fetch = (url, init) =>\n    this.clientAuthentication.fetch(url, init);\n\n  /**\n   * An internal logout function, to control whether or not the logout signal\n   * should be sent, i.e. if the logout was user-initiated or is the result of\n   * an external event.\n   *\n   * @hidden\n   */\n  private internalLogout = async (\n    emitSignal: boolean,\n    options?: ILogoutOptions,\n  ): Promise<void> => {\n    // Clearing this value means that silent refresh will no longer be attempted.\n    // In particular, in the case of a silent authentication error it prevents\n    // from getting stuck in an authentication retries loop.\n    window.localStorage.removeItem(KEY_CURRENT_SESSION);\n    await this.clientAuthentication.logout(this.info.sessionId, options);\n    this.info.isLoggedIn = false;\n    if (emitSignal) {\n      (this.events as EventEmitter).emit(EVENTS.LOGOUT);\n    }\n  };\n\n  /**\n   * Logs the user out of the application.\n   *\n   * There are 2 types of logout supported by this library,\n   * `app` logout and `idp` logout.\n   *\n   * App logout will log the user out within the application\n   * by clearing any session data from the browser. It does\n   * not log the user out of their Solid identity provider,\n   * and should not redirect the user away.\n   * App logout can be performed as follows:\n   * ```typescript\n   * await session.logout({ logoutType: 'app' });\n   * ```\n   *\n   * IDP logout will log the user out of their Solid identity provider,\n   * and will redirect the user away from the application to do so. In order\n   * for users to be redirected back to `postLogoutUrl` you MUST include the\n   * `postLogoutUrl` value in the `post_logout_redirect_uris` field in the\n   * [Client ID Document](https://docs.inrupt.com/ess/latest/security/authentication/#client-identifier-client-id).\n   * IDP logout can be performed as follows:\n   * ```typescript\n   * await session.logout({\n   *  logoutType: 'idp',\n   *  // An optional URL to redirect to after logout has completed;\n   *  // this MUST match a logout URL listed in the Client ID Document\n   *  // of the application that is logged in.\n   *  // If the application is logged in with a Client ID that is not\n   *  // a URI dereferencing to a Client ID Document then users will\n   *  // not be redirected back to the `postLogoutUrl` after logout.\n   *  postLogoutUrl: 'https://example.com/logout',\n   *  // An optional value to be included in the query parameters\n   *  // when the IDP provider redirects the user to the postLogoutRedirectUrl.\n   *  state: \"my-state\"\n   * });\n   * ```\n   */\n  logout = async (options?: ILogoutOptions): Promise<void> =>\n    this.internalLogout(true, options);\n\n  /**\n   * Completes the login process by processing the information provided by the\n   * Solid identity provider through redirect.\n   *\n   * @param options See {@link IHandleIncomingRedirectOptions}.\n   */\n  handleIncomingRedirect = async (\n    inputOptions: string | IHandleIncomingRedirectOptions = {},\n  ): Promise<ISessionInfo | undefined> => {\n    if (this.info.isLoggedIn) {\n      return this.info;\n    }\n\n    if (this.tokenRequestInProgress) {\n      return undefined;\n    }\n    const options =\n      typeof inputOptions === \"string\" ? { url: inputOptions } : inputOptions;\n    const url = options.url ?? window.location.href;\n\n    this.tokenRequestInProgress = true;\n    const sessionInfo = await this.clientAuthentication.handleIncomingRedirect(\n      url,\n      this.events,\n    );\n    if (isLoggedIn(sessionInfo)) {\n      this.setSessionInfo(sessionInfo);\n      const currentUrl = window.localStorage.getItem(KEY_CURRENT_URL);\n      if (currentUrl === null) {\n        // The login event can only be triggered **after** the user has been\n        // redirected from the IdP with access and ID tokens.\n        (this.events as EventEmitter).emit(EVENTS.LOGIN);\n      } else {\n        // If an URL is stored in local storage, we are being logged in after a\n        // silent authentication, so remove our currently stored URL location\n        // to clean up our state now that we are completing the re-login process.\n        window.localStorage.removeItem(KEY_CURRENT_URL);\n        (this.events as EventEmitter).emit(EVENTS.SESSION_RESTORED, currentUrl);\n      }\n    } else if (options.restorePreviousSession === true) {\n      // Silent authentication happens after a refresh, which means there are no\n      // OAuth params in the current location IRI. It can only succeed if a session\n      // was previously logged in, in which case its ID will be present with a known\n      // identifier in local storage.\n      // Check if we have a locally stored session ID...\n      const storedSessionId = window.localStorage.getItem(KEY_CURRENT_SESSION);\n      // ...if not, then there is no ID token, and so silent authentication cannot happen, but\n      // if we do have a stored session ID, attempt to re-authenticate now silently.\n      if (storedSessionId !== null) {\n        const attemptedSilentAuthentication = await silentlyAuthenticate(\n          storedSessionId,\n          this.clientAuthentication,\n          this,\n        );\n        // At this point, we know that the main window will imminently be redirected.\n        // However, this redirect is asynchronous and there is no way to halt execution\n        // until it happens precisely. That's why the current Promise simply does not\n        // resolve.\n        if (attemptedSilentAuthentication) {\n          return new Promise(() => {});\n        }\n      }\n    }\n    this.tokenRequestInProgress = false;\n    return sessionInfo;\n  };\n\n  private setSessionInfo(\n    sessionInfo: ISessionInfo & { isLoggedIn: true },\n  ): void {\n    this.info.isLoggedIn = sessionInfo.isLoggedIn;\n    this.info.webId = sessionInfo.webId;\n    this.info.sessionId = sessionInfo.sessionId;\n    this.info.clientAppId = sessionInfo.clientAppId;\n    this.info.expirationDate = sessionInfo.expirationDate;\n    this.events.on(EVENTS.SESSION_EXTENDED, (expiresIn: number) => {\n      this.info.expirationDate = Date.now() + expiresIn * 1000;\n    });\n  }\n}\n", "//\n// Copyright Inrupt Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n// Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n// INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n// PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { Session } from \"./Session\";\n\nlet defaultSession: Session | undefined;\n\n/**\n * Obtain the {@link Session} used when not explicitly instantiating one yourself.\n *\n * When using the top-level exports {@link fetch}, {@link login}, {@link logout},\n * {@link handleIncomingRedirect}, {@link onLogin} and {@link onLogout}, these apply to an\n * implicitly-instantiated {@link Session}.\n * This function returns a reference to that Session in order to obtain e.g. the current user's\n * WebID.\n * @since 1.3.0\n */\nexport function getDefaultSession(): Session {\n  if (typeof defaultSession === \"undefined\") {\n    defaultSession = new Session();\n  }\n  return defaultSession;\n}\n\n/**\n * This function's signature is equal to `window.fetch`, but if the current user is authenticated\n * (see [[login]] and [[handleIncomingRedirect]]), requests made using it will include that user's\n * credentials. If not, this will behave just like the regular `window.fetch`.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch}\n * @since 1.3.0\n */\n/* eslint-disable-next-line no-shadow */\nexport const fetch: Session[\"fetch\"] = (...args) => {\n  const session = getDefaultSession();\n  return session.fetch(...args);\n};\n\n/**\n * Triggers the login process. Note that this method will redirect the user away from your app.\n *\n * @param options Parameter to customize the login behaviour. In particular, two options are mandatory: `options.oidcIssuer`, the user's identity provider, and `options.redirectUrl`, the URL to which the user will be redirected after logging in their identity provider.\n * @returns This method should redirect the user away from the app: it does not return anything. The login process is completed by [[handleIncomingRedirect]].\n * @since 1.3.0\n */\nexport const login: Session[\"login\"] = (...args) => {\n  const session = getDefaultSession();\n  return session.login(...args);\n};\n\n/**\n * Logs the user out of the application.\n *\n * By default this does not log the user out of their Solid identity provider.\n * In order to do so, you must set the logoutType to `idp`. For usage details\n * see {@link Session.logout}.\n *\n * @since 1.3.0\n */\nexport const logout: Session[\"logout\"] = (...args) => {\n  const session = getDefaultSession();\n  return session.logout(...args);\n};\n\n/**\n * Completes the login process by processing the information provided by the Solid identity provider through redirect.\n *\n * @param url The URL of the page handling the redirect, including the query parameters \u2014 these contain the information to process the login.\n * @since 1.3.0\n */\nexport const handleIncomingRedirect: Session[\"handleIncomingRedirect\"] = (\n  ...args\n) => {\n  const session = getDefaultSession();\n  return session.handleIncomingRedirect(...args);\n};\n\n/**\n * {@link SessionEventEmitter} instance to subscribe to events by the default session.\n *\n * @since 1.14.0\n */\nexport const events = (): Session[\"events\"] => {\n  return getDefaultSession().events;\n};\n", "/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n", "'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n", "'use strict'\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  Error,\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n  Promise,\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n  PromiseResolve(val) {\n    return Promise.resolve(val)\n  },\n  ReflectApply: Reflect.apply,\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n  SafeSet: Set,\n  String,\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n  Symbol,\n  SymbolFor: Symbol.for,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n  SymbolDispose: Symbol.dispose || Symbol('Symbol.dispose'),\n  SymbolAsyncDispose: Symbol.asyncDispose || Symbol('Symbol.asyncDispose'),\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n  Boolean: Boolean,\n  Uint8Array\n}\n", "/*globals self, window */\n\"use strict\"\n\n/*eslint-disable @mysticatea/prettier */\nconst { AbortController, AbortSignal } =\n    typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    /* otherwise */ undefined\n/*eslint-enable @mysticatea/prettier */\n\nmodule.exports = AbortController\nmodule.exports.AbortSignal = AbortSignal\nmodule.exports.default = AbortController\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n", "'use strict'\n\nconst bufferModule = require('buffer')\nconst { kResistStopPropagation, SymbolDispose } = require('./primordials')\nconst AbortSignal = globalThis.AbortSignal || require('abort-controller').AbortSignal\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n\nconst validateAbortSignal = (signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nconst validateFunction = (value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n}\n\n// This is a simplified version of AggregateError\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n    let message = ''\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n      called = true\n      callback.apply(this, args)\n    }\n  },\n  createDeferredPromise: function () {\n    let resolve\n    let reject\n\n    // eslint-disable-next-line promise/param-names\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n        return resolve(...args)\n      })\n    })\n  },\n  debuglog() {\n    return function () {}\n  },\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n        return `'${value}'`\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n        return value\n      case 'bigint':\n        return `${String(value)}n`\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n      case 'object':\n        return '{}'\n    }\n  },\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob,\n  deprecate(fn, message) {\n    return fn\n  },\n  addAbortListener:\n    require('events').addAbortListener ||\n    function addAbortListener(signal, listener) {\n      if (signal === undefined) {\n        throw new ERR_INVALID_ARG_TYPE('signal', 'AbortSignal', signal)\n      }\n      validateAbortSignal(signal, 'signal')\n      validateFunction(listener, 'listener')\n      let removeEventListener\n      if (signal.aborted) {\n        queueMicrotask(() => listener())\n      } else {\n        signal.addEventListener('abort', listener, {\n          __proto__: null,\n          once: true,\n          [kResistStopPropagation]: true\n        })\n        removeEventListener = () => {\n          signal.removeEventListener('abort', listener)\n        }\n      }\n      return {\n        __proto__: null,\n        [SymbolDispose]() {\n          var _removeEventListener\n          ;(_removeEventListener = removeEventListener) === null || _removeEventListener === undefined\n            ? undefined\n            : _removeEventListener()\n        }\n      }\n    },\n  AbortSignalAny:\n    AbortSignal.any ||\n    function AbortSignalAny(signals) {\n      // Fast path if there is only one signal.\n      if (signals.length === 1) {\n        return signals[0]\n      }\n      const ac = new AbortController()\n      const abort = () => ac.abort()\n      signals.forEach((signal) => {\n        validateAbortSignal(signal, 'signals')\n        signal.addEventListener('abort', abort, {\n          once: true\n        })\n      })\n      ac.signal.addEventListener(\n        'abort',\n        () => {\n          signals.forEach((signal) => signal.removeEventListener('abort', abort))\n        },\n        {\n          once: true\n        }\n      )\n      return ac.signal\n    }\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n", "'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n}\n\n// Only use this for integers! Decimal numbers do not work with this function.\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length,\n      // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n  if (args.length === 0) {\n    return msg\n  }\n  return format(msg, ...args)\n}\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n  return innerError || outerError\n}\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n    let msg = 'The '\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n    switch (other.length) {\n      case 0:\n        break\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n        msg += `${other[0]}`\n        break\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n", "/* eslint jsdoc/require-jsdoc: \"error\" */\n\n'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\nconst { normalizeEncoding } = require('../ours/util')\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\nconst signals = {}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUint32(value) {\n  return value === value >>> 0\n}\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n    value = NumberParseInt(value, 8)\n  }\n  validateUint32(value, name)\n  return value\n}\n\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  const min = positive ? 1 : 0\n  // 2 ** 32 === 4294967296\n  const max = 4294967295\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\n/**\n * @param {any} options\n * @param {string} key\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n\n/**\n * @callback validateDictionary - We are using the Web IDL Standard definition\n *                                of \"dictionary\" here, which means any value\n *                                whose Type is either Undefined, Null, or\n *                                Object (which includes functions).\n * @param {*} value\n * @param {string} name\n * @see https://webidl.spec.whatwg.org/#es-dictionary\n * @see https://tc39.es/ecma262/#table-typeof-operator-results\n */\n\n/** @type {validateDictionary} */\nconst validateDictionary = hideStackFrames((value, name) => {\n  if (value != null && typeof value !== 'object' && typeof value !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'a dictionary', value)\n  }\n})\n\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateStringArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string[]}\n */\n\n/** @type {validateStringArray} */\nfunction validateStringArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateString(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateBooleanArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean[]}\n */\n\n/** @type {validateBooleanArray} */\nfunction validateBooleanArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateBoolean(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateAbortSignalArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is AbortSignal[]}\n */\n\n/** @type {validateAbortSignalArray} */\nfunction validateAbortSignalArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    const signal = value[i]\n    const indexedName = `${name}[${i}]`\n    if (signal == null) {\n      throw new ERR_INVALID_ARG_TYPE(indexedName, 'AbortSignal', signal)\n    }\n    validateAbortSignal(signal, indexedName)\n  }\n}\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\n/**\n * @param {string} data\n * @param {string} encoding\n */\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n  return port | 0\n}\n\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\n/*\n  The rules for the Link header field are described here:\n  https://www.rfc-editor.org/rfc/rfc8288.html#section-3\n\n  This regex validates any string surrounded by angle brackets\n  (not necessarily a valid URI reference) followed by zero or more\n  link-params separated by semicolons.\n*/\nconst linkValueRegExp = /^(?:<[^>]*>)(?:\\s*;\\s*[^;\"\\s]+(?:=(\")?[^;\"\\s]*\\1)?)*$/\n\n/**\n * @param {any} value\n * @param {string} name\n */\nfunction validateLinkHeaderFormat(value, name) {\n  if (typeof value === 'undefined' || !RegExpPrototypeExec(linkValueRegExp, value)) {\n    throw new ERR_INVALID_ARG_VALUE(\n      name,\n      value,\n      'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n    )\n  }\n}\n\n/**\n * @param {any} hints\n * @return {string}\n */\nfunction validateLinkHeaderValue(hints) {\n  if (typeof hints === 'string') {\n    validateLinkHeaderFormat(hints, 'hints')\n    return hints\n  } else if (ArrayIsArray(hints)) {\n    const hintsLength = hints.length\n    let result = ''\n    if (hintsLength === 0) {\n      return result\n    }\n    for (let i = 0; i < hintsLength; i++) {\n      const link = hints[i]\n      validateLinkHeaderFormat(link, 'hints')\n      result += link\n      if (i !== hintsLength - 1) {\n        result += ', '\n      }\n    }\n    return result\n  }\n  throw new ERR_INVALID_ARG_VALUE(\n    'hints',\n    hints,\n    'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n  )\n}\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateStringArray,\n  validateBooleanArray,\n  validateAbortSignalArray,\n  validateBoolean,\n  validateBuffer,\n  validateDictionary,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal,\n  validateLinkHeaderValue\n}\n", "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n", "'use strict'\n\nconst { SymbolAsyncIterator, SymbolIterator, SymbolFor } = require('../../ours/primordials')\n\n// We need to use SymbolFor to make these globally available\n// for interopt with readable-stream, i.e. readable-stream\n// and node core needs to be able to read/write private state\n// from each other for proper interoperability.\nconst kIsDestroyed = SymbolFor('nodejs.stream.destroyed')\nconst kIsErrored = SymbolFor('nodejs.stream.errored')\nconst kIsReadable = SymbolFor('nodejs.stream.readable')\nconst kIsWritable = SymbolFor('nodejs.stream.writable')\nconst kIsDisturbed = SymbolFor('nodejs.stream.disturbed')\nconst kIsClosedPromise = SymbolFor('nodejs.webstream.isClosedPromise')\nconst kControllerErrorFunction = SymbolFor('nodejs.webstream.controllerErrorFunction')\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) &&\n      // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\nfunction isReadableStream(obj) {\n  return !!(\n    obj &&\n    !isNodeStream(obj) &&\n    typeof obj.pipeThrough === 'function' &&\n    typeof obj.getReader === 'function' &&\n    typeof obj.cancel === 'function'\n  )\n}\nfunction isWritableStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.getWriter === 'function' && typeof obj.abort === 'function')\n}\nfunction isTransformStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.readable === 'object' && typeof obj.writable === 'object')\n}\nfunction isWebStream(obj) {\n  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)\n}\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kIsDestroyed] || (state !== null && state !== undefined && state.destroyed))\n}\n\n// Have been end():d.\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n}\n\n// Have emitted 'finish'.\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n}\n\n// Have been push(null):d.\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n}\n\n// Have emitted 'end'.\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\nfunction isWritable(stream) {\n  if (stream && stream[kIsWritable] != null) return stream[kIsWritable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (isDestroyed(stream)) {\n    return true\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n  return true\n}\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n  const wState = stream._writableState\n  const rState = stream._readableState\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n  return null\n}\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\nfunction isServerRequest(stream) {\n  var _stream$req\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\nmodule.exports = {\n  isDestroyed,\n  kIsDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  kIsClosedPromise,\n  kControllerErrorFunction,\n  kIsWritable,\n  isClosed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWebStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose,\n  isTransformStream\n}\n", "/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\nconst { kEmptyObject, once } = require('../../ours/util')\nconst { validateAbortSignal, validateFunction, validateObject, validateBoolean } = require('../validators')\nconst { Promise, PromisePrototypeThen, SymbolDispose } = require('../../ours/primordials')\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose,\n  kIsClosedPromise\n} = require('./utils')\nlet addAbortListener\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\nconst nop = () => {}\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  if (isReadableStream(stream) || isWritableStream(stream)) {\n    return eosWeb(stream, options, callback)\n  }\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  }\n\n  // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n  const onfinish = () => {\n    writableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n  let readableFinished = isReadableFinished(stream, false)\n  const onend = () => {\n    readableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n  let closed = isClosed(stream)\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    callback.call(stream)\n  }\n  const onclosed = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    callback.call(stream)\n  }\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  }\n\n  // Not all streams will emit 'close' after 'aborted'.\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n  stream.on('close', onclose)\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclosed)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclosed)\n  }\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  return cleanup\n}\nfunction eosWeb(stream, options, callback) {\n  let isAborted = false\n  let abort = nop\n  if (options.signal) {\n    abort = () => {\n      isAborted = true\n      callback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n      const disposable = addAbortListener(options.signal, abort)\n      const originalCallback = callback\n      callback = once((...args) => {\n        disposable[SymbolDispose]()\n        originalCallback.apply(stream, args)\n      })\n    }\n  }\n  const resolverFn = (...args) => {\n    if (!isAborted) {\n      process.nextTick(() => callback.apply(stream, args))\n    }\n  }\n  PromisePrototypeThen(stream[kIsClosedPromise].promise, resolverFn, resolverFn)\n  return nop\n}\nfunction finished(stream, opts) {\n  var _opts\n  let autoCleanup = false\n  if (opts === null) {\n    opts = kEmptyObject\n  }\n  if ((_opts = opts) !== null && _opts !== undefined && _opts.cleanup) {\n    validateBoolean(opts.cleanup, 'cleanup')\n    autoCleanup = opts.cleanup\n  }\n  return new Promise((resolve, reject) => {\n    const cleanup = eos(stream, opts, (err) => {\n      if (autoCleanup) {\n        cleanup()\n      }\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\nmodule.exports = eos\nmodule.exports.finished = finished\n", "'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\nconst { Symbol } = require('../../ours/primordials')\nconst { kIsDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n}\n\n// Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState\n  // With duplex streams we use the writable side for state.\n  const s = w || r\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n    return this\n  }\n\n  // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n  checkError(err, w, r)\n  if (w) {\n    w.destroyed = true\n  }\n  if (r) {\n    r.destroyed = true\n  }\n\n  // If still constructing then defer calling _destroy.\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n  return this\n}\nfunction _destroy(self, err, cb) {\n  let called = false\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n    if (w) {\n      w.closed = true\n    }\n    if (r) {\n      r.closed = true\n    }\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n  if (w) {\n    w.closeEmitted = true\n  }\n  if (r) {\n    r.closeEmitted = true\n  }\n  if ((w !== null && w !== undefined && w.emitClose) || (r !== null && r !== undefined && r.emitClose)) {\n    self.emit('close')\n  }\n}\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n  if ((w !== null && w !== undefined && w.errorEmitted) || (r !== null && r !== undefined && r.errorEmitted)) {\n    return\n  }\n  if (w) {\n    w.errorEmitted = true\n  }\n  if (r) {\n    r.errorEmitted = true\n  }\n  self.emit('error', err)\n}\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const r = stream._readableState\n  const w = stream._writableState\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    return this\n  }\n  if ((r !== null && r !== undefined && r.autoDestroy) || (w !== null && w !== undefined && w.autoDestroy))\n    stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n  const r = stream._readableState\n  const w = stream._writableState\n  if (r) {\n    r.constructed = false\n  }\n  if (w) {\n    w.constructed = false\n  }\n  stream.once(kConstruct, cb)\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n  process.nextTick(constructNT, stream)\n}\nfunction constructNT(stream) {\n  let called = false\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n    if (r) {\n      r.constructed = true\n    }\n    if (w) {\n      w.constructed = true\n    }\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n  try {\n    stream._construct((err) => {\n      process.nextTick(onConstruct, err)\n    })\n  } catch (err) {\n    process.nextTick(onConstruct, err)\n  }\n}\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\nfunction isRequest(stream) {\n  return (stream === null || stream === undefined ? undefined : stream.setHeader) && typeof stream.abort === 'function'\n}\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n}\n\n// Normalize destroy for legacy.\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  }\n\n  // TODO: Remove isRequest branches.\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n  if (!stream.destroyed) {\n    stream[kIsDestroyed] = true\n  }\n}\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n", "'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\nconst { EventEmitter: EE } = require('events')\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n  source.on('data', ondata)\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n  dest.on('drain', ondrain)\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n  let didOnEnd = false\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  }\n\n  // Don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup()\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror)\n\n  // Remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source)\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest\n}\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn)\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\nmodule.exports = {\n  Stream,\n  prependListener\n}\n", "'use strict'\n\nconst { SymbolDispose } = require('../../ours/primordials')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { isNodeStream, isWebStream, kControllerErrorFunction } = require('./utils')\nconst eos = require('./end-of-stream')\nconst { ERR_INVALID_ARG_TYPE } = codes\nlet addAbortListener\n\n// This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n  if (!isNodeStream(stream) && !isWebStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n  const onAbort = isNodeStream(stream)\n    ? () => {\n        stream.destroy(\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n    : () => {\n        stream[kControllerErrorFunction](\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n    const disposable = addAbortListener(signal, onAbort)\n    eos(stream, disposable[SymbolDispose])\n  }\n  return stream\n}\n", "'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { inspect } = require('../../ours/util')\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n    while ((p = p.next) !== null) ret += s + p.data\n    return ret\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n    return ret\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    const data = this.head.data\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    }\n    // Result spans more than one buffer.\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n  first() {\n    return this.head.data\n  }\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n    do {\n      const str = p.data\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n    do {\n      const buf = p.data\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n", "'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { validateInteger } = require('../validators')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nlet defaultHighWaterMarkBytes = 16 * 1024\nlet defaultHighWaterMarkObjectMode = 16\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? defaultHighWaterMarkObjectMode : defaultHighWaterMarkBytes\n}\nfunction setDefaultHighWaterMark(objectMode, value) {\n  validateInteger(value, 'value', 0)\n  if (objectMode) {\n    defaultHighWaterMarkObjectMode = value\n  } else {\n    defaultHighWaterMarkBytes = value\n  }\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark,\n  setDefaultHighWaterMark\n}\n", "/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}", "'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\nfunction from(Readable, iterable, opts) {\n  let iterator\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n  let isAsync\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  })\n\n  // Flag to protect against _read\n  // being called before last iteration completion.\n  let reading = false\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error),\n      // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n      if (done) {\n        return\n      }\n    }\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n      break\n    }\n  }\n  return readable\n}\nmodule.exports = from\n", "/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncDispose,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\nconst { EventEmitter: EE } = require('events')\nconst { Stream, prependListener } = require('./legacy')\nconst { Buffer } = require('buffer')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst eos = require('./end-of-stream')\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\nconst BufferList = require('./buffer_list')\nconst destroyImpl = require('./destroy')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateObject } = require('../validators')\nconst kPaused = Symbol('kPaused')\nconst { StringDecoder } = require('string_decoder')\nconst from = require('./from')\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\nconst nop = () => {}\nconst { errorOrDestroy } = destroyImpl\nconst kObjectMode = 1 << 0\nconst kEnded = 1 << 1\nconst kEndEmitted = 1 << 2\nconst kReading = 1 << 3\nconst kConstructed = 1 << 4\nconst kSync = 1 << 5\nconst kNeedReadable = 1 << 6\nconst kEmittedReadable = 1 << 7\nconst kReadableListening = 1 << 8\nconst kResumeScheduled = 1 << 9\nconst kErrorEmitted = 1 << 10\nconst kEmitClose = 1 << 11\nconst kAutoDestroy = 1 << 12\nconst kDestroyed = 1 << 13\nconst kClosed = 1 << 14\nconst kCloseEmitted = 1 << 15\nconst kMultiAwaitDrain = 1 << 16\nconst kReadingMore = 1 << 17\nconst kDataEmitted = 1 << 18\n\n// TODO(benjamingr) it is likely slower to do it this way than with free functions\nfunction makeBitMapDescriptor(bit) {\n  return {\n    enumerable: false,\n    get() {\n      return (this.state & bit) !== 0\n    },\n    set(value) {\n      if (value) this.state |= bit\n      else this.state &= ~bit\n    }\n  }\n}\nObjectDefineProperties(ReadableState.prototype, {\n  objectMode: makeBitMapDescriptor(kObjectMode),\n  ended: makeBitMapDescriptor(kEnded),\n  endEmitted: makeBitMapDescriptor(kEndEmitted),\n  reading: makeBitMapDescriptor(kReading),\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  constructed: makeBitMapDescriptor(kConstructed),\n  // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  sync: makeBitMapDescriptor(kSync),\n  // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  needReadable: makeBitMapDescriptor(kNeedReadable),\n  emittedReadable: makeBitMapDescriptor(kEmittedReadable),\n  readableListening: makeBitMapDescriptor(kReadableListening),\n  resumeScheduled: makeBitMapDescriptor(kResumeScheduled),\n  // True if the error was already emitted and should not be thrown again.\n  errorEmitted: makeBitMapDescriptor(kErrorEmitted),\n  emitClose: makeBitMapDescriptor(kEmitClose),\n  autoDestroy: makeBitMapDescriptor(kAutoDestroy),\n  // Has it been destroyed.\n  destroyed: makeBitMapDescriptor(kDestroyed),\n  // Indicates whether the stream has finished destroying.\n  closed: makeBitMapDescriptor(kClosed),\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  closeEmitted: makeBitMapDescriptor(kCloseEmitted),\n  multiAwaitDrain: makeBitMapDescriptor(kMultiAwaitDrain),\n  // If true, a maybeReadMore has been scheduled.\n  readingMore: makeBitMapDescriptor(kReadingMore),\n  dataEmitted: makeBitMapDescriptor(kDataEmitted)\n})\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Bit map field to store ReadableState more effciently with 1 bit per field\n  // instead of a V8 slot per field.\n  this.state = kEmitClose | kAutoDestroy | kConstructed | kSync\n  // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n  if (options && options.objectMode) this.state |= kObjectMode\n  if (isDuplex && options && options.readableObjectMode) this.state |= kObjectMode\n\n  // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this[kPaused] = null\n\n  // Should close be emitted on destroy. Defaults to true.\n  if (options && options.emitClose === false) this.state &= ~kEmitClose\n\n  // Should .destroy() be called after 'end' (and potentially 'finish').\n  if (options && options.autoDestroy === false) this.state &= ~kAutoDestroy\n\n  // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n  this.errored = null\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n  this.awaitDrainWriters = null\n  this.decoder = null\n  this.encoding = null\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options)\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  this._readableState = new ReadableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nReadable.prototype[SymbolAsyncDispose] = function () {\n  let error\n  if (!this.destroyed) {\n    error = this.readableEnded ? null : new AbortError()\n    this.destroy(error)\n  }\n  return new Promise((resolve, reject) => eos(this, (err) => (err && err !== error ? reject(err) : resolve(null))))\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n}\n\n// Unshift should *always* be something directly out of read().\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n  if ((state.state & kObjectMode) === 0) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.state &= ~kReading\n    onEofChunk(stream, state)\n  } else if ((state.state & kObjectMode) !== 0 || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if ((state.state & kEndEmitted) !== 0) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.state &= ~kReading\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.state &= ~kReading\n    maybeReadMore(stream, state)\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if ((state.state & kMultiAwaitDrain) !== 0) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if ((state.state & kNeedReadable) !== 0) emitReadable(stream)\n  }\n  maybeReadMore(stream, state)\n}\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n}\n\n// Backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder\n  // If setEncoding(null), decoder.encoding equals utf8.\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer\n  // Iterate over current buffer to convert already stored Buffers:\n  let content = ''\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n}\n\n// Don't raise the hwm > 1GB.\nconst MAX_HWM = 0x40000000\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n  return n\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if ((state.state & kObjectMode) !== 0) return 1\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n}\n\n// You can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n)\n  // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n  const state = this._readableState\n  const nOrig = n\n\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.state &= ~kEmittedReadable\n\n  // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n  n = howMuchToRead(n, state)\n\n  // If we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  let doRead = (state.state & kNeedReadable) !== 0\n  debug('need readable', doRead)\n\n  // If we currently have less than the highWaterMark, then also read some.\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  }\n\n  // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.state |= kReading | kSync\n    // If the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.state |= kNeedReadable\n\n    // Call internal read method\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n    state.state &= ~kSync\n\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n  return ret\n}\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n  state.ended = true\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true\n    // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n    emitReadable_(stream)\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  }\n\n  // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n}\n\n// At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n  state.readingMore = false\n}\n\n// Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n  let ondrain\n  let cleanedUp = false\n  function cleanup() {\n    debug('cleanup')\n    // Cleanup event handlers once the pipe is broken.\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true\n\n    // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n      src.pause()\n    }\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n  src.on('data', ondata)\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n    if (ret === false) {\n      pause()\n    }\n  }\n\n  // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror)\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n  dest.once('close', onclose)\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n  dest.once('finish', onfinish)\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  }\n\n  // Tell the dest that it's being piped to.\n  dest.emit('pipe', src)\n\n  // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    pause()\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n  return dest\n}\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState\n\n    // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  }\n\n  // If we're not piping anywhere, then do nothing.\n  if (state.pipes.length === 0) return this\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n    return this\n  }\n\n  // Try to find the right one.\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n}\n\n// Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0\n\n    // Try start flowing on next tick if stream isn't explicitly paused.\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n  return res\n}\nReadable.prototype.addListener = Readable.prototype.on\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nReadable.prototype.off = Readable.prototype.removeListener\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true\n\n    // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  const state = this._readableState\n  if (!state.flowing) {\n    debug('resume')\n    // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n  state[kPaused] = false\n  return this\n}\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n  if (!state.reading) {\n    stream.read(0)\n  }\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n  this._readableState[kPaused] = true\n  return this\n}\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n  while (state.flowing && stream.read() !== null);\n}\n\n// Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  let paused = false\n\n  // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  }\n\n  // Proxy all the other methods. Important when wrapping filters and duplexes.\n  const streamKeys = ObjectKeys(stream)\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n  return this\n}\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n  return streamToAsyncIterator(this, options)\n}\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n}\n\n// Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n    get() {\n      const r = this._readableState\n      // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      }\n\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n    get() {\n      return this[kPaused] !== false\n    },\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n})\n\n// Exposed for testing purposes only.\nReadable._fromList = fromList\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length)\n\n  // Check that we didn't get one last unshift.\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy &&\n          // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n  if (writable) {\n    stream.end()\n  }\n}\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n", "/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\nmodule.exports = Writable\nWritable.WritableState = WritableState\nconst { EventEmitter: EE } = require('events')\nconst Stream = require('./legacy').Stream\nconst { Buffer } = require('buffer')\nconst destroyImpl = require('./destroy')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\nfunction nop() {}\nconst kOnFinished = Symbol('kOnFinished')\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode)\n\n  // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // if _final has been called.\n  this.finalCalled = false\n\n  // drain event flag.\n  this.needDrain = false\n  // At the start of calling end()\n  this.ending = false\n  // When end() has been called, and returned.\n  this.ended = false\n  // When 'finish' is emitted.\n  this.finished = false\n\n  // Has it been destroyed\n  this.destroyed = false\n\n  // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0\n\n  // A flag to see when we're in the middle of a write.\n  this.writing = false\n\n  // When true all writes will be buffered until .uncork() call.\n  this.corked = 0\n\n  // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true\n\n  // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false\n\n  // The callback that's passed to _write(chunk, cb).\n  this.onwrite = onwrite.bind(undefined, stream)\n\n  // The callback that the user supplies to write(chunk, encoding, cb).\n  this.writecb = null\n\n  // The amount that is being written when _write is called.\n  this.writelen = 0\n\n  // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n  this.afterWriteTickInfo = null\n  resetBuffer(this)\n\n  // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n  this.pendingcb = 0\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n  this.prefinished = false\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'finish' (and potentially 'end').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n    finishMaybe(this, state)\n  })\n}\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n})\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  let err\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n}\n\n// If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len\n\n  // stream._write resets state.length\n  const ret = state.length < state.highWaterMark\n  // We must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n    stream._write(chunk, encoding, state.onwrite)\n    state.sync = false\n  }\n\n  // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n  return ret && !state.errored && !state.destroyed\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er)\n  // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n  errorBuffer(state)\n  // This can emit error, but error must always follow cb.\n  errorOrDestroy(stream, er)\n}\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    }\n\n    // In case of duplex streams we need to notify the readable side of the\n    // error.\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n  finishMaybe(stream, state)\n}\n\n// If there's something in the buffer waiting, then invoke callbacks.\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n  resetBuffer(state)\n}\n\n// If there's something in the buffer waiting, then process it.\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n  if (!bufferedLength) {\n    return\n  }\n  let i = bufferedIndex\n  state.bufferProcessing = true\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        }\n    // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n  state.bufferProcessing = false\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\nWritable.prototype._writev = null\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n  let err\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n    if (ret instanceof Error) {\n      err = ret\n    }\n  }\n\n  // .end() fully uncorks.\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n  return this\n}\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\nfunction callFinal(stream, state) {\n  let called = false\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    state.pendingcb--\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish')\n      // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n  state.sync = true\n  state.pendingcb++\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n  state.sync = false\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n  stream.emit('finish')\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy &&\n        // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n    get() {\n      const w = this._writableState\n      // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState\n\n  // Invoke pending callbacks.\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n  destroy.call(this, err, cb)\n  return this\n}\nWritable.prototype._undestroy = destroyImpl.undestroy\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n", "/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\n;('use strict')\nconst bufferModule = require('buffer')\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream,\n  isReadableStream,\n  isWritableStream\n} = require('./utils')\nconst eos = require('./end-of-stream')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\nconst { destroyer } = require('./destroy')\nconst Duplex = require('./duplex')\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nconst { createDeferredPromise } = require('../../ours/util')\nconst from = require('./from')\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst { FunctionPrototypeCall } = require('../../ours/primordials')\n\n// This is needed for pre node 17.\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options)\n\n    // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  }\n  if (isReadableStream(body)) {\n    return _duplexify({\n      readable: Readable.fromWeb(body)\n    })\n  }\n  if (isWritableStream(body)) {\n    return _duplexify({\n      writable: Writable.fromWeb(body)\n    })\n  }\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n    const then = value === null || value === undefined ? undefined : value.then\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n        destroy\n      }))\n    }\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  }\n  if (\n    isReadableStream(body === null || body === undefined ? undefined : body.readable) &&\n    isWritableStream(body === null || body === undefined ? undefined : body.writable)\n  ) {\n    return Duplexify.fromWeb(body)\n  }\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n  const then = body === null || body === undefined ? undefined : body.then\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n      read() {}\n    }))\n  }\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    }\n  }\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n  return d\n}\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\nmodule.exports = Duplex\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype)\n  // Allow the keys array to be GC'ed.\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\nlet duplexify\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n  return duplexify(body, 'body')\n}\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\nmodule.exports = Transform\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\nconst Duplex = require('./duplex')\nconst { getHighWaterMark } = require('./state')\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n\n  // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n  Duplex.call(this, options)\n\n  // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false\n  this[kCallback] = null\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n  this.on('prefinish', prefinish)\n}\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n        return\n      }\n      if (data != null) {\n        this.push(data)\n      }\n      this.push(null)\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n    if (cb) {\n      cb()\n    }\n  }\n}\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\nTransform.prototype._final = final\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n    if (val != null) {\n      this.push(val)\n    }\n    if (\n      wState.ended ||\n      // Backwards compat.\n      length === rState.length ||\n      // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\nmodule.exports = PassThrough\nconst Transform = require('./transform')\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n", "/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { ArrayIsArray, Promise, SymbolAsyncIterator, SymbolDispose } = require('../../ours/primordials')\nconst eos = require('./end-of-stream')\nconst { once } = require('../../ours/util')\nconst destroyImpl = require('./destroy')\nconst Duplex = require('./duplex')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateFunction, validateAbortSignal } = require('../validators')\nconst {\n  isIterable,\n  isReadable,\n  isReadableNodeStream,\n  isNodeStream,\n  isTransformStream,\n  isWebStream,\n  isReadableStream,\n  isReadableFinished\n} = require('./utils')\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nlet PassThrough\nlet Readable\nlet addAbortListener\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\nasync function pumpToNode(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n    if (end) {\n      writable.end()\n      await wait()\n    }\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\nasync function pumpToWeb(readable, writable, finish, { end }) {\n  if (isTransformStream(writable)) {\n    writable = writable.writable\n  }\n  // https://streams.spec.whatwg.org/#example-manual-write-with-backpressure\n  const writer = writable.getWriter()\n  try {\n    for await (const chunk of readable) {\n      await writer.ready\n      writer.write(chunk).catch(() => {})\n    }\n    await writer.ready\n    if (end) {\n      await writer.close()\n    }\n    finish()\n  } catch (err) {\n    try {\n      await writer.abort(err)\n      finish(err)\n    } catch (err) {\n      finish(err)\n    }\n  }\n}\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal\n\n  // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n  function abort() {\n    finishImpl(new AbortError())\n  }\n  addAbortListener = addAbortListener || require('../../ours/util').addAbortListener\n  let disposable\n  if (outerSignal) {\n    disposable = addAbortListener(outerSignal, abort)\n  }\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n  function finishImpl(err, final) {\n    var _disposable\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n    if (!error && !final) {\n      return\n    }\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n    ;(_disposable = disposable) === null || _disposable === undefined ? undefined : _disposable[SymbolDispose]()\n    ac.abort()\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n      process.nextTick(callback, error, value)\n    }\n  }\n  let ret\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n\n      // Catch stream errors that occur after pipe/pump has completed.\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n      stream.on('error', onError)\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream) || isTransformStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      if (isTransformStream(ret)) {\n        var _ret\n        ret = makeAsyncIterable((_ret = ret) === null || _ret === undefined ? undefined : _ret.readable)\n      } else {\n        ret = makeAsyncIterable(ret)\n      }\n      ret = stream(ret, {\n        signal\n      })\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret2\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        }\n\n        // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        })\n\n        // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n        const then = (_ret2 = ret) === null || _ret2 === undefined ? undefined : _ret2.then\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n              if (val != null) {\n                pt.write(val)\n              }\n              if (end) {\n                pt.end()\n              }\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pumpToNode(ret, pt, finish, {\n            end\n          })\n        } else if (isReadableStream(ret) || isTransformStream(ret)) {\n          const toRead = ret.readable || ret\n          finishCount++\n          pumpToNode(toRead, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isTransformStream(ret) || isReadableStream(ret)) {\n        const toRead = ret.readable || ret\n        finishCount++\n        pumpToNode(toRead, stream, finish, {\n          end\n        })\n      } else if (isIterable(ret)) {\n        finishCount++\n        pumpToNode(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else if (isWebStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount++\n        pumpToWeb(makeAsyncIterable(ret), stream, finish, {\n          end\n        })\n      } else if (isReadableStream(ret) || isIterable(ret)) {\n        finishCount++\n        pumpToWeb(ret, stream, finish, {\n          end\n        })\n      } else if (isTransformStream(ret)) {\n        finishCount++\n        pumpToWeb(ret.readable, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n  return ret\n}\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end: false\n  }) // If end is true we already will have a listener to end dst.\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n\n    function endFn() {\n      ended = true\n      dst.end()\n    }\n    if (isReadableFinished(src)) {\n      // End the destination if the source has already ended.\n      process.nextTick(endFn)\n    } else {\n      src.once('end', endFn)\n    }\n  } else {\n    finish()\n  }\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n", "'use strict'\n\nconst { pipeline } = require('./pipeline')\nconst Duplex = require('./duplex')\nconst { destroyer } = require('./destroy')\nconst {\n  isNodeStream,\n  isReadable,\n  isWritable,\n  isWebStream,\n  isTransformStream,\n  isWritableStream,\n  isReadableStream\n} = require('./utils')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\nconst eos = require('./end-of-stream')\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n  const orgStreams = [...streams]\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n]) && !isWebStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n    if (\n      n < streams.length - 1 &&\n      !(isReadable(streams[n]) || isReadableStream(streams[n]) || isTransformStream(streams[n]))\n    ) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n    if (n > 0 && !(isWritable(streams[n]) || isWritableStream(streams[n]) || isTransformStream(streams[n]))) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!(isWritable(head) || isWritableStream(head) || isTransformStream(head))\n  const readable = !!(isReadable(tail) || isReadableStream(tail) || isTransformStream(tail))\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.readableObjectMode),\n    writable,\n    readable\n  })\n  if (writable) {\n    if (isNodeStream(head)) {\n      d._write = function (chunk, encoding, callback) {\n        if (head.write(chunk, encoding)) {\n          callback()\n        } else {\n          ondrain = callback\n        }\n      }\n      d._final = function (callback) {\n        head.end()\n        onfinish = callback\n      }\n      head.on('drain', function () {\n        if (ondrain) {\n          const cb = ondrain\n          ondrain = null\n          cb()\n        }\n      })\n    } else if (isWebStream(head)) {\n      const writable = isTransformStream(head) ? head.writable : head\n      const writer = writable.getWriter()\n      d._write = async function (chunk, encoding, callback) {\n        try {\n          await writer.ready\n          writer.write(chunk).catch(() => {})\n          callback()\n        } catch (err) {\n          callback(err)\n        }\n      }\n      d._final = async function (callback) {\n        try {\n          await writer.ready\n          writer.close().catch(() => {})\n          onfinish = callback\n        } catch (err) {\n          callback(err)\n        }\n      }\n    }\n    const toRead = isTransformStream(tail) ? tail.readable : tail\n    eos(toRead, () => {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    if (isNodeStream(tail)) {\n      tail.on('readable', function () {\n        if (onreadable) {\n          const cb = onreadable\n          onreadable = null\n          cb()\n        }\n      })\n      tail.on('end', function () {\n        d.push(null)\n      })\n      d._read = function () {\n        while (true) {\n          const buf = tail.read()\n          if (buf === null) {\n            onreadable = d._read\n            return\n          }\n          if (!d.push(buf)) {\n            return\n          }\n        }\n      }\n    } else if (isWebStream(tail)) {\n      const readable = isTransformStream(tail) ? tail.readable : tail\n      const reader = readable.getReader()\n      d._read = async function () {\n        while (true) {\n          try {\n            const { value, done } = await reader.read()\n            if (!d.push(value)) {\n              return\n            }\n            if (done) {\n              d.push(null)\n              return\n            }\n          } catch {\n            return\n          }\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      if (isNodeStream(tail)) {\n        destroyer(tail, err)\n      }\n    }\n  }\n  return d\n}\n", "'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst {\n  codes: { ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\nconst kResistStopPropagation = require('../../ours/primordials').Symbol('kResistStopPropagation')\nconst { finished } = require('./end-of-stream')\nconst staticCompose = require('./compose')\nconst { addAbortSignalNoValidate } = require('./add-abort-signal')\nconst { isWritable, isNodeStream } = require('./utils')\nconst { deprecate } = require('../../ours/util')\nconst {\n  ArrayPrototypePush,\n  Boolean,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromiseResolve,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\nfunction compose(stream, options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  if (isNodeStream(stream) && !isWritable(stream)) {\n    throw new ERR_INVALID_ARG_VALUE('stream', stream, 'must be writable')\n  }\n  const composedStream = staticCompose(this, stream)\n  if (options !== null && options !== undefined && options.signal) {\n    // Not validating as we already validated before\n    addAbortSignalNoValidate(options.signal, composedStream)\n  }\n  return composedStream\n}\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let concurrency = 1\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n  let highWaterMark = concurrency - 1\n  if ((options === null || options === undefined ? undefined : options.highWaterMark) != null) {\n    highWaterMark = MathFloor(options.highWaterMark)\n  }\n  validateInteger(concurrency, 'options.concurrency', 1)\n  validateInteger(highWaterMark, 'options.highWaterMark', 0)\n  highWaterMark += concurrency\n  return async function* map() {\n    const signal = require('../../ours/util').AbortSignalAny(\n      [options === null || options === undefined ? undefined : options.signal].filter(Boolean)\n    )\n    const stream = this\n    const queue = []\n    const signalOpt = {\n      signal\n    }\n    let next\n    let resume\n    let done = false\n    let cnt = 0\n    function onCatch() {\n      done = true\n      afterItemProcessed()\n    }\n    function afterItemProcessed() {\n      cnt -= 1\n      maybeResume()\n    }\n    function maybeResume() {\n      if (resume && !done && cnt < concurrency && queue.length < highWaterMark) {\n        resume()\n        resume = null\n      }\n    }\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          if (done) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          try {\n            val = fn(val, signalOpt)\n            if (val === kEmpty) {\n              continue\n            }\n            val = PromiseResolve(val)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n          cnt += 1\n          PromisePrototypeThen(val, afterItemProcessed, onCatch)\n          queue.push(val)\n          if (next) {\n            next()\n            next = null\n          }\n          if (!done && (queue.length >= highWaterMark || cnt >= concurrency)) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, afterItemProcessed, onCatch)\n        queue.push(val)\n      } finally {\n        done = true\n        if (next) {\n          next()\n          next = null\n        }\n      }\n    }\n    pump()\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n          if (val === kEof) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          if (val !== kEmpty) {\n            yield val\n          }\n          queue.shift()\n          maybeResume()\n        }\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      done = true\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  return async function* asIndexedPairs() {\n    let index = 0\n    for await (const val of this) {\n      var _options$signal\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal = options.signal) !== null &&\n        _options$signal !== undefined &&\n        _options$signal.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n      yield [index++, val]\n    }\n  }.call(this)\n}\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n  return false\n}\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n  return undefined\n}\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  }\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of map.call(this, forEachFn, options));\n}\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n    return kEmpty\n  }\n  return map.call(this, filterFn, options)\n}\n\n// Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal2\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let hasInitialValue = arguments.length > 1\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal2 = options.signal) !== null &&\n    _options$signal2 !== undefined &&\n    _options$signal2.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n    await finished(this.destroy(err))\n    throw err\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this,\n      [kResistStopPropagation]: true\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n  let gotAnyItemFromStream = false\n  try {\n    for await (const value of this) {\n      var _options$signal3\n      gotAnyItemFromStream = true\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal3 = options.signal) !== null &&\n        _options$signal3 !== undefined &&\n        _options$signal3.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n  return initialValue\n}\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  const result = []\n  for await (const val of this) {\n    var _options$signal4\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal4 = options.signal) !== null &&\n      _options$signal4 !== undefined &&\n      _options$signal4.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n    ArrayPrototypePush(result, val)\n  }\n  return result\n}\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n  return number\n}\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal5\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal5 = options.signal) !== null &&\n      _options$signal5 !== undefined &&\n      _options$signal5.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal6\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal7\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal8\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal8 = options.signal) !== null &&\n        _options$signal8 !== undefined &&\n        _options$signal8.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- > 0) {\n        yield val\n      }\n\n      // Don't get another item from iterator in case we reached the end\n      if (number <= 0) {\n        return\n      }\n    }\n  }.call(this)\n}\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs: deprecate(asIndexedPairs, 'readable.asIndexedPairs will be removed in a future version.'),\n  drop,\n  filter,\n  flatMap,\n  map,\n  take,\n  compose\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n", "'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n", "/* replacement start */\n\nconst { Buffer } = require('buffer')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\nconst compose = require('./internal/streams/compose')\nconst { setDefaultHighWaterMark, getDefaultHighWaterMark } = require('./internal/streams/state')\nconst { pipeline } = require('./internal/streams/pipeline')\nconst { destroyer } = require('./internal/streams/destroy')\nconst eos = require('./internal/streams/end-of-stream')\nconst internalBuffer = {}\nconst promises = require('./stream/promises')\nconst utils = require('./internal/streams/utils')\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\nStream.isDestroyed = utils.isDestroyed\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.isWritable = utils.isWritable\nStream.Readable = require('./internal/streams/readable')\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return ReflectApply(op, this, args)\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nStream.setDefaultHighWaterMark = setDefaultHighWaterMark\nStream.getDefaultHighWaterMark = getDefaultHighWaterMark\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.finished\n  }\n})\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n", "'use strict'\n\nconst CustomStream = require('../stream')\nconst promises = require('../stream/promises')\nconst originalDestroy = CustomStream.Readable.destroy\nmodule.exports = CustomStream.Readable\n\n// Explicit export naming is needed for ESM\nmodule.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\nmodule.exports._isUint8Array = CustomStream._isUint8Array\nmodule.exports.isDisturbed = CustomStream.isDisturbed\nmodule.exports.isErrored = CustomStream.isErrored\nmodule.exports.isReadable = CustomStream.isReadable\nmodule.exports.Readable = CustomStream.Readable\nmodule.exports.Writable = CustomStream.Writable\nmodule.exports.Duplex = CustomStream.Duplex\nmodule.exports.Transform = CustomStream.Transform\nmodule.exports.PassThrough = CustomStream.PassThrough\nmodule.exports.addAbortSignal = CustomStream.addAbortSignal\nmodule.exports.finished = CustomStream.finished\nmodule.exports.destroy = CustomStream.destroy\nmodule.exports.destroy = originalDestroy\nmodule.exports.pipeline = CustomStream.pipeline\nmodule.exports.compose = CustomStream.compose\nObject.defineProperty(CustomStream, 'promises', {\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nmodule.exports.Stream = CustomStream.Stream\n\n// Allow default importing\nmodule.exports.default = module.exports\n", "\n// keep reference to original JSON.stringify, in case someone monkeypatches it\nconst jsonStringify = JSON.stringify\n\nexport const stringify = (value, replacer=null, space=\"\") => {\n\n\tlet references = new WeakMap()\n\n\tlet indent = \"\"\n\tlet gap = \"\"\n\n\tif (typeof space === \"number\") {\n\t\tindent += \" \".repeat(space)\n\t} else if (typeof space === \"string\") {\n\t\tindent = space\n\t}\n\n\tif (replacer && typeof replacer !== \"function\" && (\n        typeof replacer !== \"object\"\n        || typeof replacer.length !== \"number\"\n    )) {\n        throw new Error(\"JSONTag.stringify\");\n    }\n\n\tconst encodeProperties = (obj) => {\n\t\tlet mind = gap\n\t\tgap += indent\n\t\tlet gapstart = \"\"\n\t\tlet gapend = \"\"\n\t\tlet keys = Object.keys(obj)\n\t\tif (Array.isArray(replacer)) {\n\t\t\tkeys = keys.filter(key => replacer.indexOf(key)!==-1)\n\t\t} \n\t\tif (gap) {\n\t\t\tgapstart =\"\\n\"+gap\n\t\t\tgapend = \"\\n\"+mind\n\t\t}\n\t\tlet result = gapstart+keys.map(prop => {\n\t\t\treturn '\"'+prop+'\":'+str(prop, obj)\n\t\t}).join(\",\"+gapstart)+gapend\n\t\tgap = mind\n\t\treturn result\n\t}\n\n\tconst encodeEntries = (arr) => {\n\t\tlet mind = gap\n\t\tgap += indent\n\t\tlet gapstart = \"\"\n\t\tlet gapend = \"\"\n\t\tif (gap) {\n\t\t\tgapstart = \"\\n\"+gap\n\t\t\tgapend = \"\\n\"+mind\n\t\t}\n\t\tlet result = gapstart+arr.map((value,index) => {\n\t\t\treturn str(index, arr)\n\t\t}).join(\",\"+gapstart)+gapend\n\t\tgap = mind\n\t\treturn result\n\t}\n\n\tconst str = (key, holder) => {\n\t\tlet value = holder[key]\n\t\tif (typeof replacer === 'function' && key!=='') {\n\t\t\tvalue = replacer.call(holder, key, value)\n\t\t}\n\t\tif (typeof value === 'object' && references.has(value)) {\n\t\t\tlet id = getAttribute(value, 'id')\n\t\t\tif (!id) {\n\t\t\t\tid = createId(value)\n\t\t\t}\n\t\t\treturn '<link>\"'+id+'\"'\n\t\t}\n\t\tif (typeof value === 'undefined' || value === null) {\n\t\t\treturn 'null'\n\t\t}\n\t\tif (typeof value === 'object') {\n\t\t\treferences.set(value, true)\n\t\t}\n\t\tif (typeof value.toJSONTag == 'function') {\n\t\t\treturn value.toJSONTag(references, replacer, space)\n\t\t} else if (Array.isArray(value)) {\n\t\t\treturn getTypeString(value) + \"[\"+encodeEntries(value)+\"]\"\n\t\t} else if (value instanceof Object) {\n\t\t\tswitch (getType(value)) {\n\t\t\t\tcase 'string':\n\t\t\t\tcase 'decimal':\n\t\t\t\tcase 'money':\n\t\t\t\tcase 'link':\n\t\t\t\tcase 'text':\n\t\t\t\tcase 'blob':\n\t\t\t\tcase 'color':\n\t\t\t\tcase 'email':\n\t\t\t\tcase 'hash':\n\t\t\t\tcase 'duration':\n\t\t\t\tcase 'phone':\n\t\t\t\tcase 'url':\n\t\t\t\tcase 'uuid':\n\t\t\t\tcase 'date':\n\t\t\t\tcase 'time':\n\t\t\t\tcase 'datetime':\n\t\t\t\t\treturn getTypeString(value) + jsonStringify(''+value, replacer, space)\n\t\t\t\tbreak\n\t\t\t\tcase 'int':\n\t\t\t\tcase 'uint':\n\t\t\t\tcase 'int8':\n\t\t\t\tcase 'uint8':\n\t\t\t\tcase 'int16':\n\t\t\t\tcase 'uint16':\n\t\t\t\tcase 'int32':\n\t\t\t\tcase 'uint32':\n\t\t\t\tcase 'int64':\n\t\t\t\tcase 'uint64':\n\t\t\t\tcase 'float':\n\t\t\t\tcase 'float32':\n\t\t\t\tcase 'float64':\n\t\t\t\tcase 'timestamp':\n\t\t\t\tcase 'number':\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn getTypeString(value) + jsonStringify(value, replacer, space)\n\t\t\t\tbreak\n\t\t\t\tcase 'array': \n\t\t\t\t\tlet entries = encodeEntries(value) // calculate children first so parent references can add id attribute\n\t\t\t\t\treturn getTypeString(value) + '[' + entries + '}'\n\t\t\t\tbreak\n\t\t\t\tcase 'object': \n\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\treturn \"null\"\n\t\t\t\t\t}\n\t\t\t\t\tlet props = encodeProperties(value); // calculate children first so parent references can add id attribute\n\t\t\t\t\treturn getTypeString(value) + '{' + props + '}'\n\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(getType(value)+' type not yet implemented')\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else {\n\t\t\treturn jsonStringify(value, replacer, space)\n\t\t}\n\t}\n\n\treturn str(\"\", {\"\": value})\n}\n\nfunction createId(value) {\n\tif (typeof crypto === 'undefined') {\n\t\tconsole.error('JSONTag: cannot generate uuid, crypto support is disabled.')\n\t\tthrow new Error('Cannot create links to resolve references, crypto support is disabled')\n\t}\n\tif (typeof crypto.randomUUID === 'function') {\n\t\tvar id = crypto.randomUUID()\n\t} else {\n\t\tvar id = ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n\t\t\t(c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n\t\t);\n\t}\n\tsetAttribute(value, 'id', id)\n\treturn id\n}\n\nexport const isNull = (v) => {\n\tlet result = (v === null) || (typeof v.isNull !== 'undefined' && v.isNull)\n\treturn result\n}\n\nif (!globalThis.JSONTagTypeInfo) {\n\tglobalThis.JSONTagTypeInfo = new WeakMap()\n}\nconst typeInfo = globalThis.JSONTagTypeInfo\n\nexport const getType = (obj) => {\n\tif (typeInfo.has(obj)) {\n\t\tlet info = typeInfo.get(obj)\n\t\tif (info.type) {\n\t\t\treturn info.type\n\t\t}\n\t}\n\tif (Array.isArray(obj)) {\n\t\treturn 'array'\n\t}\n\treturn typeof obj\n}\n\nexport const types = [\n\t'object','array','string','number','boolean',\t\t\t\t// JSON\n\t'decimal','money','uuid','url','link','date','time','datetime', 'duration', 'timestamp',\n\t'text', 'blob', 'color', 'email', 'hash', 'phone',\n\t'int', 'int8', 'int16', 'int32', 'int64',\n\t'uint', 'uint8', 'uint16', 'uint32', 'uint64',\n\t'float', 'float32', 'float64'\n]\n\nexport const setType = (obj, type) => {\n\tif (typeof obj !== 'object') {\n\t\tthrow new TypeError('JSONTag can only add attributes to objects, convert literals to objects first')\n\t}\n\tlet info = {}\n\tif (typeInfo.has(obj)) {\n\t\tinfo = typeInfo.get(obj)\n\t}\n\tif (!types.includes(type)) {\n\t\tthrow new TypeError('unknown type '+type)\n\t}\n\tinfo.type = type\n\tif (typeof info.attributes === 'undefined') {\n\t\tinfo.attributes = {}\n\t}\n\ttypeInfo.set(obj, info)\n}\n\nexport const setAttribute = (obj, attr, value) => {\n\tif (typeof obj !== 'object') {\n\t\tthrow new TypeError('JSONTag can only add attributes to objects, convert literals to objects first')\n\t}\n\tif (Array.isArray(value)) {\n\t\tvalue = value.join(' ')\n\t}\n\tif (typeof value !== 'string') {\n\t\tthrow new TypeError('attribute values must be a string or an array of strings')\n\t}\n\tif (value.indexOf('\"')!==-1) {\n\t\tthrow new TypeError('attribute values must not contain \" character')\n\t}\n\tif (value.indexOf(' ')!==-1) {\n\t\tvalue = value.split(\" \")\n\t}\n\tlet info = typeInfo.get(obj) || { attributes: {}}\n\tinfo.attributes[attr] = value\n\ttypeInfo.set(obj, info)\n}\n\nexport const setAttributes = (obj, attributes) => {\n\tif (typeof obj !== 'object') {\n\t\tthrow new TypeError('JSONTag can only add attributes to objects, convert literals to objects first')\n\t}\n\tif (typeof attributes !== 'object') {\n\t\tthrow new TypeError('attributes param must be an object')\n\t}\n\tObject.keys(attributes).forEach(key => {\n\t\tsetAttribute(obj, key, attributes[key])\n\t})\n}\n\nexport const getAttribute = (obj, attr) => {\n\tlet info = typeInfo.get(obj) || { attributes: {}}\n\treturn info.attributes[attr]\n}\n\nexport const addAttribute = (obj, attr, value) => {\n\tif (typeof value !== 'string') {\n\t\tthrow new TypeError('attribute values must be a string')\n\t}\n\tif (value.indexOf('\"')!==-1) {\n\t\tthrow new TypeError('attribute values must not contain \" characters')\n\t}\t\n\tlet info = typeInfo.get(obj) || { attributes: {}}\n\tif (typeof info.attributes[attr] === 'undefined') {\n\t\tsetAttribute(obj, attr, value)\n\t} else {\n\t\tif (!Array.isArray(info.attributes[attr])) {\n\t\t\tinfo.attributes[attr] = [ info.attributes[attr] ]\n\t\t}\n\t\tif (value.indexOf(' ')!==-1) {\n\t\t\tvalue = value.split(\" \")\n\t\t} else {\n\t\t\tvalue = [ value ]\n\t\t}\n\t\tinfo.attributes[attr] = info.attributes[attr].concat(value)\n\t\ttypeInfo.set(obj, info)\n\t}\n}\n\nexport const removeAttribute = (obj, attr) => {\n\tlet info = typeInfo.get(obj) || { attributes: {}}\n\tif ( typeof info.attributes[attr] !== 'undefined') {\n\t\tdelete info.attributes[attr]\n\t\ttypeInfo.set(obj, info)\n\t}\n}\n\nexport const getAttributes = (obj) => {\n\tlet info = typeInfo.get(obj) || { attributes: {}}\n\treturn Object.assign({},info.attributes)\n}\n\nexport const getAttributesString = (obj) => {\n\treturn Object.entries(getAttributes(obj))\n\t\t.map(([attr, attrValue]) => {\n\t\t\tif (Array.isArray(attrValue)) {\n\t\t\t\tattrValue = attrValue.join(' ')\n\t\t\t}\t\n\t\t\treturn attr+'=\"'+attrValue+'\"'\n\t\t})\n\t\t.join(' ')\n}\n\nexport const getTypeString = (obj) => {\n\tlet type = getType(obj)\n\tlet attributes = getAttributes(obj)\n\tlet attributesString = Object.entries(attributes)\n\t\t.map(([attr, attrValue]) => {\n\t\t\tif (Array.isArray(attrValue)) {\n\t\t\t\tattrValue = attrValue.join(' ')\n\t\t\t}\t\n\t\t\treturn attr+'=\"'+attrValue+'\"'\n\t\t})\n\t\t.join(' ')\n\tif (!attributesString) {\n\t\tif (['object','array','string','number','boolean'].indexOf(type)!==-1) {\n\t\t\ttype = ''\n\t\t}\n\t}\n\tif (type || attributesString) {\n\t\treturn '<' + [type, attributesString].filter(Boolean).join(' ') + '>'\n\t} else {\n\t\treturn '';\n\t}\n}\n\nfunction shallowClone(o) {\n\tif (o instanceof Number) {\n\t\treturn new Number(o)\n\t}\n\tif (o instanceof Boolean) {\n\t\treturn new Boolean(o)\n\t}\n\tif (o instanceof String) {\n\t\treturn new String(o)\n\t}\n\tif (Array.isArray(o)) {\n\t\treturn [ ...o ]\n\t}\n\treturn { ...o }\n}\n\nexport const clone = (obj) => {\n\tlet typeString = getTypeString(obj)\n\tlet type = getType(obj)\n\tlet attributes = getAttributes(obj)\n\tlet clone = shallowClone(obj)\n\tif (typeString) {\n\t\tsetType(clone, type)\n\t\tif (attributes) {\n\t\t\tsetAttributes(clone, attributes)\n\t\t}\n\t}\n\treturn clone\n}", "import { getAttributesString, setType } from \"./functions.mjs\"\n\nexport default class Link {\n\t#url;\n\n\tconstructor(url)\n\t{\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new Error('not a url:',url)\n\t\t}\n\t\tthis.#url = ''+url\n\t\tsetType(this, 'link')\n\t}\n\n\tstatic from(url)\n\t{\n\t\tif (url instanceof Link) {\n\t\t\treturn url\n\t\t}\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new Error('not a url:',url)\n\t\t}\n\t\treturn new Link(url)\n\t}\n\n\tget value()\n\t{\n\t\treturn this.#url\n\t}\n\n\ttoString()\n\t{\n\t\treturn this.#url\n\t}\n\n\ttoJSON()\n\t{\n\t\treturn '\"'+this.#url+'\"'\n\t}\n\n\ttoJSONTag()\n\t{\n\t\tlet attributes = getAttributesString(this)\n\t\treturn '<link'+(attributes ? ' ' + attributes : '')+'>'+this.toJSON()\n\t}\n\n}", "import { getTypeString } from \"./functions.mjs\"\n\nclass ExtendableProxy {\n\tconstructor()\n\t{\n\t\treturn new Proxy(this,{\n\t\t\tget: (target,name) => {\n\t\t\t\tif (typeof target[name] !== 'undefined') {\n\t\t\t\t\treturn target[name]\n\t\t\t\t}\n\t\t\t\tif (name == 'then') {\n\t\t\t\t\treturn undefined\n\t\t\t\t}\n\t\t\t\tconsole.error('Attempting to get from Null', name, typeof name, JSON.stringify(name))\n\t\t\t\tthrow new Error('Attempting to get '+name+' from Null')\n\t\t\t},\n\t\t\tset: (target,name,newValue) => {\n\t\t\t\tconsole.error('Attempting to set '+name+' in Null to',newValue)\n\t\t\t\tthrow new Error('Attempting to set '+name+' in Null')\t\n\t\t\t}\n\t\t})\n\t}\n\n}\n\nexport default class Null extends ExtendableProxy {\n\n\tisNull = true;\n\n\ttoString()\n\t{\n\t\treturn ''\n\t}\n\n\ttoJSON()\n\t{\n\t\treturn 'null'\n\t}\n\n\ttoJSONTag()\n\t{\n\t\tlet type = getTypeString(this)\n\t\treturn type+this.toJSON()\n\t}\n\n}", "// non streaming handbuilt jsontag parser\nimport * as JSONTag from './functions.mjs'\nimport Null from './Null.mjs'\n\nexport default function parse(input, reviver, meta)\n{\n    if (!meta) {\n        meta = {}\n    }\n    if (!meta.index) {\n        meta.index = {}\n    }\n    if (!meta.index.id) {\n        meta.index.id = new Map()\n    }\n    if (!meta.unresolved) {\n        meta.unresolved = new Map()\n    }\n    if (!meta.baseURL) {\n        meta.baseURL = 'http://localhost/'\n    }\n\n    let at, ch, value, result;\n    let escapee = {\n        '\"': '\"',\n        \"\\\\\":\"\\\\\",\n        '/': '/',\n        b: \"\\b\",\n        f: \"\\f\",\n        n: \"\\n\",\n        r: \"\\r\",\n        t: \"\\t\"\n    }\n\n    let error = function(m)\n    {\n        let context = input.substring(at-100,at+100)\n        throw {\n            name: 'SyntaxError',\n            message: m,\n            at: at,\n            input: context\n        }\n    }\n\n    let next = function(c)\n    {\n        if (c && c!==ch) {\n            error(\"Expected '\"+c+\"' instead of '\"+ch+\"'\")\n        }\n        ch = input.charAt(at)\n        at+=1\n        return ch\n    }\n    \n    let number = function(tagName)\n    {\n        let numString = ''\n        if (ch==='-') {\n            numString = '-'\n            next('-')\n        }\n        while(ch>='0' && ch<='9') {\n            numString += ch\n            next()\n        }\n        if (ch==='.') {\n            numString+='.'\n            while(next() && ch >= '0' && ch <= '9') {\n                numString += ch\n            }\n        }\n        if (ch === 'e' || ch === 'E') {\n            numString += ch\n            next()\n            if (ch === '-' || ch === '+') {\n                numString += ch\n                next()\n            }\n            while (ch >= '0' && ch <= '9') {\n                numString += ch\n                next()\n            }\n        }\n        let result = new Number(numString).valueOf()\n        if (tagName) {\n            switch(tagName) {\n                case \"int\":\n                    isInt(numString)\n                    break\n                case \"uint\":\n                    isInt(numString, [0,Infinity])\n                    break\n                case \"int8\":\n                    isInt(numString, [-128,127])\n                    break\n                case \"uint8\":\n                    isInt(numString, [0,255])\n                    break\n                case \"int16\":\n                    isInt(numString, [-32768,32767])\n                    break\n                case \"uint16\":\n                    isInt(numString, [0,65535])\n                    break\n                case \"int32\":\n                    isInt(numString, [-2147483648, 2147483647])\n                    break\n                case \"uint32\":\n                    isInt(numString, [0,4294967295])\n                    break\n                case \"timestamp\":\n                case \"int64\":\n                    isInt(numString, [-9223372036854775808,9223372036854775807])\n                    break\n                case \"uint64\":\n                    isInt(numString, [0,18446744073709551615])\n                    break\n                case \"float\":\n                    isFloat(numString)\n                    break\n                case \"float32\":\n                    isFloat(numString, [-3.4e+38,3.4e+38])\n                    break\n                case \"float64\":\n                    isFloat(numString, [-1.7e+308,+1.7e+308])\n                    break\n                case \"number\":\n                    //FIXME: what to check? should already be covered by JSON parsing rules?\n                    break\n                default:\n                    isTypeError(tagName, numString)\n                    break\n            }\n        }\n        return result\n    }\n\n    let isTypeError = function(type, value)\n    {\n        error('Syntax error, expected '+type+', got: '+value)\n    }\n\n    const regexes = {\n        color: /^(rgb|hsl)a?\\((\\d+%?(deg|rad|grad|turn)?[,\\s]+){2,3}[\\s\\/]*[\\d\\.]+%?\\)$/i,\n        email: /^[A-Za-z0-9_!#$%&'*+\\/=?`{|}~^.-]+@[A-Za-z0-9.-]+$/,\n        uuid:  /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n        decimal: /^\\d*\\.?\\d*$/,\n        money: /^[A-Z]+\\$\\d*\\.?\\d*$/,\n        duration: /^(-?)P(?=\\d|T\\d)(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)([DW]))?(?:T(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+(?:\\.\\d+)?)S)?)?$/,\n        phone: /^[+]?(?:\\(\\d+(?:\\.\\d+)?\\)|\\d+(?:\\.\\d+)?)(?:[ -]?(?:\\(\\d+(?:\\.\\d+)?\\)|\\d+(?:\\.\\d+)?))*(?:[ ]?(?:x|ext)\\.?[ ]?\\d{1,5})?$/,\n        time: /^(\\d{2}):(\\d{2})(?::(\\d{2}(?:\\.\\d+)?))?$/,\n        date: /^-?[1-9][0-9]{3,}-([0][1-9]|[1][0-2])-([1-2][0-9]|[0][1-9]|[3][0-1])$/,\n        datetime: /^(\\d{4,})-(\\d{2})-(\\d{2})[T ](\\d{2}):(\\d{2})(?::(\\d{2}(?:\\.\\d+)?))?Z?$/,\n        range: /^\\[-?(\\d+\\.)?\\d+\\,-?(\\d+\\.)?\\d+\\]$/\n    }\n\n    let isFloat = function(float, range)\n    {\n        let test = new Number(parseFloat(float))\n        let str = test.toString()\n        if (float!==str) {\n            error('Syntax Error: expected float value')\n        }\n        if (range) {\n            if (typeof range[0] === 'number') {\n                if (test<range[0]) {\n                    error('Syntax Error: float value out of range')\n                }\n            }\n            if (typeof range[1] === 'number') {\n                if (test>range[1]) {\n                    error('Syntax Error: float value out of range')    \n                }\n            }\n        }\n    }\n    \n    let isInt = function(int, range)\n    {\n        let test = new Number(parseInt(int))\n        let str = test.toString()\n        if (int!==str) {\n            error('Syntax Error: expected integer value')\n        }\n        if (range) {\n            if (typeof range[0] === 'number') {\n                if (test<range[0]) {\n                    error('Syntax Error: integer value out of range')\n                }\n            }\n            if (typeof range[1] === 'number') {\n                if (test>range[1]) {\n                    error('Syntax Error: integer value out of range')    \n                }\n            }\n        }\n    }\n\n    let isColor = function(color)\n    {\n        let result = false\n        if (color.charAt(0) === \"#\") {\n            color = color.substring(1)\n            result = ([3, 4, 6, 8].indexOf(color.length) > -1) && !isNaN(parseInt(color, 16))\n            if (result.toString(16)!==color) {\n                isTypeError('color', color)\n            }\n        } else {\n            result = regexes.color.test(color)\n        }\n        if (!result) {\n            isTypeError('color',color)\n        }\n        return true\n    }\n\n    let isEmail = function(email)\n    {\n        let result = regexes.email.test(email)\n        if (!result) {\n            isTypeError('email',email)\n        }\n        return true\n    }\n\n    let isUuid = function(uuid)\n    {\n        let result = regexes.uuid.test(uuid)\n        if (!result) {\n            isTypeError('uuid',uuid)\n        }\n        return true\n    }\n\n    let isDecimal = function(decimal)\n    {\n        let result = regexes.decimal.test(decimal)\n        if (!result) {\n            isTypeError('decimal',decimal)\n        }\n        return true\n    }\n\n    let isMoney = function(money)\n    {\n        let result = regexes.money.test(money)\n        if (!result) {\n            isTypeError('money',money)\n        }\n        return true\n    }\n    \n    let isUrl = function(url)\n    {\n        try {\n            return Boolean(new URL(url, meta.baseURL))\n        } catch(e) {\n            console.log(e)\n            isTypeError('url',url)\n        }\n    }\n    \n    let isDuration = function(duration)\n    {\n        let result = regexes.duration.test(duration)\n        if (!result) {\n            isTypeError('duration',duration)\n        }\n        return true\n    }\n    \n    let isPhone = function(phone)\n    {\n        let result = regexes.phone.test(phone)\n        if (!result) {\n            isTypeError('phone',phone)\n        }\n        return true\n    }\n    \n    let isRange = function(range)\n    {\n        let result = regexes.range.test(range)\n        if (!result) {\n            isTypeError('range',range)\n        }\n        return true\n    }\n    \n    let isTime = function(time)\n    {\n        let result = regexes.time.test(time)\n        if (!result) {\n            isTypeError('time',time)\n        }\n        return true\n    }\n    \n    let isDate = function(date)\n    {\n        let result = regexes.date.test(date)\n        if (!result) {\n            isTypeError('date',date)\n        }\n        return true\n    }\n    \n    let isDatetime = function(datetime)\n    {\n        let result = regexes.datetime.test(datetime)\n        if (!result) {\n            isTypeError('datetime',datetime)\n        }\n        return true\n    }\n\n    let checkStringType = function(tagName, value)\n    {\n        if (!tagName) {\n            return\n        }\n        switch(tagName){\n            case \"object\":\n            case \"array\":\n            case \"int8\":\n            case \"uint8\":\n            case \"int16\":\n            case \"uint16\":\n            case \"int32\":\n            case \"uint32\":\n            case \"int64\":\n            case \"uint64\":\n            case \"int\":\n            case \"uint\":\n            case \"float32\":\n            case \"float64\":\n            case \"float\":\n            case \"timestamp\":\n                isTypeError(tagName, value)\n                break\n            case \"uuid\":\n                return isUuid(value)\n            case \"decimal\":\n                return isDecimal(value)\n            case \"money\":\n                return isMoney(value)\n            case \"url\":\n                return isUrl(value)\n            case \"link\":\n            case \"string\":\n            case \"text\":\n            case \"blob\":\n            case \"hash\":\n                //anything goes\n                return true\n            case \"color\":\n                return isColor(value)\n            case \"email\":\n                return isEmail(value)\n            case \"duration\":\n                return isDuration(value)\n            case \"phone\":\n                return isPhone(value)\n            case \"range\":\n                return isRange(value)\n            case \"time\":\n                return isTime(value)\n            case \"date\":\n                return isDate(value)\n            case \"datetime\":\n                return isDatetime(value)\n        }\n        error('Syntax error: unknown tagName '+tagName)\n    }    \n\n    let string = function(tagName)\n    {\n        let value = \"\", hex, i, uffff;\n        if (ch !== '\"') {\n            error(\"Syntax Error\")\n        }\n        next('\"')\n        while(ch) {\n            if (ch==='\"') {\n                next()\n                checkStringType(tagName, value)\n                return value\n            }\n            if (ch==='\\\\') {\n                next()\n                if (ch==='u') {\n                    uffff=0\n                    for (i=0; i<4; i++) {\n                        hex = parseInt(next(), 16)\n                        if (!isFinite(hex)) {\n                            break\n                        }\n                        uffff = uffff * 16 + hex\n                    }\n                    value += String.fromCharCode(uffff)\n                    next()\n                } else if (typeof escapee[ch] === 'string') {\n                    value += escapee[ch]\n                    next()\n                } else {\n                    break\n                }\n            } else {\n                value += ch\n                next()\n            }\n        }\n        error(\"Syntax error: incomplete string\")\n    }\n\n    let tag = function()\n    {\n        let key, val, tagOb={\n            attributes: {}\n        }\n        if (ch !== '<') {\n            error(\"Syntax Error\")\n        }\n        next('<')\n        key = word()\n        if (!key) {\n            error('Syntax Error: expected tag name')\n        }\n        tagOb.tagName = key\n        whitespace()\n        while(ch) {\n            if (ch==='>') {\n                next('>')\n                return tagOb\n            }\n            key = word()\n            if (!key) {\n                error('Syntax Error: expected attribute name')\n            }\n            whitespace()\n            next('=')\n            whitespace()\n            val = string()\n            tagOb.attributes[key] = val\n            whitespace()\n        }\n        error('Syntax Error: unexpected end of input')\n    }\n\n    let whitespace = function()\n    {\n        while (ch) {\n            switch(ch) {\n                case ' ':\n                case \"\\t\":\n                case \"\\r\":\n                case \"\\n\":\n                    next()\n                break\n                default:\n                    return\n                break\n            }\n        }\n    }\n\n    let word = function()\n    {\n        //[a-z][a-z0-9_]*\n        let val='';\n        if ((ch>='a' && ch<='z') || (ch>='A' && ch<='Z')) {\n            val += ch\n            next()\n        } else {\n            error('Syntax Error: expected word')\n        }\n        while((ch>='a' && ch<='z') || (ch>='A' && ch<='Z') || (ch>='0' && ch<='9') || ch=='_') {\n            val += ch\n            next()\n        }\n        return val\n    }\n\n    let boolOrNull = function(tagName)\n    {\n        let w = word()\n        if (!w || typeof w !== 'string') {\n            error('Syntax error: expected boolean or null, got \"'+w+'\"')\n        }\n        switch(w.toLowerCase()) {\n            case 'true':\n                if (tagName && tagName!=='boolean') {\n                    isTypeError(tagName,w)\n                }\n                return true\n            break\n            case 'false':\n                if (tagName && tagName!=='boolean') {\n                    isTypeError(tagName,w)\n                }\n                return false \n            break\n            case 'null':\n                return null\n            break\n            default:\n                error('Syntax error: expected boolean or null, got \"'+w+'\"')\n            break\n        }\n    }\n\n    let checkUnresolved = function(item, object, key)\n    {\n        if (JSONTag.getType(item)==='link') {\n            let link = ''+item\n            let links = meta.unresolved.get(link)\n            if (typeof links === 'undefined') {\n                meta.unresolved.set(link,[])\n                links = meta.unresolved.get(link)\n            }\n            let count = links.push({\n                src: new WeakRef(object),\n                key: key\n            })\n        }\n    }\n\n    let array = function()\n    {\n        let item, array = []\n        if (ch !== '[') {\n            error(\"Syntax error\")\n        }\n        next('[')\n        whitespace()\n        if (ch===']') {\n            next(']')\n            return array\n        }\n        while(ch) {\n            item = value()\n            checkUnresolved(item, array, array.length)\n            array.push(item)\n            whitespace()\n            if (ch===']') {\n                next(']')\n                return array\n            }\n            next(',')\n            whitespace()\n        }\n        error(\"Input stopped early\")\n    }\n\n    let object = function()\n    {\n        let key, val, object={}\n        if (ch !== '{') {\n            error(\"Syntax Error\")\n        }\n        next('{')\n        whitespace()\n        if (ch==='}') {\n            next('}')\n            return object\n        }\n        while(ch) {\n            key = string()\n            if (key==='__proto__') {\n                error(\"Attempt at prototype pollution\")\n            }\n            whitespace()\n            next(':')\n            val = value()\n            object[key] = val\n            checkUnresolved(val, object, key)\n            whitespace()\n            if (ch==='}') {\n                next('}')\n                return object\n            }\n            next(',')\n            whitespace()\n        }\n        error(\"Input stopped early\")\n    }\n\n    value = function()\n    {\n        let tagOb, result, tagName;\n        whitespace()\n        if (ch==='<') {\n            tagOb = tag()\n            tagName = tagOb.tagName\n            whitespace()\n        }\n        switch(ch) {\n            case '{':\n                if (tagName && tagName!=='object') {\n                    isTypeError(tagName, ch)\n                }\n                result = object()\n            break\n            case '[':\n                if (tagName && tagName!=='array') {\n                    isTypeError(tagName, ch)\n                }\n                result = array()\n            break\n            case '\"':\n                result = string(tagName)\n            break\n            case '-':\n                result = number(tagName)\n            break\n            default:\n                if (ch>='0' && ch<='9') {\n                    result = number(tagName)\n                } else {\n                    result = boolOrNull(tagName)\n                }\n            break\n        }\n        if (tagOb) {\n            if (result === null) {\n                result = new Null()\n            }\n            if (typeof result !== 'object') {\n                switch(typeof result) {\n                    case 'string':\n                        result = new String(result)\n                        break\n                    case 'number':\n                        result = new Number(result)\n                        break\n                    default:\n                        error('Syntax Error: unexpected type '+(typeof result))\n                        break\n                }\n            }\n            if (tagOb.tagName) {\n                JSONTag.setType(result, tagOb.tagName)\n            }\n            if (tagOb.attributes) {\n                JSONTag.setAttributes(result, tagOb.attributes)\n                if (tagOb.attributes?.id) {\n                    meta.index.id.set(tagOb.attributes.id, new WeakRef(result))\n                }\n            }\n        }\n        return result\n    }\n\n    at = 0\n    ch = \" \"\n    result = value()\n    whitespace()\n    if (ch) {\n        error(\"Syntax error\")\n    }\n\n    if (typeof reviver === 'function') {\n        function walk(holder, key)\n        {\n          var k;\n          var v;\n          var value = holder[key];\n          if (value !== null \n                  && typeof value === \"object\" \n                  && !(value instanceof String \n                  || value instanceof Number\n                  || value instanceof Boolean)\n          ) {\n              for (k in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n                      v = walk(value, k);\n                      if (v !== undefined \n                            && ( typeof value[k] === 'undefined' || value[k]!==v) )\n                      {\n                          value[k] = v;\n                          if (JSONTag.getType(v)==='link') {\n                                checkUnresolved(v, value, k)\n                          }\n                      } else if (v === undefined) {\n                          delete value[k];\n                      }\n                  }\n              }\n          }\n          return reviver.call(holder, key, value, meta);\n        }\n        \n        walk({\"\":result}, \"\")\n    }\n\n    let replaceLink = function(u,value)\n    {\n        if (typeof value !== 'undefined') {\n            let src = u.src.deref()\n            if (typeof src!== 'undefined' && JSONTag.getType(src[u.key])==='link') {\n                src[u.key] = value\n                return true\n            }\n        }\n    }\n\n    if (meta.index.id.size>meta.unresolved.size) {\n        meta.unresolved.forEach((links,id) => {\n            let value = meta.index.id.get(id)?.deref()\n            if (value!==undefined) {\n                links.forEach((u,i) => {\n                    if (replaceLink(u,value)) {\n                        delete links[i]\n                    }\n                })\n            }\n        })\n    } else {\n        meta.index.id.forEach((ref,id) => {\n            let value = ref.deref()\n            let links = meta.unresolved.get(id)\n            if (value!==undefined && typeof links !== 'undefined') {\n                links.forEach((u,i) => {\n                    replaceLink(u,value)\n                })\n                meta.unresolved.delete(id)\n            }\n        })\n    }\n    \n    return result\n}", "import Link from './lib/Link.mjs'\nimport Null from './lib/Null.mjs'\n\nimport * as attr from './lib/functions.mjs'\nimport parse from './lib/fast-parse.mjs'\n\nexport default class JSONTag \n{\n\n\tstatic {\n\t\tJSONTag.stringify   = attr.stringify\n\t\tJSONTag.parse       = parse\n\n\t\tJSONTag.getType       = attr.getType\n\t\tJSONTag.setType       = attr.setType\n\t\tJSONTag.getTypeString = attr.getTypeString\n\n\t\tJSONTag.setAttribute        = attr.setAttribute\n\t\tJSONTag.getAttribute        = attr.getAttribute\n\t\tJSONTag.addAttribute        = attr.addAttribute\n\t\tJSONTag.removeAttribute     = attr.removeAttribute\n\t\tJSONTag.getAttributes       = attr.getAttributes\n\t\tJSONTag.setAttributes       = attr.setAttributes\n\t\tJSONTag.getAttributesString = attr.getAttributesString\n\t\t\n\t\tJSONTag.isNull = attr.isNull\n\t\tJSONTag.clone  = attr.clone\n\n\t\tJSONTag.Link = Link\n\t\tJSONTag.Null = Null\n\n\t}\n\n}", "const RDF  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n    XSD  = 'http://www.w3.org/2001/XMLSchema#',\n    SWAP = 'http://www.w3.org/2000/10/swap/';\n\nexport default {\n  xsd: {\n    decimal: `${XSD}decimal`,\n    boolean: `${XSD}boolean`,\n    double:  `${XSD}double`,\n    integer: `${XSD}integer`,\n    string:  `${XSD}string`,\n  },\n  rdf: {\n    type:       `${RDF}type`,\n    nil:        `${RDF}nil`,\n    first:      `${RDF}first`,\n    rest:       `${RDF}rest`,\n    langString: `${RDF}langString`,\n  },\n  owl: {\n    sameAs: 'http://www.w3.org/2002/07/owl#sameAs',\n  },\n  r: {\n    forSome: `${SWAP}reify#forSome`,\n    forAll:  `${SWAP}reify#forAll`,\n  },\n  log: {\n    implies: `${SWAP}log#implies`,\n  },\n};\n", "// **N3Lexer** tokenizes N3 documents.\nimport namespaces from './IRIs';\nimport queueMicrotask from 'queue-microtask';\n\nconst { xsd } = namespaces;\n\n// Regular expression and replacement string to escape N3 strings\nconst escapeSequence = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{8})|\\\\([^])/g;\nconst escapeReplacements = {\n  '\\\\': '\\\\', \"'\": \"'\", '\"': '\"',\n  'n': '\\n', 'r': '\\r', 't': '\\t', 'f': '\\f', 'b': '\\b',\n  '_': '_', '~': '~', '.': '.', '-': '-', '!': '!', '$': '$', '&': '&',\n  '(': '(', ')': ')', '*': '*', '+': '+', ',': ',', ';': ';', '=': '=',\n  '/': '/', '?': '?', '#': '#', '@': '@', '%': '%',\n};\nconst illegalIriChars = /[\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]/;\n\nconst lineModeRegExps = {\n  _iri: true,\n  _unescapedIri: true,\n  _simpleQuotedString: true,\n  _langcode: true,\n  _blank: true,\n  _newline: true,\n  _comment: true,\n  _whitespace: true,\n  _endOfFile: true,\n};\nconst invalidRegExp = /$0^/;\n\n// ## Constructor\nexport default class N3Lexer {\n  constructor(options) {\n    // ## Regular expressions\n    // It's slightly faster to have these as properties than as in-scope variables\n    this._iri = /^<((?:[^ <>{}\\\\]|\\\\[uU])+)>[ \\t]*/; // IRI with escape sequences; needs sanity check after unescaping\n    this._unescapedIri = /^<([^\\x00-\\x20<>\\\\\"\\{\\}\\|\\^\\`]*)>[ \\t]*/; // IRI without escape sequences; no unescaping\n    this._simpleQuotedString = /^\"([^\"\\\\\\r\\n]*)\"(?=[^\"])/; // string without escape sequences\n    this._simpleApostropheString = /^'([^'\\\\\\r\\n]*)'(?=[^'])/;\n    this._langcode = /^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\\-])/i;\n    this._prefix = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:(?=[#\\s<])/;\n    this._prefixed = /^((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)?:((?:(?:[0-:A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])(?:(?:[\\.\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~])*(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff]|%[0-9a-fA-F]{2}|\\\\[!#-\\/;=?\\-@_~]))?)?)(?:[ \\t]+|(?=\\.?[,;!\\^\\s#()\\[\\]\\{\\}\"'<>]))/;\n    this._variable = /^\\?(?:(?:[A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:[\\-0-:A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?=[.,;!\\^\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._blank = /^_:((?:[0-9A-Z_a-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02ff\\u0370-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])(?:\\.?[\\-0-9A-Z_a-z\\xb7\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u037d\\u037f-\\u1fff\\u200c\\u200d\\u203f\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]|[\\ud800-\\udb7f][\\udc00-\\udfff])*)(?:[ \\t]+|(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<>]))/;\n    this._number = /^[\\-+]?(?:(\\d+\\.\\d*|\\.?\\d+)[eE][\\-+]?|\\d*(\\.)?)\\d+(?=\\.?[,;:\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._boolean = /^(?:true|false)(?=[.,;\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._keyword = /^@[a-z]+(?=[\\s#<:])/i;\n    this._sparqlKeyword = /^(?:PREFIX|BASE|GRAPH)(?=[\\s#<])/i;\n    this._shortPredicates = /^a(?=[\\s#()\\[\\]\\{\\}\"'<>])/;\n    this._newline = /^[ \\t]*(?:#[^\\n\\r]*)?(?:\\r\\n|\\n|\\r)[ \\t]*/;\n    this._comment = /#([^\\n\\r]*)/;\n    this._whitespace = /^[ \\t]+/;\n    this._endOfFile = /^(?:#[^\\n\\r]*)?$/;\n    options = options || {};\n\n    // In line mode (N-Triples or N-Quads), only simple features may be parsed\n    if (this._lineMode = !!options.lineMode) {\n      this._n3Mode = false;\n      // Don't tokenize special literals\n      for (const key in this) {\n        if (!(key in lineModeRegExps) && this[key] instanceof RegExp)\n          this[key] = invalidRegExp;\n      }\n    }\n    // When not in line mode, enable N3 functionality by default\n    else {\n      this._n3Mode = options.n3 !== false;\n    }\n    // Don't output comment tokens by default\n    this._comments = !!options.comments;\n    // Cache the last tested closing position of long literals\n    this._literalClosingPos = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_tokenizeToEnd` tokenizes as for as possible, emitting tokens through the callback\n  _tokenizeToEnd(callback, inputFinished) {\n    // Continue parsing as far as possible; the loop will return eventually\n    let input = this._input;\n    let currentLineLength = input.length;\n    while (true) {\n      // Count and skip whitespace lines\n      let whiteSpaceMatch, comment;\n      while (whiteSpaceMatch = this._newline.exec(input)) {\n        // Try to find a comment\n        if (this._comments && (comment = this._comment.exec(whiteSpaceMatch[0])))\n          emitToken('comment', comment[1], '', this._line, whiteSpaceMatch[0].length);\n        // Advance the input\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n        currentLineLength = input.length;\n        this._line++;\n      }\n      // Skip whitespace on current line\n      if (!whiteSpaceMatch && (whiteSpaceMatch = this._whitespace.exec(input)))\n        input = input.substr(whiteSpaceMatch[0].length, input.length);\n\n      // Stop for now if we're at the end\n      if (this._endOfFile.test(input)) {\n        // If the input is finished, emit EOF\n        if (inputFinished) {\n          // Try to find a final comment\n          if (this._comments && (comment = this._comment.exec(input)))\n            emitToken('comment', comment[1], '', this._line, input.length);\n          input = null;\n          emitToken('eof', '', '', this._line, 0);\n        }\n        return this._input = input;\n      }\n\n      // Look for specific token types based on the first character\n      const line = this._line, firstChar = input[0];\n      let type = '', value = '', prefix = '',\n          match = null, matchLength = 0, inconclusive = false;\n      switch (firstChar) {\n      case '^':\n        // We need at least 3 tokens lookahead to distinguish ^^<IRI> and ^^pre:fixed\n        if (input.length < 3)\n          break;\n        // Try to match a type\n        else if (input[1] === '^') {\n          this._previousMarker = '^^';\n          // Move to type IRI or prefixed name\n          input = input.substr(2);\n          if (input[0] !== '<') {\n            inconclusive = true;\n            break;\n          }\n        }\n        // If no type, it must be a path expression\n        else {\n          if (this._n3Mode) {\n            matchLength = 1;\n            type = '^';\n          }\n          break;\n        }\n        // Fall through in case the type is an IRI\n      case '<':\n        // Try to find a full IRI without escape sequences\n        if (match = this._unescapedIri.exec(input))\n          type = 'IRI', value = match[1];\n        // Try to find a full IRI with escape sequences\n        else if (match = this._iri.exec(input)) {\n          value = this._unescape(match[1]);\n          if (value === null || illegalIriChars.test(value))\n            return reportSyntaxError(this);\n          type = 'IRI';\n        }\n        // Try to find a nested triple\n        else if (input.length > 1 && input[1] === '<')\n          type = '<<', matchLength = 2;\n        // Try to find a backwards implication arrow\n        else if (this._n3Mode && input.length > 1 && input[1] === '=')\n          type = 'inverse', matchLength = 2, value = '>';\n        break;\n\n      case '>':\n        if (input.length > 1 && input[1] === '>')\n          type = '>>', matchLength = 2;\n        break;\n\n      case '_':\n        // Try to find a blank node. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a blank node.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if ((match = this._blank.exec(input)) ||\n            inputFinished && (match = this._blank.exec(`${input} `)))\n          type = 'blank', prefix = '_', value = match[1];\n        break;\n\n      case '\"':\n        // Try to find a literal without escape sequences\n        if (match = this._simpleQuotedString.exec(input))\n          value = match[1];\n        // Try to find a literal wrapped in three pairs of quotes\n        else {\n          ({ value, matchLength } = this._parseLiteral(input));\n          if (value === null)\n            return reportSyntaxError(this);\n        }\n        if (match !== null || matchLength !== 0) {\n          type = 'literal';\n          this._literalClosingPos = 0;\n        }\n        break;\n\n      case \"'\":\n        if (!this._lineMode) {\n          // Try to find a literal without escape sequences\n          if (match = this._simpleApostropheString.exec(input))\n            value = match[1];\n          // Try to find a literal wrapped in three pairs of quotes\n          else {\n            ({ value, matchLength } = this._parseLiteral(input));\n            if (value === null)\n              return reportSyntaxError(this);\n          }\n          if (match !== null || matchLength !== 0) {\n            type = 'literal';\n            this._literalClosingPos = 0;\n          }\n        }\n        break;\n\n      case '?':\n        // Try to find a variable\n        if (this._n3Mode && (match = this._variable.exec(input)))\n          type = 'var', value = match[0];\n        break;\n\n      case '@':\n        // Try to find a language code\n        if (this._previousMarker === 'literal' && (match = this._langcode.exec(input)))\n          type = 'langcode', value = match[1];\n        // Try to find a keyword\n        else if (match = this._keyword.exec(input))\n          type = match[0];\n        break;\n\n      case '.':\n        // Try to find a dot as punctuation\n        if (input.length === 1 ? inputFinished : (input[1] < '0' || input[1] > '9')) {\n          type = '.';\n          matchLength = 1;\n          break;\n        }\n        // Fall through to numerical case (could be a decimal dot)\n\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '+':\n      case '-':\n        // Try to find a number. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a number.\n        // Therefore, try inserting a space if we're at the end of the input.\n        if (match = this._number.exec(input) ||\n            inputFinished && (match = this._number.exec(`${input} `))) {\n          type = 'literal', value = match[0];\n          prefix = (typeof match[1] === 'string' ? xsd.double :\n                    (typeof match[2] === 'string' ? xsd.decimal : xsd.integer));\n        }\n        break;\n\n      case 'B':\n      case 'b':\n      case 'p':\n      case 'P':\n      case 'G':\n      case 'g':\n        // Try to find a SPARQL-style keyword\n        if (match = this._sparqlKeyword.exec(input))\n          type = match[0].toUpperCase();\n        else\n          inconclusive = true;\n        break;\n\n      case 'f':\n      case 't':\n        // Try to match a boolean\n        if (match = this._boolean.exec(input))\n          type = 'literal', value = match[0], prefix = xsd.boolean;\n        else\n          inconclusive = true;\n        break;\n\n      case 'a':\n        // Try to find an abbreviated predicate\n        if (match = this._shortPredicates.exec(input))\n          type = 'abbreviation', value = 'a';\n        else\n          inconclusive = true;\n        break;\n\n      case '=':\n        // Try to find an implication arrow or equals sign\n        if (this._n3Mode && input.length > 1) {\n          type = 'abbreviation';\n          if (input[1] !== '>')\n            matchLength = 1, value = '=';\n          else\n            matchLength = 2, value = '>';\n        }\n        break;\n\n      case '!':\n        if (!this._n3Mode)\n          break;\n      case ',':\n      case ';':\n      case '[':\n      case ']':\n      case '(':\n      case ')':\n      case '}':\n        if (!this._lineMode) {\n          matchLength = 1;\n          type = firstChar;\n        }\n        break;\n      case '{':\n        // We need at least 2 tokens lookahead to distinguish \"{|\" and \"{ \"\n        if (!this._lineMode && input.length >= 2) {\n          // Try to find a quoted triple annotation start\n          if (input[1] === '|')\n            type = '{|', matchLength = 2;\n          else\n            type = firstChar, matchLength = 1;\n        }\n        break;\n      case '|':\n        // We need 2 tokens lookahead to parse \"|}\"\n        // Try to find a quoted triple annotation end\n        if (input.length >= 2 && input[1] === '}')\n          type = '|}', matchLength = 2;\n        break;\n\n      default:\n        inconclusive = true;\n      }\n\n      // Some first characters do not allow an immediate decision, so inspect more\n      if (inconclusive) {\n        // Try to find a prefix\n        if ((this._previousMarker === '@prefix' || this._previousMarker === 'PREFIX') &&\n            (match = this._prefix.exec(input)))\n          type = 'prefix', value = match[1] || '';\n        // Try to find a prefixed name. Since it can contain (but not end with) a dot,\n        // we always need a non-dot character before deciding it is a prefixed name.\n        // Therefore, try inserting a space if we're at the end of the input.\n        else if ((match = this._prefixed.exec(input)) ||\n                 inputFinished && (match = this._prefixed.exec(`${input} `)))\n          type = 'prefixed', prefix = match[1] || '', value = this._unescape(match[2]);\n      }\n\n      // A type token is special: it can only be emitted after an IRI or prefixed name is read\n      if (this._previousMarker === '^^') {\n        switch (type) {\n        case 'prefixed': type = 'type';    break;\n        case 'IRI':      type = 'typeIRI'; break;\n        default:         type = '';\n        }\n      }\n\n      // What if nothing of the above was found?\n      if (!type) {\n        // We could be in streaming mode, and then we just wait for more input to arrive.\n        // Otherwise, a syntax error has occurred in the input.\n        // One exception: error on an unaccounted linebreak (= not inside a triple-quoted literal).\n        if (inputFinished || (!/^'''|^\"\"\"/.test(input) && /\\n|\\r/.test(input)))\n          return reportSyntaxError(this);\n        else\n          return this._input = input;\n      }\n\n      // Emit the parsed token\n      const length = matchLength || match[0].length;\n      const token = emitToken(type, value, prefix, line, length);\n      this.previousToken = token;\n      this._previousMarker = type;\n\n      // Advance to next part to tokenize\n      input = input.substr(length, input.length);\n    }\n\n    // Emits the token through the callback\n    function emitToken(type, value, prefix, line, length) {\n      const start = input ? currentLineLength - input.length : currentLineLength;\n      const end = start + length;\n      const token = { type, value, prefix, line, start, end };\n      callback(null, token);\n      return token;\n    }\n    // Signals the syntax error through the callback\n    function reportSyntaxError(self) { callback(self._syntaxError(/^\\S*/.exec(input)[0])); }\n  }\n\n  // ### `_unescape` replaces N3 escape codes by their corresponding characters\n  _unescape(item) {\n    let invalid = false;\n    const replaced = item.replace(escapeSequence, (sequence, unicode4, unicode8, escapedChar) => {\n      // 4-digit unicode character\n      if (typeof unicode4 === 'string')\n        return String.fromCharCode(Number.parseInt(unicode4, 16));\n      // 8-digit unicode character\n      if (typeof unicode8 === 'string') {\n        let charCode = Number.parseInt(unicode8, 16);\n        return charCode <= 0xFFFF ? String.fromCharCode(Number.parseInt(unicode8, 16)) :\n          String.fromCharCode(0xD800 + ((charCode -= 0x10000) >> 10), 0xDC00 + (charCode & 0x3FF));\n      }\n      // fixed escape sequence\n      if (escapedChar in escapeReplacements)\n        return escapeReplacements[escapedChar];\n      // invalid escape sequence\n      invalid = true;\n      return '';\n    });\n    return invalid ? null : replaced;\n  }\n\n  // ### `_parseLiteral` parses a literal into an unescaped value\n  _parseLiteral(input) {\n    // Ensure we have enough lookahead to identify triple-quoted strings\n    if (input.length >= 3) {\n      // Identify the opening quote(s)\n      const opening = input.match(/^(?:\"\"\"|\"|'''|'|)/)[0];\n      const openingLength = opening.length;\n\n      // Find the next candidate closing quotes\n      let closingPos = Math.max(this._literalClosingPos, openingLength);\n      while ((closingPos = input.indexOf(opening, closingPos)) > 0) {\n        // Count backslashes right before the closing quotes\n        let backslashCount = 0;\n        while (input[closingPos - backslashCount - 1] === '\\\\')\n          backslashCount++;\n\n        // An even number of backslashes (in particular 0)\n        // means these are actual, non-escaped closing quotes\n        if (backslashCount % 2 === 0) {\n          // Extract and unescape the value\n          const raw = input.substring(openingLength, closingPos);\n          const lines = raw.split(/\\r\\n|\\r|\\n/).length - 1;\n          const matchLength = closingPos + openingLength;\n          // Only triple-quoted strings can be multi-line\n          if (openingLength === 1 && lines !== 0 ||\n              openingLength === 3 && this._lineMode)\n            break;\n          this._line += lines;\n          return { value: this._unescape(raw), matchLength };\n        }\n        closingPos++;\n      }\n      this._literalClosingPos = input.length - openingLength + 1;\n    }\n    return { value: '', matchLength: 0 };\n  }\n\n  // ### `_syntaxError` creates a syntax error for the given issue\n  _syntaxError(issue) {\n    this._input = null;\n    const err = new Error(`Unexpected \"${issue}\" on line ${this._line}.`);\n    err.context = {\n      token: undefined,\n      line: this._line,\n      previousToken: this.previousToken,\n    };\n    return err;\n  }\n\n  // ### Strips off any starting UTF BOM mark.\n  _readStartingBom(input) {\n    return input.startsWith('\\ufeff') ? input.substr(1) : input;\n  }\n\n  // ## Public methods\n\n  // ### `tokenize` starts the transformation of an N3 document into an array of tokens.\n  // The input can be a string or a stream.\n  tokenize(input, callback) {\n    this._line = 1;\n\n    // If the input is a string, continuously emit tokens through the callback until the end\n    if (typeof input === 'string') {\n      this._input = this._readStartingBom(input);\n      // If a callback was passed, asynchronously call it\n      if (typeof callback === 'function')\n        queueMicrotask(() => this._tokenizeToEnd(callback, true));\n      // If no callback was passed, tokenize synchronously and return\n      else {\n        const tokens = [];\n        let error;\n        this._tokenizeToEnd((e, t) => e ? (error = e) : tokens.push(t), true);\n        if (error) throw error;\n        return tokens;\n      }\n    }\n    // Otherwise, the input must be a stream\n    else {\n      this._pendingBuffer = null;\n      if (typeof input.setEncoding === 'function')\n        input.setEncoding('utf8');\n      // Adds the data chunk to the buffer and parses as far as possible\n      input.on('data', data => {\n        if (this._input !== null && data.length !== 0) {\n          // Prepend any previous pending writes\n          if (this._pendingBuffer) {\n            data = Buffer.concat([this._pendingBuffer, data]);\n            this._pendingBuffer = null;\n          }\n          // Hold if the buffer ends in an incomplete unicode sequence\n          if (data[data.length - 1] & 0x80) {\n            this._pendingBuffer = data;\n          }\n          // Otherwise, tokenize as far as possible\n          else {\n            // Only read a BOM at the start\n            if (typeof this._input === 'undefined')\n              this._input = this._readStartingBom(typeof data === 'string' ? data : data.toString());\n            else\n              this._input += data;\n            this._tokenizeToEnd(callback, false);\n          }\n        }\n      });\n      // Parses until the end\n      input.on('end', () => {\n        if (typeof this._input === 'string')\n          this._tokenizeToEnd(callback, true);\n      });\n      input.on('error', callback);\n    }\n  }\n}\n", "// **N3Util** provides N3 utility functions.\n\nimport N3DataFactory from './N3DataFactory';\n\n// Tests whether the given term represents an IRI\nexport function isNamedNode(term) {\n  return !!term && term.termType === 'NamedNode';\n}\n\n// Tests whether the given term represents a blank node\nexport function isBlankNode(term) {\n  return !!term && term.termType === 'BlankNode';\n}\n\n// Tests whether the given term represents a literal\nexport function isLiteral(term) {\n  return !!term && term.termType === 'Literal';\n}\n\n// Tests whether the given term represents a variable\nexport function isVariable(term) {\n  return !!term && term.termType === 'Variable';\n}\n\n// Tests whether the given term represents the default graph\nexport function isDefaultGraph(term) {\n  return !!term && term.termType === 'DefaultGraph';\n}\n\n// Tests whether the given quad is in the default graph\nexport function inDefaultGraph(quad) {\n  return isDefaultGraph(quad.graph);\n}\n\n// Creates a function that prepends the given IRI to a local name\nexport function prefix(iri, factory) {\n  return prefixes({ '': iri.value || iri }, factory)('');\n}\n\n// Creates a function that allows registering and expanding prefixes\nexport function prefixes(defaultPrefixes, factory) {\n  // Add all of the default prefixes\n  const prefixes = Object.create(null);\n  for (const prefix in defaultPrefixes)\n    processPrefix(prefix, defaultPrefixes[prefix]);\n  // Set the default factory if none was specified\n  factory = factory || N3DataFactory;\n\n  // Registers a new prefix (if an IRI was specified)\n  // or retrieves a function that expands an existing prefix (if no IRI was specified)\n  function processPrefix(prefix, iri) {\n    // Create a new prefix if an IRI is specified or the prefix doesn't exist\n    if (typeof iri === 'string') {\n      // Create a function that expands the prefix\n      const cache = Object.create(null);\n      prefixes[prefix] = local => {\n        return cache[local] || (cache[local] = factory.namedNode(iri + local));\n      };\n    }\n    else if (!(prefix in prefixes)) {\n      throw new Error(`Unknown prefix: ${prefix}`);\n    }\n    return prefixes[prefix];\n  }\n  return processPrefix;\n}\n", "// N3.js implementations of the RDF/JS core data types\n// See https://github.com/rdfjs/representation-task-force/blob/master/interface-spec.md\n\nimport namespaces from './IRIs';\nimport { isDefaultGraph } from './N3Util';\nconst { rdf, xsd } = namespaces;\n\n// eslint-disable-next-line prefer-const\nlet DEFAULTGRAPH;\nlet _blankNodeCounter = 0;\n\nconst escapedLiteral = /^\"(.*\".*)(?=\"[^\"]*$)/;\n\n// ## DataFactory singleton\nconst DataFactory = {\n  namedNode,\n  blankNode,\n  variable,\n  literal,\n  defaultGraph,\n  quad,\n  triple: quad,\n};\nexport default DataFactory;\n\n// ## Term constructor\nexport class Term {\n  constructor(id) {\n    this.id = id;\n  }\n\n  // ### The value of this term\n  get value() {\n    return this.id;\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Term)\n      return this.id === other.id;\n    // Otherwise, compare term type and value\n    return !!other && this.termType === other.termType &&\n                      this.value    === other.value;\n  }\n\n  // ### Implement hashCode for Immutable.js, since we implement `equals`\n  // https://immutable-js.com/docs/v4.0.0/ValueObject/#hashCode()\n  hashCode() {\n    return 0;\n  }\n\n  // ### Returns a plain object representation of this term\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n    };\n  }\n}\n\n\n// ## NamedNode constructor\nexport class NamedNode extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'NamedNode';\n  }\n}\n\n// ## Literal constructor\nexport class Literal extends Term {\n  // ### The term type of this term\n  get termType() {\n    return 'Literal';\n  }\n\n  // ### The text value of this literal\n  get value() {\n    return this.id.substring(1, this.id.lastIndexOf('\"'));\n  }\n\n  // ### The language of this literal\n  get language() {\n    // Find the last quotation mark (e.g., '\"abc\"@en-us')\n    const id = this.id;\n    let atPos = id.lastIndexOf('\"') + 1;\n    // If \"@\" it follows, return the remaining substring; empty otherwise\n    return atPos < id.length && id[atPos++] === '@' ? id.substr(atPos).toLowerCase() : '';\n  }\n\n  // ### The datatype IRI of this literal\n  get datatype() {\n    return new NamedNode(this.datatypeString);\n  }\n\n  // ### The datatype string of this literal\n  get datatypeString() {\n    // Find the last quotation mark (e.g., '\"abc\"^^http://ex.org/types#t')\n    const id = this.id, dtPos = id.lastIndexOf('\"') + 1;\n    const char = dtPos < id.length ? id[dtPos] : '';\n    // If \"^\" it follows, return the remaining substring\n    return char === '^' ? id.substr(dtPos + 2) :\n           // If \"@\" follows, return rdf:langString; xsd:string otherwise\n           (char !== '@' ? xsd.string : rdf.langString);\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both literals were created by this library,\n    // equality can be computed through ids\n    if (other instanceof Literal)\n      return this.id === other.id;\n    // Otherwise, compare term type, value, language, and datatype\n    return !!other && !!other.datatype &&\n                      this.termType === other.termType &&\n                      this.value    === other.value    &&\n                      this.language === other.language &&\n                      this.datatype.value === other.datatype.value;\n  }\n\n  toJSON() {\n    return {\n      termType: this.termType,\n      value:    this.value,\n      language: this.language,\n      datatype: { termType: 'NamedNode', value: this.datatypeString },\n    };\n  }\n}\n\n// ## BlankNode constructor\nexport class BlankNode extends Term {\n  constructor(name) {\n    super(`_:${name}`);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'BlankNode';\n  }\n\n  // ### The name of this blank node\n  get value() {\n    return this.id.substr(2);\n  }\n}\n\nexport class Variable extends Term {\n  constructor(name) {\n    super(`?${name}`);\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Variable';\n  }\n\n  // ### The name of this variable\n  get value() {\n    return this.id.substr(1);\n  }\n}\n\n// ## DefaultGraph constructor\nexport class DefaultGraph extends Term {\n  constructor() {\n    super('');\n    return DEFAULTGRAPH || this;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'DefaultGraph';\n  }\n\n  // ### Returns whether this object represents the same term as the other\n  equals(other) {\n    // If both terms were created by this library,\n    // equality can be computed through strict equality;\n    // otherwise, compare term types.\n    return (this === other) || (!!other && (this.termType === other.termType));\n  }\n}\n\n// ## DefaultGraph singleton\nDEFAULTGRAPH = new DefaultGraph();\n\n// ### Constructs a term from the given internal string ID\n// The third 'nested' parameter of this function is to aid\n// with recursion over nested terms. It should not be used\n// by consumers of this library.\n// See https://github.com/rdfjs/N3.js/pull/311#discussion_r1061042725\nexport function termFromId(id, factory, nested) {\n  factory = factory || DataFactory;\n\n  // Falsy value or empty string indicate the default graph\n  if (!id)\n    return factory.defaultGraph();\n\n  // Identify the term type based on the first character\n  switch (id[0]) {\n  case '?':\n    return factory.variable(id.substr(1));\n  case '_':\n    return factory.blankNode(id.substr(2));\n  case '\"':\n    // Shortcut for internal literals\n    if (factory === DataFactory)\n      return new Literal(id);\n    // Literal without datatype or language\n    if (id[id.length - 1] === '\"')\n      return factory.literal(id.substr(1, id.length - 2));\n    // Literal with datatype or language\n    const endPos = id.lastIndexOf('\"', id.length - 1);\n    return factory.literal(id.substr(1, endPos - 1),\n            id[endPos + 1] === '@' ? id.substr(endPos + 2)\n                                   : factory.namedNode(id.substr(endPos + 3)));\n  case '[':\n    id = JSON.parse(id);\n    break;\n  default:\n    if (!nested || !Array.isArray(id)) {\n      return factory.namedNode(id);\n    }\n  }\n  return factory.quad(\n    termFromId(id[0], factory, true),\n    termFromId(id[1], factory, true),\n    termFromId(id[2], factory, true),\n    id[3] && termFromId(id[3], factory, true)\n  );\n}\n\n// ### Constructs an internal string ID from the given term or ID string\n// The third 'nested' parameter of this function is to aid\n// with recursion over nested terms. It should not be used\n// by consumers of this library.\n// See https://github.com/rdfjs/N3.js/pull/311#discussion_r1061042725\nexport function termToId(term, nested) {\n  if (typeof term === 'string')\n    return term;\n  if (term instanceof Term && term.termType !== 'Quad')\n    return term.id;\n  if (!term)\n    return DEFAULTGRAPH.id;\n\n  // Term instantiated with another library\n  switch (term.termType) {\n  case 'NamedNode':    return term.value;\n  case 'BlankNode':    return `_:${term.value}`;\n  case 'Variable':     return `?${term.value}`;\n  case 'DefaultGraph': return '';\n  case 'Literal':      return `\"${term.value}\"${\n    term.language ? `@${term.language}` :\n      (term.datatype && term.datatype.value !== xsd.string ? `^^${term.datatype.value}` : '')}`;\n  case 'Quad':\n    const res = [\n      termToId(term.subject, true),\n      termToId(term.predicate, true),\n      termToId(term.object, true),\n    ];\n    if (!isDefaultGraph(term.graph)) {\n      res.push(termToId(term.graph, true));\n    }\n    return nested ? res : JSON.stringify(res);\n  default: throw new Error(`Unexpected termType: ${term.termType}`);\n  }\n}\n\n\n// ## Quad constructor\nexport class Quad extends Term {\n  constructor(subject, predicate, object, graph) {\n    super('');\n    this._subject   = subject;\n    this._predicate = predicate;\n    this._object    = object;\n    this._graph     = graph || DEFAULTGRAPH;\n  }\n\n  // ### The term type of this term\n  get termType() {\n    return 'Quad';\n  }\n\n  get subject() {\n    return this._subject;\n  }\n\n  get predicate() {\n    return this._predicate;\n  }\n\n  get object() {\n    return this._object;\n  }\n\n  get graph() {\n    return this._graph;\n  }\n\n  // ### Returns a plain object representation of this quad\n  toJSON() {\n    return {\n      termType:  this.termType,\n      subject:   this._subject.toJSON(),\n      predicate: this._predicate.toJSON(),\n      object:    this._object.toJSON(),\n      graph:     this._graph.toJSON(),\n    };\n  }\n\n  // ### Returns whether this object represents the same quad as the other\n  equals(other) {\n    return !!other && this._subject.equals(other.subject)     &&\n                      this._predicate.equals(other.predicate) &&\n                      this._object.equals(other.object)       &&\n                      this._graph.equals(other.graph);\n  }\n}\nexport { Quad as Triple };\n\n// ### Escapes the quotes within the given literal\nexport function escapeQuotes(id) {\n  return id.replace(escapedLiteral, (_, quoted) => `\"${quoted.replace(/\"/g, '\"\"')}`);\n}\n\n// ### Unescapes the quotes within the given literal\nexport function unescapeQuotes(id) {\n  return id.replace(escapedLiteral, (_, quoted) => `\"${quoted.replace(/\"\"/g, '\"')}`);\n}\n\n// ### Creates an IRI\nfunction namedNode(iri) {\n  return new NamedNode(iri);\n}\n\n// ### Creates a blank node\nfunction blankNode(name) {\n  return new BlankNode(name || `n3-${_blankNodeCounter++}`);\n}\n\n// ### Creates a literal\nfunction literal(value, languageOrDataType) {\n  // Create a language-tagged string\n  if (typeof languageOrDataType === 'string')\n    return new Literal(`\"${value}\"@${languageOrDataType.toLowerCase()}`);\n\n  // Automatically determine datatype for booleans and numbers\n  let datatype = languageOrDataType ? languageOrDataType.value : '';\n  if (datatype === '') {\n    // Convert a boolean\n    if (typeof value === 'boolean')\n      datatype = xsd.boolean;\n    // Convert an integer or double\n    else if (typeof value === 'number') {\n      if (Number.isFinite(value))\n        datatype = Number.isInteger(value) ? xsd.integer : xsd.double;\n      else {\n        datatype = xsd.double;\n        if (!Number.isNaN(value))\n          value = value > 0 ? 'INF' : '-INF';\n      }\n    }\n  }\n\n  // Create a datatyped literal\n  return (datatype === '' || datatype === xsd.string) ?\n    new Literal(`\"${value}\"`) :\n    new Literal(`\"${value}\"^^${datatype}`);\n}\n\n// ### Creates a variable\nfunction variable(name) {\n  return new Variable(name);\n}\n\n// ### Returns the default graph\nfunction defaultGraph() {\n  return DEFAULTGRAPH;\n}\n\n// ### Creates a quad\nfunction quad(subject, predicate, object, graph) {\n  return new Quad(subject, predicate, object, graph);\n}\n", "// **N3Parser** parses N3 documents.\nimport N3Lexer from './N3Lexer';\nimport N3DataFactory from './N3DataFactory';\nimport namespaces from './IRIs';\n\nlet blankNodePrefix = 0;\n\n// ## Constructor\nexport default class N3Parser {\n  constructor(options) {\n    this._contextStack = [];\n    this._graph = null;\n\n    // Set the document IRI\n    options = options || {};\n    this._setBase(options.baseIRI);\n    options.factory && initDataFactory(this, options.factory);\n\n    // Set supported features depending on the format\n    const format = (typeof options.format === 'string') ?\n                 options.format.match(/\\w*$/)[0].toLowerCase() : '',\n        isTurtle = /turtle/.test(format), isTriG = /trig/.test(format),\n        isNTriples = /triple/.test(format), isNQuads = /quad/.test(format),\n        isN3 = this._n3Mode = /n3/.test(format),\n        isLineMode = isNTriples || isNQuads;\n    if (!(this._supportsNamedGraphs = !(isTurtle || isN3)))\n      this._readPredicateOrNamedGraph = this._readPredicate;\n    // Support triples in other graphs\n    this._supportsQuads = !(isTurtle || isTriG || isNTriples || isN3);\n    // Support nesting of triples\n    this._supportsRDFStar = format === '' || /star|\\*$/.test(format);\n    // Disable relative IRIs in N-Triples or N-Quads mode\n    if (isLineMode)\n      this._resolveRelativeIRI = iri => { return null; };\n    this._blankNodePrefix = typeof options.blankNodePrefix !== 'string' ? '' :\n                              options.blankNodePrefix.replace(/^(?!_:)/, '_:');\n    this._lexer = options.lexer || new N3Lexer({ lineMode: isLineMode, n3: isN3 });\n    // Disable explicit quantifiers by default\n    this._explicitQuantifiers = !!options.explicitQuantifiers;\n  }\n\n  // ## Static class methods\n\n  // ### `_resetBlankNodePrefix` restarts blank node prefix identification\n  static _resetBlankNodePrefix() {\n    blankNodePrefix = 0;\n  }\n\n  // ## Private methods\n\n  // ### `_setBase` sets the base IRI to resolve relative IRIs\n  _setBase(baseIRI) {\n    if (!baseIRI) {\n      this._base = '';\n      this._basePath = '';\n    }\n    else {\n      // Remove fragment if present\n      const fragmentPos = baseIRI.indexOf('#');\n      if (fragmentPos >= 0)\n        baseIRI = baseIRI.substr(0, fragmentPos);\n      // Set base IRI and its components\n      this._base = baseIRI;\n      this._basePath   = baseIRI.indexOf('/') < 0 ? baseIRI :\n                         baseIRI.replace(/[^\\/?]*(?:\\?.*)?$/, '');\n      baseIRI = baseIRI.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\\/\\/[^\\/]*)?/i);\n      this._baseRoot   = baseIRI[0];\n      this._baseScheme = baseIRI[1];\n    }\n  }\n\n  // ### `_saveContext` stores the current parsing context\n  // when entering a new scope (list, blank node, formula)\n  _saveContext(type, graph, subject, predicate, object) {\n    const n3Mode = this._n3Mode;\n    this._contextStack.push({\n      type,\n      subject, predicate, object, graph,\n      inverse: n3Mode ? this._inversePredicate : false,\n      blankPrefix: n3Mode ? this._prefixes._ : '',\n      quantified: n3Mode ? this._quantified : null,\n    });\n    // The settings below only apply to N3 streams\n    if (n3Mode) {\n      // Every new scope resets the predicate direction\n      this._inversePredicate = false;\n      // In N3, blank nodes are scoped to a formula\n      // (using a dot as separator, as a blank node label cannot start with it)\n      this._prefixes._ = (this._graph ? `${this._graph.value}.` : '.');\n      // Quantifiers are scoped to a formula\n      this._quantified = Object.create(this._quantified);\n    }\n  }\n\n  // ### `_restoreContext` restores the parent context\n  // when leaving a scope (list, blank node, formula)\n  _restoreContext(type, token) {\n    // Obtain the previous context\n    const context = this._contextStack.pop();\n    if (!context || context.type !== type)\n      return this._error(`Unexpected ${token.type}`, token);\n\n    // Restore the quad of the previous context\n    this._subject   = context.subject;\n    this._predicate = context.predicate;\n    this._object    = context.object;\n    this._graph     = context.graph;\n\n    // Restore N3 context settings\n    if (this._n3Mode) {\n      this._inversePredicate = context.inverse;\n      this._prefixes._ = context.blankPrefix;\n      this._quantified = context.quantified;\n    }\n  }\n\n  // ### `_readInTopContext` reads a token when in the top context\n  _readInTopContext(token) {\n    switch (token.type) {\n    // If an EOF token arrives in the top context, signal that we're done\n    case 'eof':\n      if (this._graph !== null)\n        return this._error('Unclosed graph', token);\n      delete this._prefixes._;\n      return this._callback(null, null, this._prefixes);\n    // It could be a prefix declaration\n    case 'PREFIX':\n      this._sparqlStyle = true;\n    case '@prefix':\n      return this._readPrefix;\n    // It could be a base declaration\n    case 'BASE':\n      this._sparqlStyle = true;\n    case '@base':\n      return this._readBaseIRI;\n    // It could be a graph\n    case '{':\n      if (this._supportsNamedGraphs) {\n        this._graph = '';\n        this._subject = null;\n        return this._readSubject;\n      }\n    case 'GRAPH':\n      if (this._supportsNamedGraphs)\n        return this._readNamedGraphLabel;\n    // Otherwise, the next token must be a subject\n    default:\n      return this._readSubject(token);\n    }\n  }\n\n  // ### `_readEntity` reads an IRI, prefixed name, blank node, or variable\n  _readEntity(token, quantifier) {\n    let value;\n    switch (token.type) {\n    // Read a relative or absolute IRI\n    case 'IRI':\n    case 'typeIRI':\n      const iri = this._resolveIRI(token.value);\n      if (iri === null)\n        return this._error('Invalid IRI', token);\n      value = this._namedNode(iri);\n      break;\n    // Read a prefixed name\n    case 'type':\n    case 'prefixed':\n      const prefix = this._prefixes[token.prefix];\n      if (prefix === undefined)\n        return this._error(`Undefined prefix \"${token.prefix}:\"`, token);\n      value = this._namedNode(prefix + token.value);\n      break;\n    // Read a blank node\n    case 'blank':\n      value = this._blankNode(this._prefixes[token.prefix] + token.value);\n      break;\n    // Read a variable\n    case 'var':\n      value = this._variable(token.value.substr(1));\n      break;\n    // Everything else is not an entity\n    default:\n      return this._error(`Expected entity but got ${token.type}`, token);\n    }\n    // In N3 mode, replace the entity if it is quantified\n    if (!quantifier && this._n3Mode && (value.id in this._quantified))\n      value = this._quantified[value.id];\n    return value;\n  }\n\n  // ### `_readSubject` reads a quad's subject\n  _readSubject(token) {\n    this._predicate = null;\n    switch (token.type) {\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph,\n                        this._subject = this._blankNode(), null, null);\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this.RDF_NIL, null, null);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph,\n                        this._graph = this._blankNode(), null, null);\n      return this._readSubject;\n    case '}':\n       // No subject; the graph in which we are reading is closed instead\n      return this._readPunctuation(token);\n    case '@forSome':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forSome\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORSOME;\n      this._quantifier = this._blankNode;\n      return this._readQuantifierList;\n    case '@forAll':\n      if (!this._n3Mode)\n        return this._error('Unexpected \"@forAll\"', token);\n      this._subject = null;\n      this._predicate = this.N3_FORALL;\n      this._quantifier = this._variable;\n      return this._readQuantifierList;\n    case 'literal':\n      if (!this._n3Mode)\n        return this._error('Unexpected literal', token);\n\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._completeSubjectLiteral;\n      }\n      else\n        this._subject = this._literal(token.value, this._namedNode(token.prefix));\n\n      break;\n    case '<<':\n      if (!this._supportsRDFStar)\n        return this._error('Unexpected RDF* syntax', token);\n      this._saveContext('<<', this._graph, null, null, null);\n      this._graph = null;\n      return this._readSubject;\n    default:\n      // Read the subject entity\n      if ((this._subject = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the subject might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._readPredicateOrNamedGraph);\n    }\n\n    // The next token must be a predicate,\n    // or, if the subject was actually a graph IRI, a named graph\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // ### `_readPredicate` reads a quad's predicate\n  _readPredicate(token) {\n    const type = token.type;\n    switch (type) {\n    case 'inverse':\n      this._inversePredicate = true;\n    case 'abbreviation':\n      this._predicate = this.ABBREVIATIONS[token.value];\n      break;\n    case '.':\n    case ']':\n    case '}':\n      // Expected predicate didn't come, must have been trailing semicolon\n      if (this._predicate === null)\n        return this._error(`Unexpected ${type}`, token);\n      this._subject = null;\n      return type === ']' ? this._readBlankNodeTail(token) : this._readPunctuation(token);\n    case ';':\n      // Additional semicolons can be safely ignored\n      return this._predicate !== null ? this._readPredicate :\n             this._error('Expected predicate but got ;', token);\n    case '[':\n      if (this._n3Mode) {\n        // Start a new quad with a new blank node as subject\n        this._saveContext('blank', this._graph, this._subject,\n                          this._subject = this._blankNode(), null);\n        return this._readBlankNodeHead;\n      }\n    case 'blank':\n      if (!this._n3Mode)\n        return this._error('Disallowed blank node as predicate', token);\n    default:\n      if ((this._predicate = this._readEntity(token)) === undefined)\n        return;\n    }\n    // The next token must be an object\n    return this._readObject;\n  }\n\n  // ### `_readObject` reads a quad's object\n  _readObject(token) {\n    switch (token.type) {\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        return this._readDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else\n        this._object = this._literal(token.value, this._namedNode(token.prefix));\n      break;\n    case '[':\n      // Start a new quad with a new blank node as subject\n      this._saveContext('blank', this._graph, this._subject, this._predicate,\n                        this._subject = this._blankNode());\n      return this._readBlankNodeHead;\n    case '(':\n      // Start a new list\n      this._saveContext('list', this._graph, this._subject, this._predicate, this.RDF_NIL);\n      this._subject = null;\n      return this._readListItem;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    case '<<':\n      if (!this._supportsRDFStar)\n        return this._error('Unexpected RDF* syntax', token);\n      this._saveContext('<<', this._graph, this._subject, this._predicate, null);\n      this._graph = null;\n      return this._readSubject;\n    default:\n      // Read the object entity\n      if ((this._object = this._readEntity(token)) === undefined)\n        return;\n      // In N3 mode, the object might be a path\n      if (this._n3Mode)\n        return this._getPathReader(this._getContextEndReader());\n    }\n    return this._getContextEndReader();\n  }\n\n  // ### `_readPredicateOrNamedGraph` reads a quad's predicate, or a named graph\n  _readPredicateOrNamedGraph(token) {\n    return token.type === '{' ? this._readGraph(token) : this._readPredicate(token);\n  }\n\n  // ### `_readGraph` reads a graph\n  _readGraph(token) {\n    if (token.type !== '{')\n      return this._error(`Expected graph but got ${token.type}`, token);\n    // The \"subject\" we read is actually the GRAPH's label\n    this._graph = this._subject, this._subject = null;\n    return this._readSubject;\n  }\n\n  // ### `_readBlankNodeHead` reads the head of a blank node\n  _readBlankNodeHead(token) {\n    if (token.type === ']') {\n      this._subject = null;\n      return this._readBlankNodeTail(token);\n    }\n    else {\n      this._predicate = null;\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readBlankNodeTail` reads the end of a blank node\n  _readBlankNodeTail(token) {\n    if (token.type !== ']')\n      return this._readBlankNodePunctuation(token);\n\n    // Store blank node quad\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this blank node\n    const empty = this._predicate === null;\n    this._restoreContext('blank', token);\n    // If the blank node was the object, restore previous context and read punctuation\n    if (this._object !== null)\n      return this._getContextEndReader();\n    // If the blank node was the predicate, continue reading the object\n    else if (this._predicate !== null)\n      return this._readObject;\n    // If the blank node was the subject, continue reading the predicate\n    else\n      // If the blank node was empty, it could be a named graph label\n      return empty ? this._readPredicateOrNamedGraph : this._readPredicateAfterBlank;\n  }\n\n  // ### `_readPredicateAfterBlank` reads a predicate after an anonymous blank node\n  _readPredicateAfterBlank(token) {\n    switch (token.type) {\n    case '.':\n    case '}':\n      // No predicate is coming if the triple is terminated here\n      this._subject = null;\n      return this._readPunctuation(token);\n    default:\n      return this._readPredicate(token);\n    }\n  }\n\n  // ### `_readListItem` reads items from a list\n  _readListItem(token) {\n    let item = null,                      // The item of the list\n        list = null,                      // The list itself\n        next = this._readListItem;        // The next function to execute\n    const previousList = this._subject,   // The previous list that contains this list\n        stack = this._contextStack,       // The stack of parent contexts\n        parent = stack[stack.length - 1]; // The parent containing the current list\n\n    switch (token.type) {\n    case '[':\n      // Stack the current list quad and start a new quad with a blank node as subject\n      this._saveContext('blank', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST,\n                        this._subject = item = this._blankNode());\n      next = this._readBlankNodeHead;\n      break;\n    case '(':\n      // Stack the current list quad and start a new list\n      this._saveContext('list', this._graph,\n                        list = this._blankNode(), this.RDF_FIRST, this.RDF_NIL);\n      this._subject = null;\n      break;\n    case ')':\n      // Closing the list; restore the parent context\n      this._restoreContext('list', token);\n      // If this list is contained within a parent list, return the membership quad here.\n      // This will be `<parent list element> rdf:first <this list>.`.\n      if (stack.length !== 0 && stack[stack.length - 1].type === 'list')\n        this._emit(this._subject, this._predicate, this._object, this._graph);\n      // Was this list the parent's subject?\n      if (this._predicate === null) {\n        // The next token is the predicate\n        next = this._readPredicate;\n        // No list tail if this was an empty list\n        if (this._subject === this.RDF_NIL)\n          return next;\n      }\n      // The list was in the parent context's object\n      else {\n        next = this._getContextEndReader();\n        // No list tail if this was an empty list\n        if (this._object === this.RDF_NIL)\n          return next;\n      }\n      // Close the list by making the head nil\n      list = this.RDF_NIL;\n      break;\n    case 'literal':\n      // Regular literal, can still get a datatype or language\n      if (token.prefix.length === 0) {\n        this._literalValue = token.value;\n        next = this._readListItemDataTypeOrLang;\n      }\n      // Pre-datatyped string literal (prefix stores the datatype)\n      else {\n        item = this._literal(token.value, this._namedNode(token.prefix));\n        next = this._getContextEndReader();\n      }\n      break;\n    case '{':\n      // Start a new formula\n      if (!this._n3Mode)\n        return this._error('Unexpected graph', token);\n      this._saveContext('formula', this._graph, this._subject, this._predicate,\n                        this._graph = this._blankNode());\n      return this._readSubject;\n    default:\n      if ((item = this._readEntity(token)) === undefined)\n        return;\n    }\n\n     // Create a new blank node if no item head was assigned yet\n    if (list === null)\n      this._subject = list = this._blankNode();\n\n    // Is this the first element of the list?\n    if (previousList === null) {\n      // This list is either the subject or the object of its parent\n      if (parent.predicate === null)\n        parent.subject = list;\n      else\n        parent.object = list;\n    }\n    else {\n      // Continue the previous list with the current list\n      this._emit(previousList, this.RDF_REST, list, this._graph);\n    }\n    // If an item was read, add it to the list\n    if (item !== null) {\n      // In N3 mode, the item might be a path\n      if (this._n3Mode && (token.type === 'IRI' || token.type === 'prefixed')) {\n        // Create a new context to add the item's path\n        this._saveContext('item', this._graph, list, this.RDF_FIRST, item);\n        this._subject = item, this._predicate = null;\n        // _readPath will restore the context and output the item\n        return this._getPathReader(this._readListItem);\n      }\n      // Output the item\n      this._emit(list, this.RDF_FIRST, item, this._graph);\n    }\n    return next;\n  }\n\n  // ### `_readDataTypeOrLang` reads an _optional_ datatype or language\n  _readDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, false);\n  }\n\n\n  // ### `_readListItemDataTypeOrLang` reads an _optional_ datatype or language in a list\n  _readListItemDataTypeOrLang(token) {\n    return this._completeObjectLiteral(token, true);\n  }\n\n  // ### `_completeLiteral` completes a literal with an optional datatype or language\n  _completeLiteral(token) {\n    // Create a simple string literal by default\n    let literal = this._literal(this._literalValue);\n\n    switch (token.type) {\n    // Create a datatyped literal\n    case 'type':\n    case 'typeIRI':\n      const datatype = this._readEntity(token);\n      if (datatype === undefined) return; // No datatype means an error occurred\n      literal = this._literal(this._literalValue, datatype);\n      token = null;\n      break;\n    // Create a language-tagged string\n    case 'langcode':\n      literal = this._literal(this._literalValue, token.value);\n      token = null;\n      break;\n    }\n\n    return { token, literal };\n  }\n\n  // Completes a literal in subject position\n  _completeSubjectLiteral(token) {\n    this._subject = this._completeLiteral(token).literal;\n    return this._readPredicateOrNamedGraph;\n  }\n\n  // Completes a literal in object position\n  _completeObjectLiteral(token, listItem) {\n    const completed = this._completeLiteral(token);\n    if (!completed)\n      return;\n    this._object = completed.literal;\n\n    // If this literal was part of a list, write the item\n    // (we could also check the context stack, but passing in a flag is faster)\n    if (listItem)\n      this._emit(this._subject, this.RDF_FIRST, this._object, this._graph);\n    // If the token was consumed, continue with the rest of the input\n    if (completed.token === null)\n      return this._getContextEndReader();\n    // Otherwise, consume the token now\n    else {\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(completed.token);\n    }\n  }\n\n  // ### `_readFormulaTail` reads the end of a formula\n  _readFormulaTail(token) {\n    if (token.type !== '}')\n      return this._readPunctuation(token);\n\n    // Store the last quad of the formula\n    if (this._subject !== null)\n      this._emit(this._subject, this._predicate, this._object, this._graph);\n\n    // Restore the parent context containing this formula\n    this._restoreContext('formula', token);\n    // If the formula was the subject, continue reading the predicate.\n    // If the formula was the object, read punctuation.\n    return this._object === null ? this._readPredicate : this._getContextEndReader();\n  }\n\n  // ### `_readPunctuation` reads punctuation between quads or quad parts\n  _readPunctuation(token) {\n    let next, graph = this._graph;\n    const subject = this._subject, inversePredicate = this._inversePredicate;\n    switch (token.type) {\n    // A closing brace ends a graph\n    case '}':\n      if (this._graph === null)\n        return this._error('Unexpected graph closing', token);\n      if (this._n3Mode)\n        return this._readFormulaTail(token);\n      this._graph = null;\n    // A dot just ends the statement, without sharing anything with the next\n    case '.':\n      this._subject = null;\n      next = this._contextStack.length ? this._readSubject : this._readInTopContext;\n      if (inversePredicate) this._inversePredicate = false;\n      break;\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    // {| means that the current triple is annotated with predicate-object pairs.\n    case '{|':\n      if (!this._supportsRDFStar)\n        return this._error('Unexpected RDF* syntax', token);\n      // Continue using the last triple as quoted triple subject for the predicate-object pairs.\n      const predicate = this._predicate, object = this._object;\n      this._subject = this._quad(subject, predicate, object, this.DEFAULTGRAPH);\n      next = this._readPredicate;\n      break;\n    // |} means that the current quoted triple in annotation syntax is finalized.\n    case '|}':\n      if (this._subject.termType !== 'Quad')\n        return this._error('Unexpected asserted triple closing', token);\n      this._subject = null;\n      next = this._readPunctuation;\n      break;\n    default:\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (graph = this._readEntity(token)) !== undefined) {\n        next = this._readQuadPunctuation;\n        break;\n      }\n      return this._error(`Expected punctuation to follow \"${this._object.id}\"`, token);\n    }\n    // A quad has been completed now, so return it\n    if (subject !== null) {\n      const predicate = this._predicate, object = this._object;\n      if (!inversePredicate)\n        this._emit(subject, predicate, object,  graph);\n      else\n        this._emit(object,  predicate, subject, graph);\n    }\n    return next;\n  }\n\n    // ### `_readBlankNodePunctuation` reads punctuation in a blank node\n  _readBlankNodePunctuation(token) {\n    let next;\n    switch (token.type) {\n    // Semicolon means the subject is shared; predicate and object are different\n    case ';':\n      next = this._readPredicate;\n      break;\n    // Comma means both the subject and predicate are shared; the object is different\n    case ',':\n      next = this._readObject;\n      break;\n    default:\n      return this._error(`Expected punctuation to follow \"${this._object.id}\"`, token);\n    }\n    // A quad has been completed now, so return it\n    this._emit(this._subject, this._predicate, this._object, this._graph);\n    return next;\n  }\n\n  // ### `_readQuadPunctuation` reads punctuation after a quad\n  _readQuadPunctuation(token) {\n    if (token.type !== '.')\n      return this._error('Expected dot to follow quad', token);\n    return this._readInTopContext;\n  }\n\n  // ### `_readPrefix` reads the prefix of a prefix declaration\n  _readPrefix(token) {\n    if (token.type !== 'prefix')\n      return this._error('Expected prefix to follow @prefix', token);\n    this._prefix = token.value;\n    return this._readPrefixIRI;\n  }\n\n  // ### `_readPrefixIRI` reads the IRI of a prefix declaration\n  _readPrefixIRI(token) {\n    if (token.type !== 'IRI')\n      return this._error(`Expected IRI to follow prefix \"${this._prefix}:\"`, token);\n    const prefixNode = this._readEntity(token);\n    this._prefixes[this._prefix] = prefixNode.value;\n    this._prefixCallback(this._prefix, prefixNode);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readBaseIRI` reads the IRI of a base declaration\n  _readBaseIRI(token) {\n    const iri = token.type === 'IRI' && this._resolveIRI(token.value);\n    if (!iri)\n      return this._error('Expected valid IRI to follow base declaration', token);\n    this._setBase(iri);\n    return this._readDeclarationPunctuation;\n  }\n\n  // ### `_readNamedGraphLabel` reads the label of a named graph\n  _readNamedGraphLabel(token) {\n    switch (token.type) {\n    case 'IRI':\n    case 'blank':\n    case 'prefixed':\n      return this._readSubject(token), this._readGraph;\n    case '[':\n      return this._readNamedGraphBlankLabel;\n    default:\n      return this._error('Invalid graph label', token);\n    }\n  }\n\n  // ### `_readNamedGraphLabel` reads a blank node label of a named graph\n  _readNamedGraphBlankLabel(token) {\n    if (token.type !== ']')\n      return this._error('Invalid graph label', token);\n    this._subject = this._blankNode();\n    return this._readGraph;\n  }\n\n  // ### `_readDeclarationPunctuation` reads the punctuation of a declaration\n  _readDeclarationPunctuation(token) {\n    // SPARQL-style declarations don't have punctuation\n    if (this._sparqlStyle) {\n      this._sparqlStyle = false;\n      return this._readInTopContext(token);\n    }\n\n    if (token.type !== '.')\n      return this._error('Expected declaration to end with a dot', token);\n    return this._readInTopContext;\n  }\n\n  // Reads a list of quantified symbols from a @forSome or @forAll statement\n  _readQuantifierList(token) {\n    let entity;\n    switch (token.type) {\n    case 'IRI':\n    case 'prefixed':\n      if ((entity = this._readEntity(token, true)) !== undefined)\n        break;\n    default:\n      return this._error(`Unexpected ${token.type}`, token);\n    }\n    // Without explicit quantifiers, map entities to a quantified entity\n    if (!this._explicitQuantifiers)\n      this._quantified[entity.id] = this._quantifier(this._blankNode().value);\n    // With explicit quantifiers, output the reified quantifier\n    else {\n      // If this is the first item, start a new quantifier list\n      if (this._subject === null)\n        this._emit(this._graph || this.DEFAULTGRAPH, this._predicate,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Otherwise, continue the previous list\n      else\n        this._emit(this._subject, this.RDF_REST,\n                   this._subject = this._blankNode(), this.QUANTIFIERS_GRAPH);\n      // Output the list item\n      this._emit(this._subject, this.RDF_FIRST, entity, this.QUANTIFIERS_GRAPH);\n    }\n    return this._readQuantifierPunctuation;\n  }\n\n  // Reads punctuation from a @forSome or @forAll statement\n  _readQuantifierPunctuation(token) {\n    // Read more quantifiers\n    if (token.type === ',')\n      return this._readQuantifierList;\n    // End of the quantifier list\n    else {\n      // With explicit quantifiers, close the quantifier list\n      if (this._explicitQuantifiers) {\n        this._emit(this._subject, this.RDF_REST, this.RDF_NIL, this.QUANTIFIERS_GRAPH);\n        this._subject = null;\n      }\n      // Read a dot\n      this._readCallback = this._getContextEndReader();\n      return this._readCallback(token);\n    }\n  }\n\n  // ### `_getPathReader` reads a potential path and then resumes with the given function\n  _getPathReader(afterPath) {\n    this._afterPath = afterPath;\n    return this._readPath;\n  }\n\n  // ### `_readPath` reads a potential path\n  _readPath(token) {\n    switch (token.type) {\n    // Forward path\n    case '!': return this._readForwardPath;\n    // Backward path\n    case '^': return this._readBackwardPath;\n    // Not a path; resume reading where we left off\n    default:\n      const stack = this._contextStack, parent = stack.length && stack[stack.length - 1];\n      // If we were reading a list item, we still need to output it\n      if (parent && parent.type === 'item') {\n        // The list item is the remaining subejct after reading the path\n        const item = this._subject;\n        // Switch back to the context of the list\n        this._restoreContext('item', token);\n        // Output the list item\n        this._emit(this._subject, this.RDF_FIRST, item, this._graph);\n      }\n      return this._afterPath(token);\n    }\n  }\n\n  // ### `_readForwardPath` reads a '!' path\n  _readForwardPath(token) {\n    let subject, predicate;\n    const object = this._blankNode();\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's object\n    if (this._predicate === null)\n      subject = this._subject, this._subject = object;\n    // If we were reading an object, replace the subject by the path's object\n    else\n      subject = this._object,  this._object  = object;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readBackwardPath` reads a '^' path\n  _readBackwardPath(token) {\n    const subject = this._blankNode();\n    let predicate, object;\n    // The next token is the predicate\n    if ((predicate = this._readEntity(token)) === undefined)\n      return;\n    // If we were reading a subject, replace the subject by the path's subject\n    if (this._predicate === null)\n      object = this._subject, this._subject = subject;\n    // If we were reading an object, replace the subject by the path's subject\n    else\n      object = this._object,  this._object  = subject;\n    // Emit the path's current quad and read its next section\n    this._emit(subject, predicate, object, this._graph);\n    return this._readPath;\n  }\n\n  // ### `_readRDFStarTailOrGraph` reads the graph of a nested RDF* quad or the end of a nested RDF* triple\n  _readRDFStarTailOrGraph(token) {\n    if (token.type !== '>>') {\n      // An entity means this is a quad (only allowed if not already inside a graph)\n      if (this._supportsQuads && this._graph === null && (this._graph = this._readEntity(token)) !== undefined)\n        return this._readRDFStarTail;\n      return this._error(`Expected >> to follow \"${this._object.id}\"`, token);\n    }\n    return this._readRDFStarTail(token);\n  }\n\n  // ### `_readRDFStarTail` reads the end of a nested RDF* triple\n  _readRDFStarTail(token) {\n    if (token.type !== '>>')\n      return this._error(`Expected >> but got ${token.type}`, token);\n    // Read the quad and restore the previous context\n    const quad = this._quad(this._subject, this._predicate, this._object,\n      this._graph || this.DEFAULTGRAPH);\n    this._restoreContext('<<', token);\n    // If the triple was the subject, continue by reading the predicate.\n    if (this._subject === null) {\n      this._subject = quad;\n      return this._readPredicate;\n    }\n    // If the triple was the object, read context end.\n    else {\n      this._object = quad;\n      return this._getContextEndReader();\n    }\n  }\n\n  // ### `_getContextEndReader` gets the next reader function at the end of a context\n  _getContextEndReader() {\n    const contextStack = this._contextStack;\n    if (!contextStack.length)\n      return this._readPunctuation;\n\n    switch (contextStack[contextStack.length - 1].type) {\n    case 'blank':\n      return this._readBlankNodeTail;\n    case 'list':\n      return this._readListItem;\n    case 'formula':\n      return this._readFormulaTail;\n    case '<<':\n      return this._readRDFStarTailOrGraph;\n    }\n  }\n\n  // ### `_emit` sends a quad through the callback\n  _emit(subject, predicate, object, graph) {\n    this._callback(null, this._quad(subject, predicate, object, graph || this.DEFAULTGRAPH));\n  }\n\n  // ### `_error` emits an error message through the callback\n  _error(message, token) {\n    const err = new Error(`${message} on line ${token.line}.`);\n    err.context = {\n      token: token,\n      line: token.line,\n      previousToken: this._lexer.previousToken,\n    };\n    this._callback(err);\n    this._callback = noop;\n  }\n\n  // ### `_resolveIRI` resolves an IRI against the base path\n  _resolveIRI(iri) {\n    return /^[a-z][a-z0-9+.-]*:/i.test(iri) ? iri : this._resolveRelativeIRI(iri);\n  }\n\n  // ### `_resolveRelativeIRI` resolves an IRI against the base path,\n  // assuming that a base path has been set and that the IRI is indeed relative\n  _resolveRelativeIRI(iri) {\n    // An empty relative IRI indicates the base IRI\n    if (!iri.length)\n      return this._base;\n    // Decide resolving strategy based in the first character\n    switch (iri[0]) {\n    // Resolve relative fragment IRIs against the base IRI\n    case '#': return this._base + iri;\n    // Resolve relative query string IRIs by replacing the query string\n    case '?': return this._base.replace(/(?:\\?.*)?$/, iri);\n    // Resolve root-relative IRIs at the root of the base IRI\n    case '/':\n      // Resolve scheme-relative IRIs to the scheme\n      return (iri[1] === '/' ? this._baseScheme : this._baseRoot) + this._removeDotSegments(iri);\n    // Resolve all other IRIs at the base IRI's path\n    default:\n      // Relative IRIs cannot contain a colon in the first path segment\n      return (/^[^/:]*:/.test(iri)) ? null : this._removeDotSegments(this._basePath + iri);\n    }\n  }\n\n  // ### `_removeDotSegments` resolves './' and '../' path segments in an IRI as per RFC3986\n  _removeDotSegments(iri) {\n    // Don't modify the IRI if it does not contain any dot segments\n    if (!/(^|\\/)\\.\\.?($|[/#?])/.test(iri))\n      return iri;\n\n    // Start with an imaginary slash before the IRI in order to resolve trailing './' and '../'\n    const length = iri.length;\n    let result = '', i = -1, pathStart = -1, segmentStart = 0, next = '/';\n\n    while (i < length) {\n      switch (next) {\n      // The path starts with the first slash after the authority\n      case ':':\n        if (pathStart < 0) {\n          // Skip two slashes before the authority\n          if (iri[++i] === '/' && iri[++i] === '/')\n            // Skip to slash after the authority\n            while ((pathStart = i + 1) < length && iri[pathStart] !== '/')\n              i = pathStart;\n        }\n        break;\n      // Don't modify a query string or fragment\n      case '?':\n      case '#':\n        i = length;\n        break;\n      // Handle '/.' or '/..' path segments\n      case '/':\n        if (iri[i + 1] === '.') {\n          next = iri[++i + 1];\n          switch (next) {\n          // Remove a '/.' segment\n          case '/':\n            result += iri.substring(segmentStart, i - 1);\n            segmentStart = i + 1;\n            break;\n          // Remove a trailing '/.' segment\n          case undefined:\n          case '?':\n          case '#':\n            return result + iri.substring(segmentStart, i) + iri.substr(i + 1);\n          // Remove a '/..' segment\n          case '.':\n            next = iri[++i + 1];\n            if (next === undefined || next === '/' || next === '?' || next === '#') {\n              result += iri.substring(segmentStart, i - 2);\n              // Try to remove the parent path from result\n              if ((segmentStart = result.lastIndexOf('/')) >= pathStart)\n                result = result.substr(0, segmentStart);\n              // Remove a trailing '/..' segment\n              if (next !== '/')\n                return `${result}/${iri.substr(i + 1)}`;\n              segmentStart = i + 1;\n            }\n          }\n        }\n      }\n      next = iri[++i];\n    }\n    return result + iri.substring(segmentStart);\n  }\n\n  // ## Public methods\n\n  // ### `parse` parses the N3 input and emits each parsed quad through the callback\n  parse(input, quadCallback, prefixCallback) {\n    // The read callback is the next function to be executed when a token arrives.\n    // We start reading in the top context.\n    this._readCallback = this._readInTopContext;\n    this._sparqlStyle = false;\n    this._prefixes = Object.create(null);\n    this._prefixes._ = this._blankNodePrefix ? this._blankNodePrefix.substr(2)\n                                             : `b${blankNodePrefix++}_`;\n    this._prefixCallback = prefixCallback || noop;\n    this._inversePredicate = false;\n    this._quantified = Object.create(null);\n\n    // Parse synchronously if no quad callback is given\n    if (!quadCallback) {\n      const quads = [];\n      let error;\n      this._callback = (e, t) => { e ? (error = e) : t && quads.push(t); };\n      this._lexer.tokenize(input).every(token => {\n        return this._readCallback = this._readCallback(token);\n      });\n      if (error) throw error;\n      return quads;\n    }\n\n    // Parse asynchronously otherwise, executing the read callback when a token arrives\n    this._callback = quadCallback;\n    this._lexer.tokenize(input, (error, token) => {\n      if (error !== null)\n        this._callback(error), this._callback = noop;\n      else if (this._readCallback)\n        this._readCallback = this._readCallback(token);\n    });\n  }\n}\n\n// The empty function\nfunction noop() {}\n\n// Initializes the parser with the given data factory\nfunction initDataFactory(parser, factory) {\n  // Set factory methods\n  const namedNode = factory.namedNode;\n  parser._namedNode   = namedNode;\n  parser._blankNode   = factory.blankNode;\n  parser._literal     = factory.literal;\n  parser._variable    = factory.variable;\n  parser._quad        = factory.quad;\n  parser.DEFAULTGRAPH = factory.defaultGraph();\n\n  // Set common named nodes\n  parser.RDF_FIRST  = namedNode(namespaces.rdf.first);\n  parser.RDF_REST   = namedNode(namespaces.rdf.rest);\n  parser.RDF_NIL    = namedNode(namespaces.rdf.nil);\n  parser.N3_FORALL  = namedNode(namespaces.r.forAll);\n  parser.N3_FORSOME = namedNode(namespaces.r.forSome);\n  parser.ABBREVIATIONS = {\n    'a': namedNode(namespaces.rdf.type),\n    '=': namedNode(namespaces.owl.sameAs),\n    '>': namedNode(namespaces.log.implies),\n  };\n  parser.QUANTIFIERS_GRAPH = namedNode('urn:n3:quantifiers');\n}\ninitDataFactory(N3Parser.prototype, N3DataFactory);\n", "// **N3Writer** writes N3 documents.\nimport namespaces from './IRIs';\nimport { default as N3DataFactory, Term } from './N3DataFactory';\nimport { isDefaultGraph } from './N3Util';\n\nconst DEFAULTGRAPH = N3DataFactory.defaultGraph();\n\nconst { rdf, xsd } = namespaces;\n\n// Characters in literals that require escaping\nconst escape    = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019\\ud800-\\udbff]/,\n    escapeAll = /[\"\\\\\\t\\n\\r\\b\\f\\u0000-\\u0019]|[\\ud800-\\udbff][\\udc00-\\udfff]/g,\n    escapedCharacters = {\n      '\\\\': '\\\\\\\\', '\"': '\\\\\"', '\\t': '\\\\t',\n      '\\n': '\\\\n', '\\r': '\\\\r', '\\b': '\\\\b', '\\f': '\\\\f',\n    };\n\n// ## Placeholder class to represent already pretty-printed terms\nclass SerializedTerm extends Term {\n  // Pretty-printed nodes are not equal to any other node\n  // (e.g., [] does not equal [])\n  equals(other) {\n    return other === this;\n  }\n}\n\n// ## Constructor\nexport default class N3Writer {\n  constructor(outputStream, options) {\n    // ### `_prefixRegex` matches a prefixed name or IRI that begins with one of the added prefixes\n    this._prefixRegex = /$0^/;\n\n    // Shift arguments if the first argument is not a stream\n    if (outputStream && typeof outputStream.write !== 'function')\n      options = outputStream, outputStream = null;\n    options = options || {};\n    this._lists = options.lists;\n\n    // If no output stream given, send the output as string through the end callback\n    if (!outputStream) {\n      let output = '';\n      this._outputStream = {\n        write(chunk, encoding, done) { output += chunk; done && done(); },\n        end: done => { done && done(null, output); },\n      };\n      this._endStream = true;\n    }\n    else {\n      this._outputStream = outputStream;\n      this._endStream = options.end === undefined ? true : !!options.end;\n    }\n\n    // Initialize writer, depending on the format\n    this._subject = null;\n    if (!(/triple|quad/i).test(options.format)) {\n      this._lineMode = false;\n      this._graph = DEFAULTGRAPH;\n      this._prefixIRIs = Object.create(null);\n      options.prefixes && this.addPrefixes(options.prefixes);\n      if (options.baseIRI) {\n        this._baseMatcher = new RegExp(`^${escapeRegex(options.baseIRI)\n            }${options.baseIRI.endsWith('/') ? '' : '[#?]'}`);\n        this._baseLength = options.baseIRI.length;\n      }\n    }\n    else {\n      this._lineMode = true;\n      this._writeQuad = this._writeQuadLine;\n    }\n  }\n\n  // ## Private methods\n\n  // ### Whether the current graph is the default graph\n  get _inDefaultGraph() {\n    return DEFAULTGRAPH.equals(this._graph);\n  }\n\n  // ### `_write` writes the argument to the output stream\n  _write(string, callback) {\n    this._outputStream.write(string, 'utf8', callback);\n  }\n\n  // ### `_writeQuad` writes the quad to the output stream\n  _writeQuad(subject, predicate, object, graph, done) {\n    try {\n      // Write the graph's label if it has changed\n      if (!graph.equals(this._graph)) {\n        // Close the previous graph and start the new one\n        this._write((this._subject === null ? '' : (this._inDefaultGraph ? '.\\n' : '\\n}\\n')) +\n                    (DEFAULTGRAPH.equals(graph) ? '' : `${this._encodeIriOrBlank(graph)} {\\n`));\n        this._graph = graph;\n        this._subject = null;\n      }\n      // Don't repeat the subject if it's the same\n      if (subject.equals(this._subject)) {\n        // Don't repeat the predicate if it's the same\n        if (predicate.equals(this._predicate))\n          this._write(`, ${this._encodeObject(object)}`, done);\n        // Same subject, different predicate\n        else\n          this._write(`;\\n    ${\n                      this._encodePredicate(this._predicate = predicate)} ${\n                      this._encodeObject(object)}`, done);\n      }\n      // Different subject; write the whole quad\n      else\n        this._write(`${(this._subject === null ? '' : '.\\n') +\n                    this._encodeSubject(this._subject = subject)} ${\n                    this._encodePredicate(this._predicate = predicate)} ${\n                    this._encodeObject(object)}`, done);\n    }\n    catch (error) { done && done(error); }\n  }\n\n  // ### `_writeQuadLine` writes the quad to the output stream as a single line\n  _writeQuadLine(subject, predicate, object, graph, done) {\n    // Write the quad without prefixes\n    delete this._prefixMatch;\n    this._write(this.quadToString(subject, predicate, object, graph), done);\n  }\n\n  // ### `quadToString` serializes a quad as a string\n  quadToString(subject, predicate, object, graph) {\n    return  `${this._encodeSubject(subject)} ${\n            this._encodeIriOrBlank(predicate)} ${\n            this._encodeObject(object)\n            }${graph && graph.value ? ` ${this._encodeIriOrBlank(graph)} .\\n` : ' .\\n'}`;\n  }\n\n  // ### `quadsToString` serializes an array of quads as a string\n  quadsToString(quads) {\n    return quads.map(t => {\n      return this.quadToString(t.subject, t.predicate, t.object, t.graph);\n    }).join('');\n  }\n\n  // ### `_encodeSubject` represents a subject\n  _encodeSubject(entity) {\n    return entity.termType === 'Quad' ?\n      this._encodeQuad(entity) : this._encodeIriOrBlank(entity);\n  }\n\n  // ### `_encodeIriOrBlank` represents an IRI or blank node\n  _encodeIriOrBlank(entity) {\n    // A blank node or list is represented as-is\n    if (entity.termType !== 'NamedNode') {\n      // If it is a list head, pretty-print it\n      if (this._lists && (entity.value in this._lists))\n        entity = this.list(this._lists[entity.value]);\n      return 'id' in entity ? entity.id : `_:${entity.value}`;\n    }\n    let iri = entity.value;\n    // Use relative IRIs if requested and possible\n    if (this._baseMatcher && this._baseMatcher.test(iri))\n      iri = iri.substr(this._baseLength);\n    // Escape special characters\n    if (escape.test(iri))\n      iri = iri.replace(escapeAll, characterReplacer);\n    // Try to represent the IRI as prefixed name\n    const prefixMatch = this._prefixRegex.exec(iri);\n    return !prefixMatch ? `<${iri}>` :\n           (!prefixMatch[1] ? iri : this._prefixIRIs[prefixMatch[1]] + prefixMatch[2]);\n  }\n\n  // ### `_encodeLiteral` represents a literal\n  _encodeLiteral(literal) {\n    // Escape special characters\n    let value = literal.value;\n    if (escape.test(value))\n      value = value.replace(escapeAll, characterReplacer);\n\n    // Write a language-tagged literal\n    if (literal.language)\n      return `\"${value}\"@${literal.language}`;\n\n    // Write dedicated literals per data type\n    if (this._lineMode) {\n      // Only abbreviate strings in N-Triples or N-Quads\n      if (literal.datatype.value === xsd.string)\n        return `\"${value}\"`;\n    }\n    else {\n      // Use common datatype abbreviations in Turtle or TriG\n      switch (literal.datatype.value) {\n      case xsd.string:\n        return `\"${value}\"`;\n      case xsd.boolean:\n        if (value === 'true' || value === 'false')\n          return value;\n        break;\n      case xsd.integer:\n        if (/^[+-]?\\d+$/.test(value))\n          return value;\n        break;\n      case xsd.decimal:\n        if (/^[+-]?\\d*\\.\\d+$/.test(value))\n          return value;\n        break;\n      case xsd.double:\n        if (/^[+-]?(?:\\d+\\.\\d*|\\.?\\d+)[eE][+-]?\\d+$/.test(value))\n          return value;\n        break;\n      }\n    }\n\n    // Write a regular datatyped literal\n    return `\"${value}\"^^${this._encodeIriOrBlank(literal.datatype)}`;\n  }\n\n  // ### `_encodePredicate` represents a predicate\n  _encodePredicate(predicate) {\n    return predicate.value === rdf.type ? 'a' : this._encodeIriOrBlank(predicate);\n  }\n\n  // ### `_encodeObject` represents an object\n  _encodeObject(object) {\n    switch (object.termType) {\n    case 'Quad':\n      return this._encodeQuad(object);\n    case 'Literal':\n      return this._encodeLiteral(object);\n    default:\n      return this._encodeIriOrBlank(object);\n    }\n  }\n\n  // ### `_encodeQuad` encodes an RDF* quad\n  _encodeQuad({ subject, predicate, object, graph }) {\n    return `<<${\n      this._encodeSubject(subject)} ${\n      this._encodePredicate(predicate)} ${\n      this._encodeObject(object)}${\n      isDefaultGraph(graph) ? '' : ` ${this._encodeIriOrBlank(graph)}`}>>`;\n  }\n\n  // ### `_blockedWrite` replaces `_write` after the writer has been closed\n  _blockedWrite() {\n    throw new Error('Cannot write because the writer has been closed.');\n  }\n\n  // ### `addQuad` adds the quad to the output stream\n  addQuad(subject, predicate, object, graph, done) {\n    // The quad was given as an object, so shift parameters\n    if (object === undefined)\n      this._writeQuad(subject.subject, subject.predicate, subject.object, subject.graph, predicate);\n    // The optional `graph` parameter was not provided\n    else if (typeof graph === 'function')\n      this._writeQuad(subject, predicate, object, DEFAULTGRAPH, graph);\n    // The `graph` parameter was provided\n    else\n      this._writeQuad(subject, predicate, object, graph || DEFAULTGRAPH, done);\n  }\n\n  // ### `addQuads` adds the quads to the output stream\n  addQuads(quads) {\n    for (let i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `addPrefix` adds the prefix to the output stream\n  addPrefix(prefix, iri, done) {\n    const prefixes = {};\n    prefixes[prefix] = iri;\n    this.addPrefixes(prefixes, done);\n  }\n\n  // ### `addPrefixes` adds the prefixes to the output stream\n  addPrefixes(prefixes, done) {\n    // Ignore prefixes if not supported by the serialization\n    if (!this._prefixIRIs)\n      return done && done();\n\n    // Write all new prefixes\n    let hasPrefixes = false;\n    for (let prefix in prefixes) {\n      let iri = prefixes[prefix];\n      if (typeof iri !== 'string')\n        iri = iri.value;\n      hasPrefixes = true;\n      // Finish a possible pending quad\n      if (this._subject !== null) {\n        this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n        this._subject = null, this._graph = '';\n      }\n      // Store and write the prefix\n      this._prefixIRIs[iri] = (prefix += ':');\n      this._write(`@prefix ${prefix} <${iri}>.\\n`);\n    }\n    // Recreate the prefix matcher\n    if (hasPrefixes) {\n      let IRIlist = '', prefixList = '';\n      for (const prefixIRI in this._prefixIRIs) {\n        IRIlist += IRIlist ? `|${prefixIRI}` : prefixIRI;\n        prefixList += (prefixList ? '|' : '') + this._prefixIRIs[prefixIRI];\n      }\n      IRIlist = escapeRegex(IRIlist, /[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n      this._prefixRegex = new RegExp(`^(?:${prefixList})[^\\/]*$|` +\n                                     `^(${IRIlist})([_a-zA-Z][\\\\-_a-zA-Z0-9]*)$`);\n    }\n    // End a prefix block with a newline\n    this._write(hasPrefixes ? '\\n' : '', done);\n  }\n\n  // ### `blank` creates a blank node with the given content\n  blank(predicate, object) {\n    let children = predicate, child, length;\n    // Empty blank node\n    if (predicate === undefined)\n      children = [];\n    // Blank node passed as blank(Term(\"predicate\"), Term(\"object\"))\n    else if (predicate.termType)\n      children = [{ predicate: predicate, object: object }];\n    // Blank node passed as blank({ predicate: predicate, object: object })\n    else if (!('length' in predicate))\n      children = [predicate];\n\n    switch (length = children.length) {\n    // Generate an empty blank node\n    case 0:\n      return new SerializedTerm('[]');\n    // Generate a non-nested one-triple blank node\n    case 1:\n      child = children[0];\n      if (!(child.object instanceof SerializedTerm))\n        return new SerializedTerm(`[ ${this._encodePredicate(child.predicate)} ${\n                                  this._encodeObject(child.object)} ]`);\n    // Generate a multi-triple or nested blank node\n    default:\n      let contents = '[';\n      // Write all triples in order\n      for (let i = 0; i < length; i++) {\n        child = children[i];\n        // Write only the object is the predicate is the same as the previous\n        if (child.predicate.equals(predicate))\n          contents += `, ${this._encodeObject(child.object)}`;\n        // Otherwise, write the predicate and the object\n        else {\n          contents += `${(i ? ';\\n  ' : '\\n  ') +\n                      this._encodePredicate(child.predicate)} ${\n                      this._encodeObject(child.object)}`;\n          predicate = child.predicate;\n        }\n      }\n      return new SerializedTerm(`${contents}\\n]`);\n    }\n  }\n\n  // ### `list` creates a list node with the given content\n  list(elements) {\n    const length = elements && elements.length || 0, contents = new Array(length);\n    for (let i = 0; i < length; i++)\n      contents[i] = this._encodeObject(elements[i]);\n    return new SerializedTerm(`(${contents.join(' ')})`);\n  }\n\n  // ### `end` signals the end of the output stream\n  end(done) {\n    // Finish a possible pending quad\n    if (this._subject !== null) {\n      this._write(this._inDefaultGraph ? '.\\n' : '\\n}\\n');\n      this._subject = null;\n    }\n    // Disallow further writing\n    this._write = this._blockedWrite;\n\n    // Try to end the underlying stream, ensuring done is called exactly one time\n    let singleDone = done && ((error, result) => { singleDone = null, done(error, result); });\n    if (this._endStream) {\n      try { return this._outputStream.end(singleDone); }\n      catch (error) { /* error closing stream */ }\n    }\n    singleDone && singleDone();\n  }\n}\n\n// Replaces a character by its escaped version\nfunction characterReplacer(character) {\n  // Replace a single character by its escaped version\n  let result = escapedCharacters[character];\n  if (result === undefined) {\n    // Replace a single character with its 4-bit unicode escape sequence\n    if (character.length === 1) {\n      result = character.charCodeAt(0).toString(16);\n      result = '\\\\u0000'.substr(0, 6 - result.length) + result;\n    }\n    // Replace a surrogate pair with its 8-bit unicode escape sequence\n    else {\n      result = ((character.charCodeAt(0) - 0xD800) * 0x400 +\n                 character.charCodeAt(1) + 0x2400).toString(16);\n      result = '\\\\U00000000'.substr(0, 10 - result.length) + result;\n    }\n  }\n  return result;\n}\n\nfunction escapeRegex(regex) {\n  return regex.replace(/[\\]\\/\\(\\)\\*\\+\\?\\.\\\\\\$]/g, '\\\\$&');\n}\n", "// **N3Store** objects store N3 quads by graph in memory.\nimport { default as N3DataFactory, termToId, termFromId } from './N3DataFactory';\nimport { Readable } from 'readable-stream';\nimport namespaces from './IRIs';\nimport { isDefaultGraph } from './N3Util';\n\n// ## Constructor\nexport default class N3Store {\n  constructor(quads, options) {\n    // The number of quads is initially zero\n    this._size = 0;\n    // `_graphs` contains subject, predicate, and object indexes per graph\n    this._graphs = Object.create(null);\n    // `_ids` maps entities such as `http://xmlns.com/foaf/0.1/name` to numbers,\n    // saving memory by using only numbers as keys in `_graphs`\n    this._id = 0;\n    this._ids = Object.create(null);\n    this._entities = Object.create(null); // inverse of `_ids`\n    // `_blankNodeIndex` is the index of the last automatically named blank node\n    this._blankNodeIndex = 0;\n\n    // Shift parameters if `quads` is not given\n    if (!options && quads && !quads[0])\n      options = quads, quads = null;\n    options = options || {};\n    this._factory = options.factory || N3DataFactory;\n\n    // Add quads if passed\n    if (quads)\n      this.addQuads(quads);\n  }\n\n  _termFromId(id, factory) {\n    if (id[0] === '.') {\n      const entities = this._entities;\n      const terms = id.split('.');\n      const q = this._factory.quad(\n        this._termFromId(entities[terms[1]]),\n        this._termFromId(entities[terms[2]]),\n        this._termFromId(entities[terms[3]]),\n        terms[4] && this._termFromId(entities[terms[4]])\n      );\n      return q;\n    }\n    return termFromId(id, factory);\n  }\n\n  _termToNumericId(term) {\n    if (term.termType === 'Quad') {\n      const s = this._termToNumericId(term.subject),\n          p = this._termToNumericId(term.predicate),\n          o = this._termToNumericId(term.object);\n      let g;\n\n      return s && p && o && (isDefaultGraph(term.graph) || (g = this._termToNumericId(term.graph))) &&\n        this._ids[g ? `.${s}.${p}.${o}.${g}` : `.${s}.${p}.${o}`];\n    }\n    return this._ids[termToId(term)];\n  }\n\n  _termToNewNumericId(term) {\n    // This assumes that no graph term is present - we may wish to error if there is one\n    const str = term && term.termType === 'Quad' ?\n      `.${this._termToNewNumericId(term.subject)}.${this._termToNewNumericId(term.predicate)}.${this._termToNewNumericId(term.object)}${\n        isDefaultGraph(term.graph) ? '' : `.${this._termToNewNumericId(term.graph)}`\n      }`\n      : termToId(term);\n\n    return this._ids[str] || (this._ids[this._entities[++this._id] = str] = this._id);\n  }\n\n  // ## Public properties\n\n  // ### `size` returns the number of quads in the store\n  get size() {\n    // Return the quad count if if was cached\n    let size = this._size;\n    if (size !== null)\n      return size;\n\n    // Calculate the number of quads by counting to the deepest level\n    size = 0;\n    const graphs = this._graphs;\n    let subjects, subject;\n    for (const graphKey in graphs)\n      for (const subjectKey in (subjects = graphs[graphKey].subjects))\n        for (const predicateKey in (subject = subjects[subjectKey]))\n          size += Object.keys(subject[predicateKey]).length;\n    return this._size = size;\n  }\n\n  // ## Private methods\n\n  // ### `_addToIndex` adds a quad to a three-layered index.\n  // Returns if the index has changed, if the entry did not already exist.\n  _addToIndex(index0, key0, key1, key2) {\n    // Create layers as necessary\n    const index1 = index0[key0] || (index0[key0] = {});\n    const index2 = index1[key1] || (index1[key1] = {});\n    // Setting the key to _any_ value signals the presence of the quad\n    const existed = key2 in index2;\n    if (!existed)\n      index2[key2] = null;\n    return !existed;\n  }\n\n  // ### `_removeFromIndex` removes a quad from a three-layered index\n  _removeFromIndex(index0, key0, key1, key2) {\n    // Remove the quad from the index\n    const index1 = index0[key0], index2 = index1[key1];\n    delete index2[key2];\n\n    // Remove intermediary index layers if they are empty\n    for (const key in index2) return;\n    delete index1[key1];\n    for (const key in index1) return;\n    delete index0[key0];\n  }\n\n  // ### `_findInIndex` finds a set of quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  // `name0`, `name1`, and `name2` are the names of the keys at each level,\n  // used when reconstructing the resulting quad\n  // (for instance: _subject_, _predicate_, and _object_).\n  // Finally, `graphId` will be the graph of the created quads.\n  *_findInIndex(index0, key0, key1, key2, name0, name1, name2, graphId) {\n    let tmp, index1, index2;\n    const entityKeys = this._entities;\n    const graph = this._termFromId(graphId, this._factory);\n    const parts = { subject: null, predicate: null, object: null };\n\n    // If a key is specified, use only that part of index 0.\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (const value0 in index0) {\n      if (index1 = index0[value0]) {\n        parts[name0] = this._termFromId(entityKeys[value0], this._factory);\n        // If a key is specified, use only that part of index 1.\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (const value1 in index1) {\n          if (index2 = index1[value1]) {\n            parts[name1] = this._termFromId(entityKeys[value1], this._factory);\n            // If a key is specified, use only that part of index 2, if it exists.\n            const values = key2 ? (key2 in index2 ? [key2] : []) : Object.keys(index2);\n            // Create quads for all items found in index 2.\n            for (let l = 0; l < values.length; l++) {\n              parts[name2] = this._termFromId(entityKeys[values[l]], this._factory);\n              yield this._factory.quad(parts.subject, parts.predicate, parts.object, graph);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // ### `_loop` executes the callback on all keys of index 0\n  _loop(index0, callback) {\n    for (const key0 in index0)\n      callback(key0);\n  }\n\n  // ### `_loopByKey0` executes the callback on all keys of a certain entry in index 0\n  _loopByKey0(index0, key0, callback) {\n    let index1, key1;\n    if (index1 = index0[key0]) {\n      for (key1 in index1)\n        callback(key1);\n    }\n  }\n\n  // ### `_loopByKey1` executes the callback on given keys of all entries in index 0\n  _loopByKey1(index0, key1, callback) {\n    let key0, index1;\n    for (key0 in index0) {\n      index1 = index0[key0];\n      if (index1[key1])\n        callback(key0);\n    }\n  }\n\n  // ### `_loopBy2Keys` executes the callback on given keys of certain entries in index 2\n  _loopBy2Keys(index0, key0, key1, callback) {\n    let index1, index2, key2;\n    if ((index1 = index0[key0]) && (index2 = index1[key1])) {\n      for (key2 in index2)\n        callback(key2);\n    }\n  }\n\n  // ### `_countInIndex` counts matching quads in a three-layered index.\n  // The index base is `index0` and the keys at each level are `key0`, `key1`, and `key2`.\n  // Any of these keys can be undefined, which is interpreted as a wildcard.\n  _countInIndex(index0, key0, key1, key2) {\n    let count = 0, tmp, index1, index2;\n\n    // If a key is specified, count only that part of index 0\n    if (key0) (tmp = index0, index0 = {})[key0] = tmp[key0];\n    for (const value0 in index0) {\n      if (index1 = index0[value0]) {\n        // If a key is specified, count only that part of index 1\n        if (key1) (tmp = index1, index1 = {})[key1] = tmp[key1];\n        for (const value1 in index1) {\n          if (index2 = index1[value1]) {\n            // If a key is specified, count the quad if it exists\n            if (key2) (key2 in index2) && count++;\n            // Otherwise, count all quads\n            else count += Object.keys(index2).length;\n          }\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `_getGraphs` returns an array with the given graph,\n  // or all graphs if the argument is null or undefined.\n  _getGraphs(graph) {\n    if (!isString(graph))\n      return this._graphs;\n    const graphs = {};\n    graphs[graph] = this._graphs[graph];\n    return graphs;\n  }\n\n  // ### `_uniqueEntities` returns a function that accepts an entity ID\n  // and passes the corresponding entity to callback if it hasn't occurred before.\n  _uniqueEntities(callback) {\n    const uniqueIds = Object.create(null);\n    return id => {\n      if (!(id in uniqueIds)) {\n        uniqueIds[id] = true;\n        callback(this._termFromId(this._entities[id], this._factory));\n      }\n    };\n  }\n\n  // ## Public methods\n\n  // ### `add` adds the specified quad to the dataset.\n  // Returns the dataset instance it was called on.\n  // Existing quads, as defined in Quad.equals, will be ignored.\n  add(quad) {\n    this.addQuad(quad);\n    return this;\n  }\n\n  // ### `addQuad` adds a new quad to the store.\n  // Returns if the quad index has changed, if the quad did not already exist.\n  addQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    graph = termToId(graph);\n\n    // Find the graph that will contain the triple\n    let graphItem = this._graphs[graph];\n    // Create the graph if it doesn't exist yet\n    if (!graphItem) {\n      graphItem = this._graphs[graph] = { subjects: {}, predicates: {}, objects: {} };\n      // Freezing a graph helps subsequent `add` performance,\n      // and properties will never be modified anyway\n      Object.freeze(graphItem);\n    }\n\n    // Since entities can often be long IRIs, we avoid storing them in every index.\n    // Instead, we have a separate index that maps entities to numbers,\n    // which are then used as keys in the other indexes.\n    subject   = this._termToNewNumericId(subject);\n    predicate = this._termToNewNumericId(predicate);\n    object    = this._termToNewNumericId(object);\n\n    const changed = this._addToIndex(graphItem.subjects,   subject,   predicate, object);\n    this._addToIndex(graphItem.predicates, predicate, object,    subject);\n    this._addToIndex(graphItem.objects,    object,    subject,   predicate);\n\n    // The cached quad count is now invalid\n    this._size = null;\n    return changed;\n  }\n\n  // ### `addQuads` adds multiple quads to the store\n  addQuads(quads) {\n    for (let i = 0; i < quads.length; i++)\n      this.addQuad(quads[i]);\n  }\n\n  // ### `delete` removes the specified quad from the dataset.\n  // Returns the dataset instance it was called on.\n  delete(quad) {\n    this.removeQuad(quad);\n    return this;\n  }\n\n  // ### `has` determines whether a dataset includes a certain quad or quad pattern.\n  has(subjectOrQuad, predicate, object, graph) {\n    if (subjectOrQuad && subjectOrQuad.subject)\n      ({ subject: subjectOrQuad, predicate, object, graph } = subjectOrQuad);\n    return !this.readQuads(subjectOrQuad, predicate, object, graph).next().done;\n  }\n\n  // ### `import` adds a stream of quads to the store\n  import(stream) {\n    stream.on('data', quad => { this.addQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeQuad` removes a quad from the store if it exists\n  removeQuad(subject, predicate, object, graph) {\n    // Shift arguments if a quad object is given instead of components\n    if (!predicate)\n      graph = subject.graph, object = subject.object,\n        predicate = subject.predicate, subject = subject.subject;\n\n    // Convert terms to internal string representation\n    graph = termToId(graph);\n\n    // Find internal identifiers for all components\n    // and verify the quad exists.\n    const graphs = this._graphs;\n    let graphItem, subjects, predicates;\n    if (!(subject    = subject && this._termToNumericId(subject)) || !(predicate = predicate && this._termToNumericId(predicate)) ||\n        !(object     = object && this._termToNumericId(object))  || !(graphItem = graphs[graph])  ||\n        !(subjects   = graphItem.subjects[subject]) ||\n        !(predicates = subjects[predicate]) ||\n        !(object in predicates))\n      return false;\n\n    // Remove it from all indexes\n    this._removeFromIndex(graphItem.subjects,   subject,   predicate, object);\n    this._removeFromIndex(graphItem.predicates, predicate, object,    subject);\n    this._removeFromIndex(graphItem.objects,    object,    subject,   predicate);\n    if (this._size !== null) this._size--;\n\n    // Remove the graph if it is empty\n    for (subject in graphItem.subjects) return true;\n    delete graphs[graph];\n    return true;\n  }\n\n  // ### `removeQuads` removes multiple quads from the store\n  removeQuads(quads) {\n    for (let i = 0; i < quads.length; i++)\n      this.removeQuad(quads[i]);\n  }\n\n  // ### `remove` removes a stream of quads from the store\n  remove(stream) {\n    stream.on('data', quad => { this.removeQuad(quad); });\n    return stream;\n  }\n\n  // ### `removeMatches` removes all matching quads from the store\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  removeMatches(subject, predicate, object, graph) {\n    const stream = new Readable({ objectMode: true });\n\n    stream._read = () => {\n      for (const quad of this.readQuads(subject, predicate, object, graph))\n        stream.push(quad);\n      stream.push(null);\n    };\n\n    return this.remove(stream);\n  }\n\n  // ### `deleteGraph` removes all triples with the given graph from the store\n  deleteGraph(graph) {\n    return this.removeMatches(null, null, null, graph);\n  }\n\n  // ### `getQuads` returns an array of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getQuads(subject, predicate, object, graph) {\n    return [...this.readQuads(subject, predicate, object, graph)];\n  }\n\n  // ### `readQuads` returns an generator of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  *readQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    graph = graph && termToId(graph);\n\n    const graphs = this._getGraphs(graph);\n    let content, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (subject   && !(subjectId   = this._termToNumericId(subject))   ||\n        predicate && !(predicateId = this._termToNumericId(predicate)) ||\n        object    && !(objectId    = this._termToNumericId(object)))\n      return;\n\n    for (const graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the object index will be the fastest\n            yield* this._findInIndex(content.objects, objectId, subjectId, predicateId,\n                              'object', 'subject', 'predicate', graphId);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            yield* this._findInIndex(content.subjects, subjectId, predicateId, null,\n                              'subject', 'predicate', 'object', graphId);\n        }\n        else if (predicateId)\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          yield* this._findInIndex(content.predicates, predicateId, objectId, null,\n                            'predicate', 'object', 'subject', graphId);\n        else if (objectId)\n          // If only object is given, the object index will be the fastest\n          yield* this._findInIndex(content.objects, objectId, null, null,\n                            'object', 'subject', 'predicate', graphId);\n        else\n          // If nothing is given, iterate subjects and predicates first\n          yield* this._findInIndex(content.subjects, null, null, null,\n                            'subject', 'predicate', 'object', graphId);\n      }\n    }\n  }\n\n  // ### `match` returns a new dataset that is comprised of all quads in the current instance matching the given arguments.\n  // The logic described in Quad Matching is applied for each quad in this dataset to check if it should be included in the output dataset.\n  // Note: This method always returns a new DatasetCore, even if that dataset contains no quads.\n  // Note: Since a DatasetCore is an unordered set, the order of the quads within the returned sequence is arbitrary.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  // For backwards compatibility, the object return also implements the Readable stream interface.\n  match(subject, predicate, object, graph) {\n    return new DatasetCoreAndReadableStream(this, subject, predicate, object, graph);\n  }\n\n  // ### `countQuads` returns the number of quads matching a pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  countQuads(subject, predicate, object, graph) {\n    // Convert terms to internal string representation\n    graph = graph && termToId(graph);\n\n    const graphs = this._getGraphs(graph);\n    let count = 0, content, subjectId, predicateId, objectId;\n\n    // Translate IRIs to internal index keys.\n    if (subject   && !(subjectId   = this._termToNumericId(subject))   ||\n        predicate && !(predicateId = this._termToNumericId(predicate)) ||\n        object    && !(objectId    = this._termToNumericId(object)))\n      return 0;\n\n    for (const graphId in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graphId]) {\n        // Choose the optimal index, based on what fields are present\n        if (subject) {\n          if (object)\n            // If subject and object are given, the object index will be the fastest\n            count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n          else\n            // If only subject and possibly predicate are given, the subject index will be the fastest\n            count += this._countInIndex(content.subjects, subjectId, predicateId, objectId);\n        }\n        else if (predicate) {\n          // If only predicate and possibly object are given, the predicate index will be the fastest\n          count += this._countInIndex(content.predicates, predicateId, objectId, subjectId);\n        }\n        else {\n          // If only object is possibly given, the object index will be the fastest\n          count += this._countInIndex(content.objects, objectId, subjectId, predicateId);\n        }\n      }\n    }\n    return count;\n  }\n\n  // ### `forEach` executes the callback on all quads.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forEach(callback, subject, predicate, object, graph) {\n    this.some(quad => {\n      callback(quad);\n      return false;\n    }, subject, predicate, object, graph);\n  }\n\n  // ### `every` executes the callback on all quads,\n  // and returns `true` if it returns truthy for all them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  every(callback, subject, predicate, object, graph) {\n    let some = false;\n    const every = !this.some(quad => {\n      some = true;\n      return !callback(quad);\n    }, subject, predicate, object, graph);\n    return some && every;\n  }\n\n  // ### `some` executes the callback on all quads,\n  // and returns `true` if it returns truthy for any of them.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  some(callback, subject, predicate, object, graph) {\n    for (const quad of this.readQuads(subject, predicate, object, graph))\n      if (callback(quad))\n        return true;\n    return false;\n  }\n\n  // ### `getSubjects` returns all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getSubjects(predicate, object, graph) {\n    const results = [];\n    this.forSubjects(s => { results.push(s); }, predicate, object, graph);\n    return results;\n  }\n\n  // ### `forSubjects` executes the callback on all subjects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forSubjects(callback, predicate, object, graph) {\n    // Convert terms to internal string representation\n    graph = graph && termToId(graph);\n\n    const graphs = this._getGraphs(graph);\n    let content, predicateId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (predicate && !(predicateId = this._termToNumericId(predicate)) ||\n        object    && !(objectId    = this._termToNumericId(object)))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (predicateId) {\n          if (objectId)\n            // If predicate and object are given, the POS index is best.\n            this._loopBy2Keys(content.predicates, predicateId, objectId, callback);\n          else\n            // If only predicate is given, the SPO index is best.\n            this._loopByKey1(content.subjects, predicateId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the OSP index is best.\n          this._loopByKey0(content.objects, objectId, callback);\n        else\n          // If no params given, iterate all the subjects\n          this._loop(content.subjects, callback);\n      }\n    }\n  }\n\n  // ### `getPredicates` returns all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getPredicates(subject, object, graph) {\n    const results = [];\n    this.forPredicates(p => { results.push(p); }, subject, object, graph);\n    return results;\n  }\n\n  // ### `forPredicates` executes the callback on all predicates that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forPredicates(callback, subject, object, graph) {\n    // Convert terms to internal string representation\n    graph = graph && termToId(graph);\n\n    const graphs = this._getGraphs(graph);\n    let content, subjectId, objectId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (subject   && !(subjectId   = this._termToNumericId(subject))   ||\n        object    && !(objectId    = this._termToNumericId(object)))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (objectId)\n            // If subject and object are given, the OSP index is best.\n            this._loopBy2Keys(content.objects, objectId, subjectId, callback);\n          else\n            // If only subject is given, the SPO index is best.\n            this._loopByKey0(content.subjects, subjectId, callback);\n        }\n        else if (objectId)\n          // If only object is given, the POS index is best.\n          this._loopByKey1(content.predicates, objectId, callback);\n        else\n          // If no params given, iterate all the predicates.\n          this._loop(content.predicates, callback);\n      }\n    }\n  }\n\n  // ### `getObjects` returns all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getObjects(subject, predicate, graph) {\n    const results = [];\n    this.forObjects(o => { results.push(o); }, subject, predicate, graph);\n    return results;\n  }\n\n  // ### `forObjects` executes the callback on all objects that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forObjects(callback, subject, predicate, graph) {\n    // Convert terms to internal string representation\n    graph = graph && termToId(graph);\n\n    const graphs = this._getGraphs(graph);\n    let content, subjectId, predicateId;\n    callback = this._uniqueEntities(callback);\n\n    // Translate IRIs to internal index keys.\n    if (subject   && !(subjectId   = this._termToNumericId(subject))   ||\n        predicate && !(predicateId = this._termToNumericId(predicate)))\n      return;\n\n    for (graph in graphs) {\n      // Only if the specified graph contains triples, there can be results\n      if (content = graphs[graph]) {\n        // Choose optimal index based on which fields are wildcards\n        if (subjectId) {\n          if (predicateId)\n            // If subject and predicate are given, the SPO index is best.\n            this._loopBy2Keys(content.subjects, subjectId, predicateId, callback);\n          else\n            // If only subject is given, the OSP index is best.\n            this._loopByKey1(content.objects, subjectId, callback);\n        }\n        else if (predicateId)\n          // If only predicate is given, the POS index is best.\n          this._loopByKey0(content.predicates, predicateId, callback);\n        else\n          // If no params given, iterate all the objects.\n          this._loop(content.objects, callback);\n      }\n    }\n  }\n\n  // ### `getGraphs` returns all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  getGraphs(subject, predicate, object) {\n    const results = [];\n    this.forGraphs(g => { results.push(g); }, subject, predicate, object);\n    return results;\n  }\n\n  // ### `forGraphs` executes the callback on all graphs that match the pattern.\n  // Setting any field to `undefined` or `null` indicates a wildcard.\n  forGraphs(callback, subject, predicate, object) {\n    for (const graph in this._graphs) {\n      this.some(quad => {\n        callback(quad.graph);\n        return true; // Halt iteration of some()\n      }, subject, predicate, object, graph);\n    }\n  }\n\n  // ### `createBlankNode` creates a new blank node, returning its name\n  createBlankNode(suggestedName) {\n    let name, index;\n    // Generate a name based on the suggested name\n    if (suggestedName) {\n      name = suggestedName = `_:${suggestedName}`, index = 1;\n      while (this._ids[name])\n        name = suggestedName + index++;\n    }\n    // Generate a generic blank node name\n    else {\n      do { name = `_:b${this._blankNodeIndex++}`; }\n      while (this._ids[name]);\n    }\n    // Add the blank node to the entities, avoiding the generation of duplicates\n    this._ids[name] = ++this._id;\n    this._entities[this._id] = name;\n    return this._factory.blankNode(name.substr(2));\n  }\n\n  // ### `extractLists` finds and removes all list triples\n  // and returns the items per list.\n  extractLists({ remove = false, ignoreErrors = false } = {}) {\n    const lists = {}; // has scalar keys so could be a simple Object\n    const onError = ignoreErrors ? (() => true) :\n                  ((node, message) => { throw new Error(`${node.value} ${message}`); });\n\n    // Traverse each list from its tail\n    const tails = this.getQuads(null, namespaces.rdf.rest, namespaces.rdf.nil, null);\n    const toRemove = remove ? [...tails] : [];\n    tails.forEach(tailQuad => {\n      const items = [];             // the members found as objects of rdf:first quads\n      let malformed = false;      // signals whether the current list is malformed\n      let head;                   // the head of the list (_:b1 in above example)\n      let headPos;                // set to subject or object when head is set\n      const graph = tailQuad.graph; // make sure list is in exactly one graph\n\n      // Traverse the list from tail to end\n      let current = tailQuad.subject;\n      while (current && !malformed) {\n        const objectQuads = this.getQuads(null, null, current, null);\n        const subjectQuads = this.getQuads(current, null, null, null);\n        let quad, first = null, rest = null, parent = null;\n\n        // Find the first and rest of this list node\n        for (let i = 0; i < subjectQuads.length && !malformed; i++) {\n          quad = subjectQuads[i];\n          if (!quad.graph.equals(graph))\n            malformed = onError(current, 'not confined to single graph');\n          else if (head)\n            malformed = onError(current, 'has non-list arcs out');\n\n          // one rdf:first\n          else if (quad.predicate.value === namespaces.rdf.first) {\n            if (first)\n              malformed = onError(current, 'has multiple rdf:first arcs');\n            else\n              toRemove.push(first = quad);\n          }\n\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (rest)\n              malformed = onError(current, 'has multiple rdf:rest arcs');\n            else\n              toRemove.push(rest = quad);\n          }\n\n          // alien triple\n          else if (objectQuads.length)\n            malformed = onError(current, 'can\\'t be subject and object');\n          else {\n            head = quad; // e.g. { (1 2 3) :p :o }\n            headPos = 'subject';\n          }\n        }\n\n        // { :s :p (1 2) } arrives here with no head\n        // { (1 2) :p :o } arrives here with head set to the list.\n        for (let i = 0; i < objectQuads.length && !malformed; ++i) {\n          quad = objectQuads[i];\n          if (head)\n            malformed = onError(current, 'can\\'t have coreferences');\n          // one rdf:rest\n          else if (quad.predicate.value === namespaces.rdf.rest) {\n            if (parent)\n              malformed = onError(current, 'has incoming rdf:rest arcs');\n            else\n              parent = quad;\n          }\n          else {\n            head = quad; // e.g. { :s :p (1 2) }\n            headPos = 'object';\n          }\n        }\n\n        // Store the list item and continue with parent\n        if (!first)\n          malformed = onError(current, 'has no list head');\n        else\n          items.unshift(first.object);\n        current = parent && parent.subject;\n      }\n\n      // Don't remove any quads if the list is malformed\n      if (malformed)\n        remove = false;\n      // Store the list under the value of its head\n      else if (head)\n        lists[head[headPos].value] = items;\n    });\n\n    // Remove list quads if requested\n    if (remove)\n      this.removeQuads(toRemove);\n    return lists;\n  }\n\n  // ### Store is an iterable.\n  // Can be used where iterables are expected: for...of loops, array spread operator,\n  // `yield*`, and destructuring assignment (order is not guaranteed).\n  *[Symbol.iterator]() {\n    yield* this.readQuads();\n  }\n}\n\n// Determines whether the argument is a string\nfunction isString(s) {\n  return typeof s === 'string' || s instanceof String;\n}\n\n/**\n * A class that implements both DatasetCore and Readable.\n */\nclass DatasetCoreAndReadableStream extends Readable {\n  constructor(n3Store, subject, predicate, object, graph) {\n    super({ objectMode: true });\n    Object.assign(this, { n3Store, subject, predicate, object, graph });\n  }\n\n  get filtered() {\n    if (!this._filtered) {\n      const { n3Store, graph, object, predicate, subject } = this;\n      const newStore = this._filtered = new N3Store({ factory: n3Store._factory });\n      for (const quad of n3Store.readQuads(subject, predicate, object, graph))\n        newStore.addQuad(quad);\n    }\n    return this._filtered;\n  }\n\n  get size() {\n    return this.filtered.size;\n  }\n\n  _read() {\n    for (const quad of this)\n      this.push(quad);\n    this.push(null);\n  }\n\n  add(quad) {\n    return this.filtered.add(quad);\n  }\n\n  delete(quad) {\n    return this.filtered.delete(quad);\n  }\n\n  has(quad) {\n    return this.filtered.has(quad);\n  }\n\n  match(subject, predicate, object, graph) {\n    return new DatasetCoreAndReadableStream(this.filtered, subject, predicate, object, graph);\n  }\n\n  *[Symbol.iterator]() {\n    yield* this._filtered || this.n3Store.readQuads(this.subject, this.predicate, this.object, this.graph);\n  }\n}\n", "// **N3StreamParser** parses a text stream into a quad stream.\nimport N3Parser from './N3Parser';\nimport { Transform } from 'readable-stream';\n\n// ## Constructor\nexport default class N3StreamParser extends Transform {\n  constructor(options) {\n    super({ decodeStrings: true });\n    this._readableState.objectMode = true;\n\n    // Set up parser with dummy stream to obtain `data` and `end` callbacks\n    const parser = new N3Parser(options);\n    let onData, onEnd;\n    parser.parse({\n      on: (event, callback) => {\n        switch (event) {\n        case 'data': onData = callback; break;\n        case 'end':   onEnd = callback; break;\n        }\n      },\n    },\n      // Handle quads by pushing them down the pipeline\n      (error, quad) => { error && this.emit('error', error) || quad && this.push(quad); },\n      // Emit prefixes through the `prefix` event\n      (prefix, uri) => { this.emit('prefix', prefix, uri); }\n    );\n\n    // Implement Transform methods through parser callbacks\n    this._transform = (chunk, encoding, done) => { onData(chunk); done(); };\n    this._flush = done => { onEnd(); done(); };\n  }\n\n  // ### Parses a stream of strings\n  import(stream) {\n    stream.on('data',  chunk => { this.write(chunk); });\n    stream.on('end',   ()      => { this.end(); });\n    stream.on('error', error => { this.emit('error', error); });\n    return this;\n  }\n}\n", "// **N3StreamWriter** serializes a quad stream into a text stream.\nimport { Transform } from 'readable-stream';\nimport N3Writer from './N3Writer';\n\n// ## Constructor\nexport default class N3StreamWriter extends Transform {\n  constructor(options) {\n    super({ encoding: 'utf8', writableObjectMode: true });\n\n    // Set up writer with a dummy stream object\n    const writer = this._writer = new N3Writer({\n      write: (quad, encoding, callback) => { this.push(quad); callback && callback(); },\n      end: callback => { this.push(null); callback && callback(); },\n    }, options);\n\n    // Implement Transform methods on top of writer\n    this._transform = (quad, encoding, done) => { writer.addQuad(quad, done); };\n    this._flush = done => { writer.end(done); };\n  }\n\n// ### Serializes a stream of quads\n  import(stream) {\n    stream.on('data',   quad => { this.write(quad); });\n    stream.on('end',    () => { this.end(); });\n    stream.on('error',  error => { this.emit('error', error); });\n    stream.on('prefix', (prefix, iri) => { this._writer.addPrefix(prefix, iri); });\n    return this;\n  }\n}\n", "import Lexer from './N3Lexer';\nimport Parser from './N3Parser';\nimport Writer from './N3Writer';\nimport Store from './N3Store';\nimport StreamParser from './N3StreamParser';\nimport StreamWriter from './N3StreamWriter';\nimport * as Util from './N3Util';\n\nimport {\n  default as DataFactory,\n\n  Term,\n  NamedNode,\n  Literal,\n  BlankNode,\n  Variable,\n  DefaultGraph,\n  Quad,\n  Triple,\n\n  termFromId,\n  termToId,\n} from './N3DataFactory';\n\n// Named exports\nexport {\n  Lexer,\n  Parser,\n  Writer,\n  Store,\n  StreamParser,\n  StreamWriter,\n  Util,\n\n  DataFactory,\n\n  Term,\n  NamedNode,\n  Literal,\n  BlankNode,\n  Variable,\n  DefaultGraph,\n  Quad,\n  Triple,\n\n  termFromId,\n  termToId,\n};\n\n// Export all named exports as a default object for backward compatibility\nexport default {\n  Lexer,\n  Parser,\n  Writer,\n  Store,\n  StreamParser,\n  StreamWriter,\n  Util,\n\n  DataFactory,\n\n  Term,\n  NamedNode,\n  Literal,\n  BlankNode,\n  Variable,\n  DefaultGraph,\n  Quad,\n  Triple,\n\n  termFromId,\n  termToId,\n};\n", "import JSONTag from '@muze-nl/jsontag'\nimport N3 from 'n3'\n\nconst xsdTypes = {\n\txsd$dateTime: '<datetime>',\n\txsd$time: '<time>',\n\txsd$date: '<date>',\n\txsd$duration: '<duration>',\n\txsd$string: '<string>',\n\txsd$float: '<float>',\n\txsd$decimal: '<decimal>',\n\txsd$double: '<float64>',\n\txsd$anyURI: '<url>',\n\txsd$integer: '<int>',\n\txsd$int: '<int>',\n\txsd$long: '<int64>',\n\txsd$short: '<int16>',\n\txsd$byte: '<int8>', // yes really: http://www.datypic.com/sc/xsd/t-xsd_byte.html\n\txsd$nonNegativeInteger: '<uint>',\n\txsd$unsignedLong: '<uint64>',\n\txsd$unsignedInt: '<uint>',\n\txsd$unsignedShort: '<uint16>',\n\txsd$unsignedByte: '<uint8>',\n\txsd$base64Binary: '<blob class=\"base64\">',\n\t//TODO: check that this list is complete enough (missing types will be encoded with <object class=\"xsd$Type\">)\n}\n\nconst rdfType = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'\n\nconst source = Symbol('source')\n\n//TODO: build a datamapper on top of this, that can hydrate specific\n//object types (classes) to specific javascript classes\n\nclass Parser {\n\tprefixes = {}\n\tindex = new Map()\n\tunresolved = new Map()\n\ttypes = {}\n\n\tconstructor(options = {}) {\n\t\tthis.prefixes = options?.prefixes ?? {}\n\t\tthis.separator = options?.separator ?? '$' //TODO: do I really want to allow different separators? least surprise etc.\n\t\tif (!this.prefixes['xsd']) {\n\t\t\tthis.prefixes['xsd'] = 'http://www.w3.org/2001/XMLSchema#'\n\t\t}\n\t\tthis.types = {}\n\t\tObject.entries(xsdTypes).forEach(([t,v]) => {\n\t\t\tconst ts = t\n\t\t\t\t.split('$')\n\t\t\t\t.join(this.separator)\n\t\t\tthis.types[ts] = v\n\t\t})\n\t}\n\n\tparse(text, baseURI) {\n\t\tconst graph = this.graph(baseURI)\n\t\tconst parser = new N3.Parser({ blankNodePrefix: '', baseIRI: baseURI})\n\t\tconst data = parser.parse(text)\n\t\tgraph[source] = data\n\t\tfor (let quad of data) {\n      let subject\n      if (quad.subject.termType=='BlankNode') {\n        subject = graph.addBlankNode(quad.subject.id)\n      } else {\n        subject = graph.addSubject(quad.subject.id)\n      }\n      subject.addPredicate(quad.predicate.id, quad.object, graph)\n\t\t}\n\t\tif (this.index.has(baseURI)) {\n\t\t\treturn this.index.get(baseURI)\n\t\t}\n    return graph\n\t}\n\n  \n\tshort(uri, baseURI) {\n\t\t//TODO: why handle baseURI different from prefixes?\n\t\tif (baseURI && uri.startsWith(baseURI)) {\n\t\t\treturn new JSONTag.Link(uri.substring(baseURI.length))\n\t\t}\n\t\tlet prefixes = this.prefixes\n\t\tfor (let prefix in prefixes) {\n\t\t\tif (uri.startsWith(prefixes[prefix])) {\n\t\t\t\treturn new JSONTag.Link(prefix+this.separator+uri.substring(prefixes[prefix].length))\n\t\t\t}\n\t\t}\n\t\treturn uri\n\t}\n\n\tlong(uri) {\n\t\tif (uri instanceof JSONTag.Link) {\n\t\t\turi = uri.value\n\t\t\tlet [prefix,short] = uri.split(this.separator)\n\t\t\tif (this.prefixes[prefix]) {\n\t\t\t\turi = this.prefixes[prefix]+short\n\t\t\t}\n\t\t\treturn uri\n\t\t}\n\t\treturn uri\n\t}\n\n\tgraph(baseURI) {\n\t\treturn new Graph(this, baseURI,)\n\t}\n}\n\n//TODO: add method/property to return the N3 source data of a specific graph\n//with all updates to the data\nclass Graph extends Array {\n \n  constructor(parser, baseURI) {\n\t\tsuper()\n\t\tlet uri = new URL(baseURI)\n\t\turi.hash = ''\n\t\tObject.defineProperty(this, 'baseURI', {\n\t\t\tvalue: uri.href,\n\t\t\twritable: true,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: false\n\t\t})\n\t\tObject.defineProperty(this, 'parser', {\n\t\t\tvalue: parser,\n\t\t\twritable: false,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: false\n\t\t})\n    Object.defineProperty(this, 'blankNodes', {\n      value: new Map(),\n      writable: true,\n      configurable: false,\n      enumerable: false\n    })\n    if (parser.prefixes) {\n      let prefixAttr = []\n      for (let [prefix,url] of Object.entries(parser.prefixes)) {\n        prefixAttr.push(prefix+':'+url)\n      }\n      JSONTag.setAttribute(this, 'prefix', prefixAttr.join(' '))\n    }\n    if (baseURI) {\n  \t\tJSONTag.setAttribute(this, 'baseURI', baseURI)\n    }\n\t}\n\n\tstatic get [Symbol.species]() {\n\t\treturn Array\n\t}\n\n\tresolveLinks(subject, subjectID) {\n    if (this.parser.unresolved.has(subjectID)) {\n\t  \tlet u = this.parser.unresolved.get(subjectID)\n\t  \tlet shortID = this.parser.short(subjectID, this.baseURI)\n\t  \tfor (let parentID in u) {\n\t  \t\tlet parent = this.parser.index.get(parentID)\n\t  \t\tfor (let key of u[parentID]) {\n\t  \t\t\tlet prop = parent[key]\n\t  \t\t\tif (Array.isArray(prop)) {\n\t  \t\t\t\tprop = prop.map(e => {\n\t  \t\t\t\t\tif (!(e instanceof JSONTag.Link)) {\n\t  \t\t\t\t\t\treturn e\n\t  \t\t\t\t\t} else if (e.value==shortID) {\n\t  \t\t\t\t\t\treturn subject\n\t  \t\t\t\t\t}\n\t  \t\t\t\t})\n\t  \t\t\t} else {\n\t  \t\t\t\tif (prop instanceof JSONTag.Link && prop.value==shortID) {\n\t  \t\t\t\t\tparent[key] = subject\n\t  \t\t\t\t}\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t  \tthis.parser.unresolved.remove(subjectID)\n\t  }\n\t}\n\n\taddSubject(subjectID) {\n\t\tlet subject\n\t\tif (!this.parser.index.has(subjectID)) {\n\t\t\tsubject = new Subject(this, subjectID) // link back to its containing graph\n      this.push(subject)\n      this.resolveLinks(subject, subjectID)\n\t\t} else {\n\t\t\tsubject = this.parser.index.get(subjectID)\n\t\t\tif (!this.includes(subject)) {\n\t\t\t\tthis.push(subject)\n\t\t\t}\n\t\t}\n\t\treturn subject\n\t}\n\n  addBlankNode(tempID) {\n    let node\n    if (this.blankNodes.has(tempID)) {\n      node = this.blankNodes.get(tempID)\n    } else {\n      node = new Subject(this)\n      this.blankNodes.set(tempID, node)\n    }\n    return node\n  }\n  \n  setType(value, type) {\n    let result\n    switch(typeof value) {\n      case 'string':\n        result = new String(value)\n        JSONTag.setType(result, 'string')\n      break\n      case 'number':\n        result = new Number(value)\n        JSONTag.setType(result, 'number')\n      break\n      default:\n        throw new Error('missing type implementation for '+(typeof value))\n      break\n    }\n    let shortType = this.parser.short(type, this.baseURI)\n    if (shortType instanceof JSONTag.Link && this.parser.types[shortType.value]) {\n      this.#setTypeString(result, this.parser.types[shortType.value])    \t\t\n  \t} else {\n      JSONTag.setAttribute(result, 'class', type)    \n    }\n    return result\n  }\n  \n  #setTypeString(obj, typeString) {\n    let type = typeString.substring(1, typeString.length-1).split(' ').pop()\n    //TODO: parse and set attributes as well\n    JSONTag.setType(obj, type)\n  }\n\n  addUnresolved(linkID, key, parentID) {\n  \tlet unresolved = this.parser.unresolved\n\t\tif (!unresolved.has(linkID)) {\n\t\t\tunresolved.set(linkID, {\n\t\t\t\tparentID: [key]\n\t\t\t})\n\t  } else {\n\t  \tlet unresolvedEntries = unresolved.get(linkID)\n\t  \tif (!unresolvedEntries[parentID]) {\n\t  \t\tunresolvedEntries[parentID]=[key]\n\t  \t} else {\n\t  \t\tunresolvedEntries[parentID].push(key)\n\t  \t}\n\t  }\n  }\n}\n\nclass Subject {\n\t#graphs\n\t\n  constructor(graph, id) {\n\t\tthis.#graphs = [graph]\n    if (id) {\n      JSONTag.setAttribute(this, 'id', id)\n      graph.parser.index.set(id, this)\n    }\n\t}\n\n\tget id() {\n\t\treturn JSONTag.getAttribute(this, 'id')\n\t}\n\n\taddPredicate(predicateId, object, graph) {\n\t\tif (!this.#graphs.includes(graph)) {\n\t\t\tthis.#graphs.push(graph)\n\t\t}\n\t\tif (predicateId==rdfType) {\n\t\t\tthis.addType(graph.parser.short(object.id, graph.baseURI), graph)\n\t\t} else {\n\t\t\tlet shortPred = graph.parser.short(predicateId, graph.baseURI)\n\t\t\tif (shortPred instanceof JSONTag.Link) {\n\t\t\t\tshortPred = shortPred.value\n\t\t\t}\n\t\t\tlet value = this.#getValue(object)\n\t\t\tif (value instanceof JSONTag.Link) {\n\t\t\t\tgraph.addUnresolved(value.value, shortPred, this.id)\n\t\t\t}\n\t\t\tif (!this[shortPred]) {\n\t\t\t\tthis[shortPred] = value\n\t\t\t} else if (Array.isArray(this[shortPred])) {\n\t\t\t\tthis[shortPred].push(value)\n\t\t\t} else {\n\t\t\t\tthis[shortPred] = [ this[shortPred], value]\n\t\t\t}\n\t\t\t//TODO: also update source when deleting properties\n\t\t\t//FIXME: make this work:\n//\t\t\tif (!graph[source].has(this.id, predicateId, object)) {\n//\t\t\t\tgraph[source].set(this.id, predicateId, object)\n//\t\t\t}\n\t\t}\n\t}\n\n\taddType(shortType) {\n\t\tif (shortType instanceof JSONTag.Link) {\n\t\t\tshortType = shortType.value\n\t\t}\n\t\tlet classNames = JSONTag.getAttribute(this, 'class')\n\t\tif (!classNames) {\n\t\t\tclassNames = []\n\t\t}\n\t\tif (!Array.isArray(classNames)) {\n\t\t\tclassNames = classNames.split(' ')\n\t\t}\n\t\tif (!classNames.indexOf(shortType)) {\n\t\t\tclassNames.push(shortType)\n\t\t\tJSONTag.setAttribute(this, 'class', classNames)\n\t\t}\n\t}\n\n\t#getValue(object) {\n\t\tif (object.termType=='Literal') {\n\t\t\tlet graph = this.#graphs[this.#graphs.length-1]\n      object = graph.setType(object.value, object.datatype.id)\n\t\t} else { // URI\n\t\t\tlet parser, graph\n\t\t\tlet found = (() => {\n\t\t\t\tfor (graph of this.#graphs) {\n\t\t\t\t\tparser = graph.parser\n\t\t\t\t\tif (object.id.startsWith(graph.baseURI)) {\n\t\t\t\t\t\tobject = graph.addSubject(object.id)\n\t\t\t\t\t\treturn true\n\t\t\t\t\t} else if (parser.index.has(object.id)) {\n\t\t\t\t\t\tobject = parser.index.get(object.id)\n\t\t\t\t\t\treturn true\n\t\t      } else if (graph.blankNodes.has(object.id)) {\n\t\t        object = graph.blankNodes.get(object.id)\n\t\t        return true\n\t\t      }\n\t\t\t\t}\n\t\t\t})()\n\t\t\tif (!found) {\n\t\t\t\tobject = parser.short(object.id, graph.baseURI)\n\t\t\t}\n\t\t}\n\t\treturn object\n\t}\n}\n\nexport default function parser(prefixes=[], n3=null) {\n\treturn new Parser(prefixes, n3)\n}", "import { getDefaultSession } from '@inrupt/solid-client-authn-browser'\nimport oldmParser from '@muze-nl/oldm'\n\nexport const solidSession = getDefaultSession()\n\nexport const solidApi = {\n    fetch: function(url, loginInfo) {\n        let cleanUrl = new URL(url)\n        cleanUrl.hash = ''\n        cleanUrl = cleanUrl.href\n        const parser = new oldmParser({prefixes:solidApi.prefixes})\n\t\tvar fetchParams = {\n\t\t\tmode: 'cors',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/*'\n\t\t\t}\n\t\t}\n\t\tif (loginInfo && loginInfo.username && loginInfo.password) {\n\t\t\tfetchParams.headers.Authorization = 'Basic '+btoa(loginInfo.username+':'+loginInfo.password)\n\t\t}\n\t\treturn fetch(cleanUrl, fetchParams)\n\t\t\t.catch(error => {\n\t\t        return solidSession.fetch(cleanUrl)\n\t\t\t})\n            .then(response => {\n                if (response.ok) {\n                    return response.text()\n                } else {\n\t\t\t\t\treturn solidSession.fetch(cleanUrl).then(response => {\n\t\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\t\treturn response.text()\n\t\t\t\t\t\t} else {\n\t\t                    throw new Error('Could not fetch resource: '+response.status+': '+response.statusText)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n                }\n            })\n            .then((text,error) => {\n\t\t\t\tif (!error) {\n\t\t\t\t\tvar data = parser.parse(text, url)\n                    return { data: data, prefixes: solidApi.prefixes }\n\t\t\t\t} else {\n\t\t\t\t\tthrow error\n\t\t\t\t}\n\t\t\t});\n    },\n    write: function(url, body, contentType='text/turtle') {\n        var fetchParams = {\n            headers: {\n                'Content-Type': contentType\n            },\n            body: body,\n            method: 'PUT'\n        }\n        return solidSession.fetch(url, fetchParams).then(response => {\n            if (response.ok) {\n                return response\n            } else {\n                throw response\n            }\n        })\n    },\n    connect: function(issuer, resourceUrl) {\n        if (solidSession.info && solidSession.info.isLoggedIn === false) {\n            let url = new URL(window.location)\n            url.searchParams.set('resourceUrl', resourceUrl)\n            return solidSession.login({\n                oidcIssuer: issuer,\n                redirectUrl: url.href\n            })\n        }\n        return solidSession.info\n    },\n    disconnect: function() {\n        return solidSession.logout()\n    },\n    getPodUrl: function(webIdUrl) {\n        return solidApi.fetch(webIdUrl.href)\n            .then(quads => quads.find(quad => quad.predicate.value.includes('pim/space#storage')).object.value)\n            .then(podUrl => {\n                if ( ! podUrl.endsWith('/')) {\n                    podUrl += '/'\n                }\n                return podUrl\n            })\n    }\n};\n", "export const appui = {\n\tkeys: {\n\t\tdefault: {\n\t\t\tEscape: function(evt) {\n\t\t\t\tif (this.container.querySelector(':popover-open')) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (this.state.openDialogs?.length) {\n\t\t\t\t\tif (this.actions.uiCloseDialog(this.state.openDialogs[this.state.openDialogs.length-1])) {\n\t\t\t\t\t\tevt.preventDefault()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcommands: {\n\t\tuiCloseDialog: function(el, value) {\n\t\t\tlet dialog = el.closest('dialog')\n\t\t\tthis.actions.uiCloseDialog(dialog)\n\t\t},\n\t\tuiSelectTab: function(el, value) {\n\t\t\tconst group = el.dataset.uiGroup\n\t\t\tconst target = this.container.querySelector('#'+value)\n\t\t\tconst targetGroup = target ? target.dataset.uiGroup : null\n\t\t\tthis.actions.uiSelect(el, group)\n\t\t\tif (target) {\n\t\t\t\tthis.actions.uiSelect(target, targetGroup)\n\t\t\t\ttarget.scrollIntoView()\n\t\t\t}\n\t\t}\n\t},\n\tactions: {\n\t\tuiCloseDialog: function(dialog) {\n\t\t\tif (dialog.open) {\n\t\t\t\tthis.state.openDialogs = this.state.openDialogs?.filter(d => d==dialog)\n\t\t\t\tdialog.close()\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn false\n\t\t},\n\t\tuiOpenDialog: function(dialog) {\n\t\t\tif (!dialog.open) {\n\t\t\t\tdialog.show()\n\t\t\t\tthis.state.openDialogs.push(dialog)\n\t            dialog.querySelector('[autofocus]')?.focus()\n\t\t\t}\n\t\t},\n\t\tuiOpenModalDialog: function(dialog) {\n\t\t\tif (!dialog.open) {\n\t\t\t\tdialog.showModal()\n\t\t\t\tthis.state.openDialogs.push(dialog)\n\t            dialog.querySelector('[autofocus]')?.focus()\n\t\t\t}\n\t\t},\n\t\tuiSelect: function(selected, group) {\n\t\t\tif (group) {\n\t\t\t\tfor (let gel of Array.from(\n\t\t\t\t\tthis.container.querySelectorAll(`[data-ui-group=${group}].ui-selected`))) {\n\t\t\t\t\tgel.classList.remove('ui-selected')\n\t\t\t\t}\n\t\t\t}\n\t\t\tselected.classList.add('ui-selected')\n\t\t}\n\t},\n\tstate: {\n\t\topenDialogs: []\n\t}\n}", "const listeners = new Map()\n\nexport const activate = {\n    addListener: (name, callback) => {\n        if (!listeners.has(name)) {\n            listeners.set(name, [])\n        }\n        listeners.get(name).push(callback)\n        initialCall(name)\n    },\n    removeListener: (name, callback) => {\n        if (!listeners.has(name)) {\n            return false\n        }\n        listeners.set(name, listeners.get(name).filter((listener) => {\n            return listener!=callback\n        }))\n    }\n}\n\nfunction initialCall(name) {\n    const nodes = document.querySelectorAll('[data-simply-activate=\"'+name+'\"]')\n    if (nodes) {\n        for( let node of nodes) {\n            callListeners(node)\n        }\n    }\n}\n\nfunction callListeners(node) {\n    const activate = node?.dataset?.simplyActivate\n    if (activate && listeners.has(activate)) {\n        for (let callback of listeners.get(activate)) {\n            callback.call(node)\n        }\n    }\n}\n\nfunction handleChanges(changes) {\n    let activateNodes = []\n    for (let change of changes) {\n        if (change.type == 'childList') {\n            for (let node of change.addedNodes) {\n                if (node.querySelectorAll) {\n                    var toActivate = Array.from(node.querySelectorAll('[data-simply-activate]'))\n                    if (node.matches('[data-simply-activate]')) {\n                        toActivate.push(node)\n                    }\n                    activateNodes = activateNodes.concat(toActivate)\n                }\n            }\n        }\n    }\n    for (let node of activateNodes) {\n        callListeners(node)\n    }\n}\n\nconst observer = new MutationObserver(handleChanges)\nobserver.observe(document, {\n    subtree: true,\n    childList: true\n})", "export function actions(options) {\n\tif (options.app) {\n\t\tconst actionHandler = {\n\t\t\tget: (target, property) => {\n\t\t\t\treturn target[property].bind(options.app)\n\t\t\t}\n\t\t}\n\t\treturn new Proxy(options.actions, actionHandler)\n\t} else {\n\t\treturn options\n\t}\n}", "export function routes(options) {\n\treturn new SimplyRoute(options)\n}\n\nclass SimplyRoute {\n\tconstructor(options={}) {\n\t\tthis.root = options.root || '/'\n        this.app = options.app\n\t\tthis.clear()\n\t\tif (options.routes) {\n\t\t\tthis.load(options.routes)\n\t\t}\n\t}\n\n\tload(routes) {\n\t\tparseRoutes(routes, this.routeInfo)\n\t}\n\n\tclear() {\n\t\tthis.routeInfo = []\n\t\tthis.listeners = {\n\t\t\tmatch: {},\n\t\t\tcall: {},\n\t\t\tfinish: {}\n\t\t}\n\t}\n\n\tmatch(path, options) {\n\t\tlet args = {\n            path,\n            options\n        }\n        args = this.runListeners('match',args)\n        path = args.path ? args.path : path;\n\n        let matches;\n        if (!path) {\n            if (this.match(document.location.pathname+document.location.hash)) {\n                return true;\n            } else {\n                return this.match(document.location.pathname);\n            }\n        }\n        path = getPath(path);\n        for ( let route of this.routeInfo) {\n            matches = route.match.exec(path)\n            if (matches && matches.length) {\n                var params = {};\n                route.params.forEach((key, i) => {\n                    if (key=='*') {\n                        key = 'remainder'\n                    }\n                    params[key] = matches[i+1]\n                })\n                Object.assign(params, options)\n                args.route = route\n                args.params = params\n                args = this.runListeners('call', args)\n                params = args.params ? args.params : params\n                args.result = route.action.call(route, params)\n                this.runListeners('finish', args)\n                return args.result\n            }\n        }\n        if (path && path[path.length-1]!='/') {\n        \treturn this.match(path+'/', options)\n        }\n        return false\n\t}\n\n\trunListeners(action, params) {\n        if (!Object.keys(this.listeners[action])) {\n            return\n        }\n        Object.keys(this.listeners[action]).forEach((route) => {\n            var routeRe = getRegexpFromRoute(route);\n            if (routeRe.exec(params.path)) {\n                var result;\n                for (let callback of this.listeners[action][route]) {\n                    result = callback.call(this.app, params)\n                    if (result) {\n                        params = result\n                    }\n                }\n            }\n        })\n        return params\n    }\n\n    handleEvents() {\n        globalThis.addEventListener('popstate', () => {\n            if (this.match(getPath(document.location.pathname + document.location.hash, this.root)) === false) {\n                this.match(getPath(document.location.pathname, this.root))\n            }\n        })\n        globalThis.document.addEventListener('click', (evt) => {\n\t        if (evt.ctrlKey) {\n\t            return;\n\t        }\n\t        if (evt.which != 1) {\n\t            return; // not a 'left' mouse click\n\t        }\n\t        var link = evt.target;\n\t        while (link && link.tagName!='A') {\n\t            link = link.parentElement;\n\t        }\n\t        if (link \n\t            && link.pathname \n\t            && link.hostname==globalThis.location.hostname \n\t            && !link.link\n\t            && !link.dataset.simplyCommand\n\t        ) {\n\t            let path = getPath(link.pathname+link.hash, this.root);\n\t            if ( !this.has(path) ) {\n\t                path = getPath(link.pathname, this.root);\n\t            }\n\t            if ( this.has(path) ) {\n\t                let params = this.runListeners('goto', { path: path});\n\t                if (params.path) {\n\t                    this.goto(params.path);\n\t                }\n\t                evt.preventDefault();\n\t                return false;\n\t            }\n\t        }\n\t    })\n    }\n\n    goto(path) {\n        history.pushState({},'',getURL(path))\n        return this.match(path)\n    }\n\n    has(path) {\n    \tpath = getPath(path, this.root)\n    \tfor (let route of this.routeInfo) {\n            var matches = route.match.exec(path)\n            if (matches && matches.length) {\n                return true\n            }\n        }\n        return false\n    }\n\n    addListener(action, route, callback) {\n        if (['goto','match','call','finish'].indexOf(action)==-1) {\n            throw new Error('Unknown action '+action)\n        }\n        if (!this.listeners[action][route]) {\n            this.listeners[action][route] = []\n        }\n        this.listeners[action][route].push(callback)\n    }\n\n    removeListener(action, route, callback) {\n        if (['match','call','finish'].indexOf(action)==-1) {\n            throw new Error('Unknown action '+action)\n        }\n        if (!this.listeners[action][route]) {\n            return\n        }\n        this.listeners[action][route] = this.listeners[action][route].filter((listener) => {\n            return listener != callback\n        })\n    }\n\n    init(options) {\n    \tif (options.root) {\n    \t\tthis.root = options.root\n    \t}\n    }\n}\n\nfunction getPath(path, root='/') {\n    if (path.substring(0,root.length)==root\n        ||\n        ( root[root.length-1]=='/' \n            && path.length==(root.length-1)\n            && path == root.substring(0,path.length)\n        )\n    ) {\n        path = path.substring(root.length)\n    }\n    if (path[0]!='/' && path[0]!='#') {\n        path = '/'+path\n    }\n    return path\n}\n\nfunction getURL(path, root) {\n    path = getPath(path, root)\n    if (root[root.length-1]==='/' && path[0]==='/') {\n        path = path.substring(1)\n    }\n    return root + path;\n}\n\nfunction getRegexpFromRoute(route) {\n    return new RegExp('^'+route.replace(/:\\w+/g, '([^/]+)').replace(/:\\*/, '(.*)'));\n}\n\nfunction parseRoutes(routes) {\n    let routeInfo = []\n    const paths = Object.keys(routes)\n    const matchParams = /:(\\w+|\\*)/g\n    for (let path of paths) {\n        let matches = []\n        let params  = []\n        do {\n            matches = matchParams.exec(path)\n            if (matches) {\n                params.push(matches[1])\n            }\n        } while(matches)\n        routeInfo.push({\n            match:  getRegexpFromRoute(path),\n            params: params,\n            action: routes[path]\n        })\n    }\n    return routeInfo\n}\n", "class SimplyCommands {\n\tconstructor(options={}) {\n\t\tif (!options.app) {\n\t\t\toptions.app = {}\n\t\t}\n\t\tif (!options.app.container) {\n\t\t\toptions.app.container = document.body\n\t\t}\n\t\tthis.$handlers = options.handlers || defaultHandlers\n        if (options.commands) {\n    \t\tObject.assign(this, options.commands)\n        }\n\n\t\tconst commandHandler = (evt) => {\n\t\t\tconst command = getCommand(evt, this.$handlers)\n\t\t\tif (!command) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!this[command.name]) {\n                console.error('simply.command: undefined command '+command.name, command.source);\n                return\n\t\t\t}\n            const shouldContinue = this[command.name].call(options.app, command.source, command.value)\n            if (shouldContinue===false) {\n                evt.preventDefault()\n                evt.stopPropagation()\n                return false\n            }\n\t\t}\n\n        options.app.container.addEventListener('click', commandHandler)\n        options.app.container.addEventListener('submit', commandHandler)\n        options.app.container.addEventListener('change', commandHandler)\n        options.app.container.addEventListener('input', commandHandler)\n\t}\n}\n\nexport function commands(options={}) {\n\treturn new SimplyCommands(options)\n}\n\nfunction getCommand(evt, handlers) {\n    var el = evt.target.closest('[data-simply-command]')\n    if (el) {\n        for (let handler of handlers) {\n            if (el.matches(handler.match)) {\n                if (handler.check(el, evt)) {\n                    return {\n                        name:   el.dataset.simplyCommand,\n                        source: el,\n                        value:  handler.get(el)\n                    }\n                }\n                return null\n            }\n        }\n    }\n    return null\n}\n\nconst defaultHandlers = [\n    {\n        match: 'input,select,textarea',\n        get: function(el) {\n            if (el.tagName==='SELECT' && el.multiple) {\n                let values = []\n                for (let option of el.options) {\n                    if (option.selected) {\n                        values.push(option.value)\n                    }\n                }\n                return values\n            }\n            return el.dataset.simplyValue || el.value\n        },\n        check: function(el, evt) {\n            return evt.type=='change' || (el.dataset.simplyImmediate && evt.type=='input')\n        }\n    },\n    {\n        match: 'a,button',\n        get: function(el) {\n            return el.dataset.simplyValue || el.href || el.value\n        },\n        check: function(el,evt) {\n            return evt.type=='click' && evt.ctrlKey==false && evt.button==0\n        }\n    },\n    {\n        match: 'form',\n        get: function(el) {\n            let data = {}\n            for (let input of Array.from(el.elements)) {\n                if (input.tagName=='INPUT' \n                    && (input.type=='checkbox' || input.type=='radio')\n                ) {\n                    if (!input.checked) {\n                        return;\n                    }\n                }\n                if (data[input.name] && !Array.isArray(data[input.name])) {\n                    data[input.name] = [data[input.name]]\n                }\n                if (Array.isArray(data[input.name])) {\n                    data[input.name].push(input.value)\n                } else {\n                    data[input.name] = input.value\n                }\n            }\n            return data\n        },\n        check: function(el,evt) {\n            return evt.type=='submit'\n        }\n    },\n    {\n    \tmatch: '*',\n        get: function(el) {\n            return el.dataset.simplyValue\n        },\n        check: function(el, evt) {\n            return evt.type=='click' && evt.ctrlKey==false && evt.button==0\n        }\n    }\n]", "class SimplyKeys {\n\tconstructor(options = {}) {\n\t\tif (!options.app) {\n\t\t\toptions.app = {}\n\t\t}\n\t\tif (!options.app.container) {\n\t\t\toptions.app.container = document.body\n\t\t}\n\t\tObject.assign(this, options.keys)\n\n\t\tconst keyHandler = (e) => {\n\t\t\tif (e.isComposing || e.keyCode === 229) {\n\t\t\t    return;\n\t\t\t}\n\t\t\tif (e.defaultPrevented) {\n\t\t\t    return;\n\t\t\t}\n\t\t\tif (!e.target) {\n\t\t\t    return;\n\t\t\t}\n\n\t\t\tlet selectedKeyboard = 'default';\n\t\t\tif (e.target.closest('[data-simply-keyboard]')) {\n\t\t\t    selectedKeyboard = e.target.closest('[data-simply-keyboard]').dataset.simplyKeyboard;\n\t\t\t}\n\t\t\tlet key = '';\n\t\t\tif (e.ctrlKey && e.keyCode!=17) {\n\t\t\t    key+='Control+';\n\t\t\t}\n\t\t\tif (e.metaKey && e.keyCode!=224) {\n\t\t\t    key+='Meta+';\n\t\t\t}\n\t\t\tif (e.altKey && e.keyCode!=18) {\n\t\t\t    key+='Alt+';\n\t\t\t}\n\t\t\tif (e.shiftKey && e.keyCode!=16) {\n\t\t\t    key+='Shift+';\n\t\t\t}\n\t\t\tkey+=e.key;\n\n\t\t\tif (this[selectedKeyboard] && this[selectedKeyboard][key]) {\n\t\t\t    let keyboard = this[selectedKeyboard]\n\t\t\t    keyboard[key].call(options.app,e);\n\t\t\t}\n\t\t}\n\n\t\toptions.app.container.addEventListener('keydown', keyHandler)\n\t}\n\n}\n\nexport function keys(options={}) {\n\treturn new SimplyKeys(options)\n}\n\n", "const iterate = Symbol('iterate')\nif (!Symbol.xRay) {\n    Symbol.xRay = Symbol('xRay')\n}\n\nconst signalHandler = {\n    get: (target, property, receiver) => {\n        if (property===Symbol.xRay) {\n            return target // don't notifyGet here, this is only called by set\n        }\n        const value = target?.[property] // Reflect.get fails on a Set.\n        notifyGet(receiver, property)\n        if (typeof value === 'function') {\n            if (Array.isArray(target)) {\n                return (...args) => {\n                    let l = target.length\n                    // by binding the function to the receiver\n                    // all accesses in the function will be trapped\n                    // by the Proxy, so get/set/delete is all handled\n                    let result = value.apply(receiver, args)\n                    if (l != target.length) {\n                        notifySet(receiver,  makeContext('length', { was: l, now: target.length }) )\n                    }\n                    return result\n                }\n            } else if (target instanceof Set || target instanceof Map) {\n                return (...args) => {\n                    // node doesn't allow you to call set/map functions\n                    // bound to the receiver.. so using target instead\n                    // there are no properties to update anyway, except for size\n                    let s = target.size\n                    let result = value.apply(target, args)\n                    if (s != target.size) {\n                        notifySet(receiver, makeContext( 'size', { was: s, now: target.size }) )\n                    }\n                    // there is no efficient way to see if the function called\n                    // has actually changed the Set/Map, but by assuming the\n                    // 'setter' functions will change the results of the\n                    // 'getter' functions, effects should update correctly\n                    if (['set','add','clear','delete'].includes(property)) {\n                        notifySet(receiver, makeContext( { entries: {}, forEach: {}, has: {}, keys: {}, values: {}, [Symbol.iterator]: {} } ) )\n                    }\n                    return result\n                }\n            } else if (\n                target instanceof HTMLElement\n                || target instanceof Number\n                || target instanceof String\n                || target instanceof Boolean\n            ) {\n                return value.bind(target)\n            } else {\n                // support custom classes, hopefully\n                return value.bind(receiver)\n            }\n        }\n        if (value && typeof value == 'object') {\n            //NOTE: get now returns a signal, set doesn't 'unsignal' the value set\n            return signal(value)\n        }\n        return value\n    },\n    set: (target, property, value, receiver) => {\n        value = value?.[Symbol.xRay] || value // unwraps signal\n        let current = target[property]\n        if (current!==value) {\n            target[property] = value\n            notifySet(receiver, makeContext(property, { was: current, now: value } ) )\n        }\n        if (typeof current === 'undefined') {\n            notifySet(receiver, makeContext(iterate, {}))\n        }\n        return true\n    },\n    has: (target, property) => { // receiver is not part of the has() call\n        let receiver = signals.get(target) // so retrieve it here\n        if (receiver) {\n            notifyGet(receiver, property)\n        }\n        return Object.hasOwn(target, property)\n    },\n    deleteProperty: (target, property) => {\n        if (typeof target[property] !== 'undefined') {\n            let current = target[property]\n            delete target[property]\n            let receiver = signals.get(target) // receiver is not part of the trap arguments, so retrieve it here\n            notifySet(receiver, makeContext(property,{ delete: true, was: current }))\n        }\n        return true\n    },\n    defineProperty: (target, property, descriptor) => {\n        if (typeof target[property] === 'undefined') {\n            let receiver = signals.get(target) // receiver is not part of the trap arguments, so retrieve it here\n            notifySet(receiver, makeContext(iterate, {}))\n        }\n        return Object.defineProperty(target, property, descriptor)\n    },\n    ownKeys: (target) => {\n        let receiver = signals.get(target) // receiver is not part of the trap arguments, so retrieve it here\n        notifyGet(receiver, iterate)\n        return Reflect.ownKeys(target)\n    }\n\n}\n\n/**\n * Keeps track of the return signal for an update function, as well\n * as signals connected to other objects. \n * Makes sure that a given object or function always uses the same\n * signal\n */\nconst signals = new WeakMap()\n\n/**\n * Creates a new signal proxy of the given object, that intercepts get/has and set/delete\n * to allow reactive functions to be triggered when signal values change.\n */\nexport function signal(v) {\n    if (!signals.has(v)) {\n        signals.set(v, new Proxy(v, signalHandler))\n    }\n    return signals.get(v)\n}\n\nlet batchedListeners = new Set()\nlet batchMode = 0\n/**\n * Called when a signal changes a property (set/delete)\n * Triggers any reactor function that depends on this signal\n * to re-compute its values\n */\nfunction notifySet(self, context={}) {\n    let listeners = []\n    context.forEach((change, property) => {\n        let propListeners = getListeners(self, property)\n        if (propListeners?.length) {\n            for (let listener of propListeners) {\n                addContext(listener, makeContext(property,change))\n            }\n            listeners = listeners.concat(propListeners)\n        }\n    })\n    listeners = new Set(listeners.filter(Boolean))\n    if (listeners) {\n        if (batchMode) {\n            batchedListeners = batchedListeners.union(listeners)\n        } else {\n            const currentEffect = computeStack[computeStack.length-1]\n            for (let listener of Array.from(listeners)) {\n                if (listener!=currentEffect && listener?.needsUpdate) {\n                    listener()\n                }\n                clearContext(listener)\n            }\n        }\n    }\n}\n\nfunction makeContext(property, change) {\n    let context = new Map()\n    if (typeof property === 'object') {\n        for (let prop in property) {\n            context.set(prop, property[prop])\n        }\n    } else {\n        context.set(property, change)\n    }\n    return context\n}\n\nfunction addContext(listener, context) {\n    if (!listener.context) {\n        listener.context = context\n    } else {\n        context.forEach((change,property)=> {\n            listener.context.set(property, change) // TODO: merge change if needed\n        })\n    }\n    listener.needsUpdate = true\n}\n\nfunction clearContext(listener) {\n    delete listener.context\n    delete listener.needsUpdate\n}\n\n/**\n * Called when a signal property is accessed. If this happens\n * inside a reactor function--computeStack is not empty--\n * then it adds the current reactor (top of this stack) to its\n * listeners. These are later called if this property changes\n */\nfunction notifyGet(self, property) {\n    let currentCompute = computeStack[computeStack.length-1]\n    if (currentCompute) {\n        // get was part of a react() function, so add it\n        setListeners(self, property, currentCompute)\n    }\n}\n\n/**\n * Keeps track of which update() functions are dependent on which\n * signal objects and which properties. Maps signals to update fns\n */\nconst listenersMap = new WeakMap()\n\n/**\n * Keeps track of which signals and properties are linked to which\n * update functions. Maps update functions and properties to signals\n */\nconst computeMap = new WeakMap()\n\n/**\n * Returns the update functions for a given signal and property\n */\nfunction getListeners(self, property) {\n    let listeners = listenersMap.get(self)\n    return listeners ? Array.from(listeners.get(property) || []) : []\n}\n\n/**\n * Adds an update function (compute) to the list of listeners on\n * the given signal (self) and property\n */\nfunction setListeners(self, property, compute) {\n    if (!listenersMap.has(self)) {\n        listenersMap.set(self, new Map())\n    }\n    let listeners = listenersMap.get(self)\n    if (!listeners.has(property)) {\n        listeners.set(property, new Set())\n    }\n    listeners.get(property).add(compute)\n\n    if (!computeMap.has(compute)) {\n        computeMap.set(compute, new Map())\n    }\n    let connectedSignals = computeMap.get(compute)\n    if (!connectedSignals.has(property)) {\n        connectedSignals.set(property, new Set)\n    }\n    connectedSignals.get(property).add(self)\n}\n\n/**\n * Removes alle listeners that trigger the given reactor function (compute)\n * This happens when a reactor is called, so that it can set new listeners\n * based on the current call (code path)\n */\nfunction clearListeners(compute) {\n    let connectedSignals = computeMap.get(compute)\n    if (connectedSignals) {\n        connectedSignals.forEach(property => {\n            property.forEach(s => {\n                let listeners = listenersMap.get(s)\n                if (listeners.has(property)) {\n                    listeners.get(property).delete(compute)\n                }\n            })\n        })\n    }\n}\n\n/**\n * The top most entry is the currently running update function, used\n * to automatically record signals used in an update function.\n */\nlet computeStack = []\n\n/**\n * Used for cycle detection: effectStack contains all running effect\n * functions. If the same function appears twice in this stack, there\n * is a recursive update call, which would cause an infinite loop.\n */\nconst effectStack = []\n\nconst effectMap = new WeakMap()\n/**\n * Used for cycle detection: signalStack contains all used signals. \n * If the same signal appears more than once, there is a cyclical \n * dependency between signals, which would cause an infinite loop.\n */\nconst signalStack = []\n\n/**\n * Runs the given function at once, and then whenever a signal changes that\n * is used by the given function (or at least signals used in the previous run).\n */\nexport function effect(fn) {\n    if (effectStack.findIndex(f => fn==f)!==-1) {\n        throw new Error('Recursive update() call', {cause:fn})\n    }\n    effectStack.push(fn)\n\n    let connectedSignal = signals.get(fn)\n    if (!connectedSignal) {\n        connectedSignal = signal({\n            current: null\n        })\n        signals.set(fn, connectedSignal)\n    }\n\n    // this is the function that is called automatically\n    // whenever a signal dependency changes\n    const computeEffect = function computeEffect() {\n        if (signalStack.findIndex(s => s==connectedSignal)!==-1) {\n            throw new Error('Cyclical dependency in update() call', { cause: fn})\n        }\n        // remove all dependencies (signals) from previous runs \n        clearListeners(computeEffect)\n        // record new dependencies on this run\n        computeStack.push(computeEffect)\n        // prevent recursion\n        signalStack.push(connectedSignal)\n        // call the actual update function\n        let result\n        try {\n            result = fn(computeEffect, computeStack, signalStack)\n        } finally {\n            // stop recording dependencies\n            computeStack.pop()\n            // stop the recursion prevention\n            signalStack.pop()\n            if (result instanceof Promise) {\n                result.then((result) => {\n                    connectedSignal.current = result\n                })\n            } else {\n                connectedSignal.current = result\n            }\n        }\n    }\n    computeEffect.fn = fn\n    effectMap.set(connectedSignal, computeEffect)\n\n    // run the computEffect immediately upon creation\n    computeEffect()\n    return connectedSignal\n}\n\n\nexport function destroy(connectedSignal) {\n    // find the computeEffect associated with this signal\n    const computeEffect = effectMap.get(connectedSignal)?.deref()\n    if (!computeEffect) {\n        return\n    }\n\n    // remove all listeners for this effect\n    clearListeners(computeEffect)\n\n    // remove all references to connectedSignal\n    let fn = computeEffect.fn\n    signals.remove(fn)\n\n    effectMap.delete(connectedSignal)\n\n    // if no other references to connectedSignal exist, it will be garbage collected\n}\n\n/**\n * Inside a batch() call, any changes to signals do not trigger effects\n * immediately. Instead, immediately after finishing the batch() call,\n * these effects will be called. Effects that are triggered by multiple\n * signals are called only once.\n * @param Function fn batch() calls this function immediately\n * @result mixed the result of the fn() function call\n */\nexport function batch(fn) {\n    batchMode++\n    let result\n    try {\n        result = fn()\n    } finally {\n        if (result instanceof Promise) {\n            result.then(() => {\n                batchMode--\n                if (!batchMode) {\n                    runBatchedListeners()\n                }\n            })\n        } else {\n            batchMode--\n            if (!batchMode) {\n                runBatchedListeners()\n            }\n        }\n    }\n    return result\n}\n\nfunction runBatchedListeners() {\n    let copyBatchedListeners = Array.from(batchedListeners)\n    batchedListeners = new Set()\n    const currentEffect = computeStack[computeStack.length-1]\n    for (let listener of copyBatchedListeners) {\n        if (listener!=currentEffect && listener?.needsUpdate) {\n            listener()\n        }\n        clearContext(listener)\n    }\n}\n\n/**\n * A throttledEffect is run immediately once. And then only once\n * per throttleTime (in ms).\n * @param Function fn the effect function to run whenever a signal changes\n * @param int throttleTime in ms\n * @returns signal with the result of the effect function fn\n */\nexport function throttledEffect(fn, throttleTime) {\n    if (effectStack.findIndex(f => fn==f)!==-1) {\n        throw new Error('Recursive update() call', {cause:fn})\n    }\n    effectStack.push(fn)\n\n    let connectedSignal = signals.get(fn)\n    if (!connectedSignal) {\n        connectedSignal = signal({\n            current: null\n        })\n        signals.set(fn, connectedSignal)\n    }\n\n    let throttled = false\n    let hasChange = true\n    // this is the function that is called automatically\n    // whenever a signal dependency changes\n    const computeEffect = function computeEffect() {\n        if (signalStack.findIndex(s => s==connectedSignal)!==-1) {\n            throw new Error('Cyclical dependency in update() call', { cause: fn})\n        }\n        if (throttled && throttled>Date.now()) {\n            hasChange = true\n            return\n        }\n        // remove all dependencies (signals) from previous runs \n        clearListeners(computeEffect)\n        // record new dependencies on this run\n        computeStack.push(computeEffect)\n        // prevent recursion\n        signalStack.push(connectedSignal)\n        // call the actual update function\n        let result\n        try {\n            result = fn(computeEffect, computeStack, signalStack)\n        } finally {\n            hasChange = false\n            // stop recording dependencies\n            computeStack.pop()\n            // stop the recursion prevention\n            signalStack.pop()\n            if (result instanceof Promise) {\n                result.then((result) => {\n                    connectedSignal.current = result\n                })\n            } else {\n                connectedSignal.current = result\n            }\n        }\n        throttled = Date.now()+throttleTime\n        globalThis.setTimeout(() => {\n            if (hasChange) {\n                computeEffect()\n            }\n        }, throttleTime)\n    }\n    // run the computEffect immediately upon creation\n    computeEffect()\n    return connectedSignal\n}\n\n// refactor: Class clock() with an effect() method\n// keep track of effects per clock, and add clock property to the effect function\n// on notifySet add clock.effects to clock.needsUpdate list\n// on clock.tick() (or clock.time++) run only the clock.needsUpdate effects \n// (first create a copy and reset clock.needsUpdate, then run effects)\nexport function clockEffect(fn, clock) {\n    let connectedSignal = signals.get(fn)\n    if (!connectedSignal) {\n        connectedSignal = signal({\n            current: null\n        })\n        signals.set(fn, connectedSignal)\n    }\n\n    let lastTick = -1 // clock.time should start at 0 or larger\n    let hasChanged = true // make sure the first run goes through\n    // this is the function that is called automatically\n    // whenever a signal dependency changes\n    const computeEffect = function computeEffect() {\n        if (lastTick < clock.time) {\n            if (hasChanged) {\n                // remove all dependencies (signals) from previous runs \n                clearListeners(computeEffect)\n                // record new dependencies on this run\n                computeStack.push(computeEffect)\n                // make sure the clock.time signal is a dependency\n                lastTick = clock.time\n                // call the actual update function\n                let result \n                try {\n                    result = fn(computeEffect, computeStack)\n                } finally {\n                    // stop recording dependencies\n                    computeStack.pop()\n                    if (result instanceof Promise) {\n                        result.then((result) => {\n                            connectedSignal.current = result\n                        })\n                    } else {\n                        connectedSignal.current = result\n                    }\n                    hasChanged = false\n                }\n            } else {\n                lastTick = clock.time\n            }\n        } else {\n            hasChanged = true\n        }\n    }\n    // run the computEffect immediately upon creation\n    computeEffect()\n    return connectedSignal\n}\n\nexport function untracked(fn) {\n    const remember = computeStack.slice()\n    computeStack = []\n    try {\n        return fn()\n    } finally {\n        computeStack = remember\n    }\n}", "import { throttledEffect, destroy } from './state.mjs'\n\nclass SimplyBind {\n    constructor(options) {\n        this.bindings = new Map()\n        const defaultOptions = {\n            container: document.body,\n            attribute: 'data-bind',\n            transformers: [],\n            defaultTransformers: [defaultTransformer]\n        }\n        if (!options?.root) {\n            throw new Error('bind needs at least options.root set')\n        }\n        this.options = Object.assign({}, defaultOptions, options)\n\n        const attribute = this.options.attribute\n\n        // sets up the effect that updates the element if its\n        // data binding value changes\n\n        const render = (el) => {\n            this.bindings.set(el, throttledEffect(() => {\n                const context = {\n                    templates: el.querySelectorAll(':scope > template'),\n                    path: this.getBindingPath(el)\n                }\n                context.value = getValueByPath(this.options.root, context.path)\n                context.element = el\n                runTransformers(context)\n            }, 100))\n        }\n\n        // finds and runs applicable transformers\n        // creates a stack of transformers, calls the topmost\n        // each transformer can opt to call the next or not\n        // transformers should return the context object (possibly altered)\n        const runTransformers = (context) => {\n            let transformers = this.options.defaultTransformers || []\n            if (context.element.dataset.transform) {\n                context.element.dataset.transform.split(' ').filter(Boolean).forEach(t => {\n                    if (this.options.transformers[t]) {\n                        transformers.push(this.options.transformers[t])\n                    } else {\n                        console.warn('No transformer with name '+t+' configured', {cause:context.element})\n                    }\n                })\n            }\n            let next\n            for (let transformer of transformers) {\n                next = ((next, transformer) => {\n                    return (context) => {\n                        return transformer.call(this, context, next)\n                    }\n                })(next, transformer)\n            }\n            next(context)\n        }\n\n        // given a set of elements with data bind attribute\n        // this renders each of those elements\n        const applyBindings = (bindings) => {\n            for (let bindingEl of bindings) {\n                render(bindingEl)\n            }\n        }\n\n        // this handles the mutation observer changes\n        // if any element is added, and has a data bind attribute\n        // it applies that data binding\n        const updateBindings = (changes) => {\n            for (const change of changes) {\n                if (change.type==\"childList\" && change.addedNodes) {\n                    for (let node of change.addedNodes) {\n                        if (node instanceof HTMLElement) {\n                            let bindings = Array.from(node.querySelectorAll(`[${attribute}]`))\n                            if (node.matches(`[${attribute}]`)) {\n                                bindings.unshift(node)\n                            }\n                            if (bindings.length) {\n                                applyBindings(bindings)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        // this responds to elements getting added to the dom\n        // and if any have data bind attributes, it applies those bindings\n        this.observer = new MutationObserver((changes) => {\n            updateBindings(changes)\n        })\n\n        this.observer.observe(options.container, {\n            subtree: true,\n            childList: true\n        })\n\n        // this finds elements with data binding attributes and applies those bindings\n        // must come after setting up the observer, or included templates\n        // won't trigger their own bindings\n        const bindings = this.options.container.querySelectorAll('['+this.options.attribute+']:not(template)')\n        if (bindings.length) {\n            applyBindings(bindings)\n        }\n\n    }\n\n    /**\n     * Finds the first matching template and creates a new DocumentFragment\n     * with the correct data bind attributes in it (prepends the current path)\n     */\n    applyTemplate(context) {\n        const path      = context.path\n        const templates = context.templates\n        const list      = context.list\n        const index     = context.index\n        const parent    = context.parent\n        const value     = list ? list[index] : context.value\n\n        let template = this.findTemplate(templates, value)\n        if (!template) {\n            let result = new DocumentFragment()\n            result.innerHTML = '<!-- no matching template -->'\n            return result\n        }\n        let clone = template.content.cloneNode(true)\n        if (!clone.children?.length) {\n            throw new Error('template must contain a single html element', { cause: template })\n        }\n        if (clone.children.length>1) {\n            throw new Error('template must contain a single root node', { cause: template })\n        }\n        const bindings = clone.querySelectorAll('['+this.options.attribute+']')\n        const attribute = this.options.attribute\n        for (let binding of bindings) {\n            const bind = binding.getAttribute(attribute)\n            if (bind.substring(0, '#root.'.length)=='#root.') {\n                binding.setAttribute(attribute, bind.substring('#root.'.length))\n            } else if (bind=='#value' && index!=null) {\n                binding.setAttribute(attribute, path+'.'+index)\n            } else if (index!=null) {\n                binding.setAttribute(attribute, path+'.'+index+'.'+bind)\n            } else {\n                binding.setAttribute(attribute, parent+'.'+bind)\n            }\n        }\n        if (typeof index !== 'undefined') {\n            clone.children[0].setAttribute(attribute+'-key',index)\n        }\n        // keep track of the used template, so if that changes, the \n        // item can be updated\n        clone.children[0].$bindTemplate = template\n        return clone\n    }\n\n    getBindingPath(el) {\n        return el.getAttribute(this.options.attribute)\n    }\n\n    /**\n     * Finds the first template from an array of templates that\n     * matches the given value. \n     */\n    findTemplate(templates, value) {\n        const templateMatches = t => {\n            // find the value to match against (e.g. data-bind=\"foo\")\n            let path = this.getBindingPath(t)\n            let currentItem\n            if (path) {\n                if (path.substr(0,6)=='#root.') {\n                    currentItem = getValueByPath(this.options.root, path)\n                } else {\n                    currentItem = getValueByPath(value, path)\n                }\n            } else {\n                currentItem = value\n            }\n\n            // then check the value against pattern, if set (e.g. data-bind-match=\"bar\")\n            const strItem = ''+currentItem\n            let matches = t.getAttribute(this.options.attribute+'-match')\n            if (matches) {\n                if (matches==='#empty' && !currentItem) {\n                    return t\n                } else if (matches==='#notempty' && currentItem) {\n                    return t\n                }\n                if (strItem.match(matches)) {\n                    return t\n                }\n            }\n            if (!matches) {\n                // no data-bind-match is set, so return this template is currentItem is truthy\n                if (currentItem) {\n                    return t\n                }\n            }\n        }\n        let template = Array.from(templates).find(templateMatches)\n        let rel = template?.getAttribute('rel')\n        if (rel) {\n            let replacement = document.querySelector('template#'+rel)\n            if (!replacement) {\n                throw new Error('Could not find template with id '+rel)\n            }\n            template = replacement\n        }\n        return template\n    }\n\n    destroy() {\n        this.bindings.forEach(binding => {\n            destroy(binding)\n        })\n        this.bindings = new Map()\n        this.observer.disconnect()\n    }\n\n}\n\n/**\n * Returns a new instance of SimplyBind. This is the normal start\n * of a data bind flow\n */\nexport function bind(options)\n{\n    return new SimplyBind(options)\n}\n\n/**\n * Returns true if a matches b, either by having the\n * same string value, or matching string #empty against a falsy value\n */\nexport function matchValue(a,b) {\n    if (a=='#empty' && !b) {\n        return true\n    }\n    if (b=='#empty' && !a) {\n        return true\n    }\n    if (''+a == ''+b) {\n        return true\n    }\n    return false\n}\n\n/**\n * Returns the value by walking the given path\n * as a json pointer, starting at root\n * if you have a property with a '.' in its name\n * urlencode the '.', e.g: %46\n */\nexport function getValueByPath(root, path)\n{\n    let parts = path.split('.');\n    let curr = root;\n    let part, prevPart;\n    while (parts.length && curr) {\n        part = parts.shift()\n        if (part=='#key') {\n            return prevPart\n        } else if (part=='#value') {\n            return curr\n        } else if (part=='#root') {\n            curr = root\n        } else {\n            part = decodeURIComponent(part)\n            curr = curr[part];\n            prevPart = part\n        }\n    }\n    return curr\n}\n\n/**\n * Default transformer for data binding\n * Will be used unless overriden in the SimplyBind options parameter\n */\nexport function defaultTransformer(context) {\n    const el             = context.element\n    const templates      = context.templates\n    const templatesCount = templates.length \n    const path           = context.path\n    const value          = context.value\n    const attribute      = this.options.attribute\n\n    if (Array.isArray(value) && templates?.length) {\n        transformArrayByTemplates.call(this, context)\n    } else if (typeof value == 'object' && templates?.length) {\n        transformObjectByTemplates.call(this, context)\n    } else if (templates?.length) {\n        transformLiteralByTemplates.call(this, context)\n    } else if (el.tagName=='INPUT') {\n        transformInput.call(this, context)\n    } else if (el.tagName=='BUTTON') {\n        transformButton.call(this, context)\n    } else if (el.tagName=='SELECT') {\n        transformSelect.call(this, context)\n    } else if (el.tagName=='A') {\n        transformAnchor.call(this, context)\n    } else {\n        transformElement.call(this, context)\n    }\n    return context\n}\n\n/**\n * Renders an array value by applying templates for each entry\n * Replaces or removes existing DOM children if needed\n * Reuses (doesn't touch) DOM children if template doesn't change\n */\nexport function transformArrayByTemplates(context) {\n    const el             = context.element\n    const templates      = context.templates\n    const templatesCount = templates.length \n    const path           = context.path\n    const value          = context.value\n    const attribute      = this.options.attribute\n\n    let items = el.querySelectorAll(':scope > ['+attribute+'-key]')\n    // do single merge strategy for now, in future calculate optimal merge strategy from a number\n    // now just do a delete if a key <= last key, insert if a key >= last key\n    let lastKey = 0\n    let skipped = 0\n    context.list  = value\n    for (let item of items) {\n        let currentKey = parseInt(item.getAttribute(attribute+'-key'))\n        if (currentKey>lastKey) {\n            // insert before\n            context.index = lastKey\n            el.insertBefore(this.applyTemplate(context), item)\n        } else if (currentKey<lastKey) {\n            // remove this\n            item.remove()\n        } else {\n            // check that all data-bind params start with current json path or a '#', otherwise replaceChild\n            let bindings = Array.from(item.querySelectorAll(`[${attribute}]`))\n            if (item.matches(`[${attribute}]`)) {\n                bindings.unshift(item)\n            }\n            let needsReplacement = bindings.find(b => {\n                let databind = b.getAttribute(attribute)\n                return (databind.substr(0,5)!=='#root' \n                    && databind.substr(0, path.length)!==path)\n            })\n            if (!needsReplacement) {\n                if (item.$bindTemplate) {\n                    let newTemplate = this.findTemplate(templates, value[lastKey])\n                    if (newTemplate != item.$bindTemplate){\n                        needsReplacement = true\n                        if (!newTemplate) {\n                            skipped++\n                        }\n                    }\n                }\n            }\n            if (needsReplacement) {\n                context.index = lastKey\n                el.replaceChild(this.applyTemplate(context), item)\n            }\n        }\n        lastKey++\n        if (lastKey>=value.length) {\n            break\n        }\n    }\n    items = el.querySelectorAll(':scope > ['+attribute+'-key]')\n    let length = items.length + skipped\n    if (length > value.length) {\n        while (length > value.length) {\n            let child = el.querySelectorAll(':scope > :not(template)')?.[length-1]\n            child?.remove()\n            length--\n        }\n    } else if (length < value.length ) {\n        while (length < value.length) {\n            context.index = length\n            el.appendChild(this.applyTemplate(context))\n            length++\n        }\n    }\n}\n\n/**\n * Renders an object value by applying templates for each entry (Object.entries)\n * Replaces or removes existing DOM children if needed\n * Reuses (doesn't touch) DOM children if template doesn't change\n */\nexport function transformObjectByTemplates(context) {\n    const el             = context.element\n    const templates      = context.templates\n    const templatesCount = templates.length \n    const path           = context.path\n    const value          = context.value\n    const attribute      = this.options.attribute\n    context.list = value\n\n    let list    = Object.entries(value)\n    let items   = el.querySelectorAll(':scope > ['+attribute+'-key]')\n    let current = 0\n    let skipped = 0\n    for (let item of items) {\n        if (current>=list.length) {\n            break\n        }\n        let key = list[current][0]\n        current++\n        let keypath = path+'.'+key\n        // check that all data-bind params start with current json path or a '#', otherwise replaceChild\n        let needsReplacement\n        const databind = item.getAttribute(attribute)\n        if (databind && databind.substr(0, keypath.length)!=keypath) {\n            needsReplacement=true\n        } else {\n            let bindings = Array.from(item.querySelectorAll(`[${attribute}]`))\n            needsReplacement = bindings.find(b => {\n                const db = b.getAttribute(attribute)\n                return (db.substr(0,5)!=='#root' && db.substr(0, keypath.length)!==keypath)\n            })\n            if (!needsReplacement) {\n                if (item.$bindTemplate) {\n                    let newTemplate = this.findTemplate(templates, value[key])\n                    if (newTemplate != item.$bindTemplate){\n                        needsReplacement = true\n                        if (!newTemplate) {\n                            skipped++\n                        }\n                    }\n                }\n            }\n        }\n        if (needsReplacement) {\n            context.index = key\n            let clone = this.applyTemplate(context)\n            el.replaceChild(clone, item)\n        }\n    }\n    items  = el.querySelectorAll(':scope > ['+attribute+'-key]')\n    let length = items.length + skipped\n    if (length>list.length) {\n        while (length>list.length) {\n            let child = el.querySelectorAll(':scope > :not(template)')?.[length-1]\n            child?.remove()\n            length--\n        }\n    } else if (length < list.length) {\n        while (length < list.length) {\n            context.index = list[length][0]\n            el.appendChild(this.applyTemplate(context))\n            length++\n        }\n    } \n}\n\n/**\n * transforms the contents of an html element by rendering\n * a matching template, once.\n * data-bind attributes inside the template use the same\n * parent path as this html element uses\n */\nexport function transformLiteralByTemplates(context) {\n    const el             = context.element\n    const templates      = context.templates\n    const value          = context.value\n    const attribute      = this.options.attribute\n\n    const rendered = el.querySelector(':scope > :not(template)')\n    const template = this.findTemplate(templates, value)\n    context.parent = el.parentElement?.closest(`[${attribute}]`)?.getAttribute(attribute) || '#root'\n    if (rendered) {\n        if (template) {\n            if (rendered?.$bindTemplate != template) {\n                const clone = this.applyTemplate(context)\n                el.replaceChild(clone, rendered)\n            }\n        } else {\n            el.removeChild(rendered)\n        }\n    } else if (template) {\n        const clone = this.applyTemplate(context)\n        el.appendChild(clone)\n    }\n}\n\n/**\n * transforms a single input type\n * for radio/checkbox inputs it only sets the checked attribute to true/false\n * if the value attribute matches the current value\n * for other inputs the value attribute is updated\n * FIXME: handle radio/checkboxes in separate transformer\n */\nexport function transformInput(context) {\n    const el    = context.element\n    const value = context.value\n\n    if (el.type=='checkbox' || el.type=='radio') {\n        if (matchValue(el.value, value)) {\n            el.checked = true\n        } else {\n            el.checked = false\n        }\n    } else if (!matchValue(el.value, value)) {\n        el.value = ''+value\n    }\n}\n\n/**\n * Sets the value of the button, doesn't touch the innerHTML\n */\nexport function transformButton(context) {\n    const el    = context.element\n    const value = context.value\n\n    if (!matchValue(el.value,value)) {\n        el.value = ''+value\n    }\n}\n\n/**\n * Sets the selected attribute of select options\n */\nexport function transformSelect(context) {\n    const el    = context.element\n    const value = context.value\n\n    if (el.multiple) {\n        if (Array.isArray(value)) {\n            for (let option of el.options) {\n                if (value.indexOf(option.value)===false) {\n                    option.selected = false\n                } else {\n                    option.selected = true\n                }\n            }\n        }\n    } else {\n        let option = el.options.find(o => matchValue(o.value,value))\n        if (option) {\n            option.selected = true\n        }\n    }\n}\n\n/**\n * Sets the innerHTML and href attribute of an anchor\n * TODO: support target, title, etc. attributes\n */\nexport function transformAnchor(context) {\n    const el    = context.element\n    const value = context.value\n\n    if (value?.innerHTML && !matchValue(el.innerHTML, value.innerHTML)) {\n        el.innerHTML = ''+value.innerHTML\n    }\n    if (value?.href && !matchValue(el.href,value.href)) {\n        el.href = ''+value.href\n    }    \n}\n\n/**\n * sets the innerHTML of any HTML element\n */\nexport function transformElement(context) {\n    const el    = context.element\n    const value = context.value\n\n    if (!matchValue(el.innerHTML, value)) {\n        el.innerHTML = ''+value\n    }\n}", "import { routes } from './route.mjs'\nimport { commands } from './command.mjs'\nimport { actions } from './action.mjs'\nimport { keys } from './key.mjs'\nimport { signal } from './state.mjs'\nimport { bind } from './bind.mjs'\n\nclass SimplyApp {\n\tconstructor(options={}) {\n\t\tthis.container = options.container || document.body\n\t\tif (!options.state) {\n\t\t\toptions.state = {}\n\t\t}\n\t\tthis.state = signal(options.state)\n\t\tif (options.commands) {\n\t\t\tthis.commands = commands({ app: this, container: this.container, commands: options.commands})\n\t\t}\n\t\tif (options.keys) {\n\t\t\tthis.keys = keys({ app: this, keys: options.keys })\n\t\t}\n\t\tif (options.routes) {\n\t\t\tthis.routes = routes({ app: this, routes: options.routes})\n\t\t}\n\t\tif (options.actions) {\n\t\t\tthis.actions = actions({app: this, actions: options.actions})\n\t\t}\n\t\tlet bindOptions = { container: this.container, root: this.state }\n\t\tif (options.defaultTransformers) {\n\t\t\tbindOptions.defaultTransformers = options.defaultTransformers\n\t\t}\n\t\tif (options.transformers) {\n\t\t\tbindOptions.transformers = options.transformers\n\t\t}\n\t\tthis.bind = bind(bindOptions)\n\t}\n}\n\nexport function app(options={}) {\n\treturn new SimplyApp(options)\n}", "function throttle( callbackFunction, intervalTime ) {\n    let eventId = 0\n    return () => {\n        const myArguments = arguments\n        if ( eventId ) {\n            return\n        } else {\n            eventId = globalThis.setTimeout( () => {\n                callbackFunction.apply(this, myArguments)\n                eventId = 0\n            }, intervalTime )\n        }\n    }\n}\n\nconst runWhenIdle = (() => {\n    if (globalThis.requestIdleCallback) {\n        return (callback) => {\n            globalThis.requestIdleCallback(callback, {timeout: 500})\n        }\n    }\n    return globalThis.requestAnimationFrame\n})()\n\nfunction rebaseHref(relative, base) {\n    let url = new URL(relative, base)\n    if (include.cacheBuster) {\n        url.searchParams.set('cb',include.cacheBuster)\n    }\n    return url.href\n}\n\nlet observer, loaded = {}\nlet head = globalThis.document.querySelector('head')\nlet currentScript = globalThis.document.currentScript\nlet getScriptURL, currentScriptURL\nif (!currentScript) {\n    getScriptURL = (() => {\n        var scripts = document.getElementsByTagName('script')\n        var index = scripts.length - 1\n        var myScript = scripts[index]\n        return () => myScript.src\n    })()\n    currentScriptURL = getScriptURL()\n} else {\n    currentScriptURL = currentScript.src\n}\n\nconst waitForPreviousScripts = async () => {\n    // because of the async=false attribute, this script will run after\n    // the previous scripts have been loaded and run\n    // simply.include.next.js only fires the simply-next-script event\n    // that triggers the Promise.resolve method\n    return new Promise(function(resolve) {\n        var next = globalThis.document.createElement('script')\n        next.src = rebaseHref('simply.include.next.js', currentScriptURL)\n        next.async = false\n        globalThis.document.addEventListener('simply-include-next', () => {\n            head.removeChild(next)\n            resolve()\n        }, { once: true, passive: true})\n        head.appendChild(next)\n    })\n}\n\nlet scriptLocations = []\n\nexport const include = {\n    cacheBuster: null,\n    scripts: (scripts, base) => {\n        let arr = scripts.slice()\n        const importScript = () => {\n            const script = arr.shift()\n            if (!script) {\n                return\n            }\n            const attrs  = [].map.call(script.attributes, (attr) => {\n                return attr.name\n            })\n            let clone  = globalThis.document.createElement('script')\n            for (const attr of attrs) {\n                clone.setAttribute(attr, script.getAttribute(attr))\n            }\n            clone.removeAttribute('data-simply-location')\n            if (!clone.src) {\n                // this is an inline script, so copy the content and wait for previous scripts to run\n                clone.innerHTML = script.innerHTML\n                waitForPreviousScripts()\n                    .then(() => {\n                        const node = scriptLocations[script.dataset.simplyLocation]\n                        node.parentNode.insertBefore(clone, node)\n                        node.parentNode.removeChild(node)\n                        importScript()\n                    })\n            } else {\n                clone.src = rebaseHref(clone.src, base)\n                if (!clone.hasAttribute('async') && !clone.hasAttribute('defer')) {\n                    clone.async = false //important! do not use clone.setAttribute('async', false) - it has no effect\n                }\n                const node = scriptLocations[script.dataset.simplyLocation]\n                node.parentNode.insertBefore(clone, node)\n                node.parentNode.removeChild(node)\n                loaded[clone.src]=true\n                importScript()\n            }\n        }\n        if (arr.length) {\n            importScript()\n        }\n    },\n    html: (html, link) => {\n        let fragment = globalThis.document.createRange().createContextualFragment(html)\n        const stylesheets = fragment.querySelectorAll('link[rel=\"stylesheet\"],style')\n        // add all stylesheets to head\n        for (let stylesheet of stylesheets) {\n            if (stylesheet.href) {\n                stylesheet.href = rebaseHref(stylesheet.href, link.href)\n            }\n            head.appendChild(stylesheet)\n        }\n        // remove the scripts from the fragment, as they will not run in the\n        // order in which they are defined\n        let scriptsFragment = globalThis.document.createDocumentFragment()\n        const scripts = fragment.querySelectorAll('script')\n        for (let script of scripts) {\n            let placeholder = globalThis.document.createComment(script.src || 'inline script')\n            script.parentNode.insertBefore(placeholder, script)\n            script.dataset.simplyLocation = scriptLocations.length\n            scriptLocations.push(placeholder)\n            scriptsFragment.appendChild(script)\n        }\n        // add the remainder before the include link\n        link.parentNode.insertBefore(fragment, link ? link : null)\n        globalThis.setTimeout(function() {\n            include.scripts(scriptsFragment.childNodes, link ? link.href : globalThis.location.href )\n        }, 10)\n    }\n}\n\nlet included = {}\nconst includeLinks = async (links) => {\n    // mark them as in progress, so handleChanges doesn't find them again\n    let remainingLinks = [].reduce.call(links, (remainder, link) => {\n        if (link.rel=='simply-include-once' && included[link.href]) {\n            link.parentNode.removeChild(link)\n        } else {\n            included[link.href]=true\n            link.rel = 'simply-include-loading'\n            remainder.push(link)\n        }\n        return remainder\n    }, [])\n\n    for (let link of remainingLinks) {\n        if (!link.href) {\n            return\n        }\n        // fetch the html\n        const response = await fetch(link.href)\n        if (!response.ok) {\n            console.log('simply-include: failed to load '+link.href);\n            continue\n        }\n        console.log('simply-include: loaded '+link.href);\n        const html = await response.text()\n        // if succesfull import the html\n        include.html(html, link)\n        // remove the include link\n        link.parentNode.removeChild(link)\n    }\n}\n\nconst handleChanges = throttle(() => {\n    runWhenIdle(() => {\n        var links = globalThis.document.querySelectorAll('link[rel=\"simply-include\"],link[rel=\"simply-include-once\"]')\n        if (links.length) {\n            includeLinks(links)\n        }\n    })\n})\n\nconst observe = () => {\n    observer = new MutationObserver(handleChanges)\n    observer.observe(globalThis.document, {\n        subtree: true,\n        childList: true,\n    })\n}\n\nobserve()\nhandleChanges() // check if there are include links in the dom already\n", "import {signal, effect, batch} from './state.mjs'\n\n/**\n * This class implements a pluggable data model, where you can\n * add effects that are run only when either an option for that\n * effect changes, or when an effect earlier in the chain of\n * effects changes.\n */\nclass SimplyModel {\n\n\t/**\n\t * Creates a new datamodel, with a state property that contains\n\t * all the data passed to this constructor\n\t * @param state\tObject with all the data for this model\n\t */\n\tconstructor(state) {\n\t\tthis.state = signal(state)\n\t\tif (!this.state.options) {\n\t\t\tthis.state.options = {}\n\t\t}\n\t\tthis.effects = [{current:state.data}]\n\t\tthis.view = signal(state.data)\n\t}\n\n\t/**\n\t * Adds an effect to run whenever a signal it depends on\n\t * changes. this.state is the usual signal.\n\t * The `fn` function param is not itself an effect, but must return\n\t * and effect function. `fn` takes one param, which is the data signal.\n\t * This signal will always have at least a `current` property.\n\t * The result of the effect function is pushed on to the this.effects\n\t * list. And the last effect added is set as this.view\n\t */\n\taddEffect(fn) {\n\t\tconst dataSignal = this.effects[this.effects.length-1]\n\t\tthis.view = fn.call(this, dataSignal)\n\t\tthis.effects.push(this.view)\n\t}\n}\n\nexport function model(options) {\n\treturn new SimplyModel(options)\n}\n\nexport function sort(options={}) {\n\treturn function(data) {\n\t\t// initialize the sort options, only gets called once\n\t\tthis.state.options.sort = Object.assign({\n\t\t\tdirection: 'asc',\n\t\t\tsortBy: null,\n\t\t\tsortFn: ((a,b) => {\n\t\t\t\tconst sort = this.state.options.sort\n\t\t\t\tconst sortBy = sort.sortBy\n\t\t\t\tif (!sort.sortBy) {\n\t\t\t\t\treturn 0\n\t\t\t\t}\n\t\t\t\tconst larger = sort.direction == 'asc' ? 1 : -1\n\t\t\t\tconst smaller = sort.direction == 'asc' ? -1 : 1\n\t\t\t\tif (typeof a?.[sortBy] === 'undefined') {\n\t\t\t\t\tif (typeof b?.[sortBy] === 'undefined') {\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t}\n\t\t\t\t\treturn larger\n\t\t\t\t}\n\t\t\t\tif (typeof b?.[sortBy] === 'undefined') {\n\t\t\t\t\treturn smaller\n\t\t\t\t}\n\t\t\t\tif (a[sortBy]<b[sortBy]) {\n\t\t\t\t\treturn smaller\n\t\t\t\t} else if (a[sortBy]>b[sortBy]) {\n\t\t\t\t\treturn larger\n\t\t\t\t} else {\n\t\t\t\t\treturn 0\n\t\t\t\t}\n\t\t\t})\n\t\t}, options);\n\t\t// then return the effect, which is called when\n\t\t// either the data or the sort options change\n\t\treturn effect(() => {\n\t\t\tconst sort = this.state.options.sort\n\t\t\tif (sort?.sortBy && sort?.direction) {\n\t\t\t\treturn data.current.toSorted(sort?.sortFn)\n\t\t\t}\n\t\t\treturn data.current\n\t\t})\n\t}\n}\n\nexport function paging(options={}) {\n\treturn function(data) {\n\t\t// initialize the paging options\n\t\tthis.state.options.paging = Object.assign({\n\t\t\tpage: 1,\n\t\t\tpageSize: 20,\n\t\t\tmax: 1\n\t\t}, options)\n\t\treturn effect(() => {\n\t\t\treturn batch(() => {\n\t\t\t\tconst paging = this.state.options.paging\n\t\t\t\tif (!paging.pageSize) {\n\t\t\t\t\tpaging.pageSize = 20\n\t\t\t\t}\n\t\t\t\tpaging.max = Math.ceil(this.state.data.length / paging.pageSize)\n\t\t\t\tpaging.page = Math.max(1, Math.min(paging.max, paging.page))\n\n\t\t\t\tconst start = (paging.page-1) * paging.pageSize\n\t\t\t\tconst end = start + paging.pageSize\n\t\t\t\treturn data.current.slice(start, end)\n\t\t\t})\n\t\t})\n\t}\n}\n\nexport function filter(options) {\n\tif (!options?.name || typeof options.name!=='string') {\n\t\tthrow new Error('filter requires options.name to be a string')\n\t}\n\tif (!options.matches || typeof options.matches!=='function') {\n\t\tthrow new Error('filter requires options.matches to be a function')\n\t}\n\treturn function(data) {\n\t\tthis.state.options[options.name] = options\n\t\treturn effect(() => {\n\t\t\tif (this.state.options[options.name].enabled) {\n\t\t\t\treturn data.filter(this.state.options.matches)\n\t\t\t}\n\t\t})\n\t}\n}\n\nexport function columns(options={}) {\n\tif (!options\n\t\t|| typeof options!=='object'\n\t\t|| Object.keys(options).length===0) {\n\t\tthrow new Error('columns requires options to be an object with at least one property')\n\t}\n\treturn function(data) {\n\t\tthis.state.options.columns = options\n\t\treturn effect(() => {\n\t\t\treturn data.current.map(input => {\n\t\t\t\tlet result = {}\n\t\t\t\tfor (let key of Object.keys(this.state.options.columns)) {\n\t\t\t\t\tif (!this.state.options.columns[key].hidden) {\n\t\t\t\t\t\tresult[key] = input[key]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t})\n\t\t})\n\t}\n}", "import { activate } from './activate.mjs'\nimport * as action from './action.mjs'\nimport { app } from './app.mjs'\nimport { bind } from './bind.mjs'\nimport * as command from './command.mjs'\nimport { include } from './include.mjs'\nimport * as key from './key.mjs'\nimport * as model from './model.mjs'\nimport * as route from './route.mjs'\nimport * as state from './state.mjs'\n\nconst simply = {\n\tactivate,\n\taction,\n\tapp,\n\tbind,\n\tcommand,\n\tinclude,\n\tkey,\n\tmodel,\n\troute,\n\tstate\n}\n\nwindow.simply = simply\n\nexport default simply", "import { transformers } from './transformers.mjs'\nimport { solidApi } from './solid-api.mjs'\nimport { appui } from './appui.mjs'\nimport simply from 'simplyview/src/everything.mjs'\n\nexport const zett = simply.app({\n\troutes: {\n\n\t},\n\tkeys: {\n\t\tdefault: {\n\t\t\t...appui.keys.default,\n\t\t\t'Control+ ': function(evt) {\n\t\t\t\tthis.menu.showPopover()\n\t\t\t\tthis.menu.querySelector('a').focus()\n\t\t\t}\n\t\t}\n\t},\n\tcommands: {\n\t\t...appui.commands,\n\t\topenLink: async function(el, value) {\n\t\t\tconst buttonPos = getOffset(el)\n\t\t\ttry {\n\t\t\t\tconst file = await this.actions.openLink(el.href)\n\t\t\t\tif (!file) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.state.worksheets[0].files[zett.state.file].position = {\n\t\t\t\t\tx: buttonPos.left,\n\t\t\t\t\ty: buttonPos.top\n\t\t\t\t}\n\t\t\t} catch(error) {\n\t\t\t\talert(error.message) //TODO: use toast for errors\n\t\t\t}\n\t\t},\n\t\taddFile: async function(form, values) {\n\t\t\tthis.actions.uiCloseDialog(this.dialogs.addFile)\n\t\t\ttry {\n\t            const file = await this.actions.addFile(values.url)\n                window.setTimeout(() => {\n                    document.querySelector('.zett-entity').classList.remove('zett-pre-entity')\n                    document.querySelector('.zett-entity [name=\"value\"]').focus()\n                }, 100)\n\t        } catch(error) {\n                this.state.fetchUrl = values.url\n                this.actions.uiOpenModalDialog(this.dialogs.setIssuer)\n            }\n\t\t},\n\t\tzettMenu: async function(el, value) {\n\t\t\tthis.menu.togglePopover()\n\t\t},\n\t\tzettAddFileDialog: async function(el, value) {\n\t\t\tthis.menu.hidePopover()\n\t\t\tthis.actions.uiOpenModalDialog(this.dialogs.addFile)\n\t\t}\n\t},\n\tactions: {\n\t\t...appui.actions,\n\t\topenLink: async function(url) {\n\t\t\turl = new URL(url)\n\t\t\tconst file = await this.actions.addFile(url)\n\t\t\tif (!file) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (url.hash) {\n\t\t\t\t// filter data\t\n\t\t\t}\n\t\t\treturn file\n\t\t},\n\t\taddFile: async function(url) {\n\t\t\tconst file = await solidApi.fetch(url, this.state.login)\n\t\t\tconst data = solidApi.mergeSubjects(file.data, url, file.prefixes)\n\t\t\tif (!this.state.worksheetIndex) {\n\t\t\t\tthis.state.worksheetIndex = 0\n\t\t\t}\n\t\t\tconst wsi = this.state.worksheetIndex\n\t\t\tif (!this.state.worksheets[wsi]) {\n\t\t\t\tthis.state.worksheets[wsi] = {\n\t\t\t\t\tname: 'new worksheet',\n\t\t\t\t\tfiles: []\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst worksheet = this.state.worksheets[wsi]\n\t\t\tworksheet.files.push({\n\t\t\t\tname: url.href.split('/').pop(),\n\t\t\t\turl,\n\t\t\t\tdata,\n\t\t\t\tprefixes: file.prefixes\n\t\t\t})\n\t\t\tthis.state.file = worksheet.files.lenght - 1\n\t\t\treturn file\n\t\t}\n\t},\n\ttransformers,\n\tstate: {\n\t\t...appui.state,\n\t\ttest: \"1\",\n\t\ttest2: \"foo\",\n\t\tworksheets: [\n\t\t\t{\n\t\t\t\ttitle: 'A worksheet',\n\t\t\t\tfiles: []\n\t\t\t}\n\t\t]\n\t}\n})\n\nconsole.log('worksheets',zett.state.worksheets)\n\nzett.dialogs = {\n\taddFile: document.getElementById('zettAddFileDialog'),\n\tsetIssuer: document.getElementById('zettSetIssuerDialog')\n}\nzett.menu = document.getElementById('zett-menu')\n\nfunction getOffset(el) {\n\tconst rect = el.getBoundingClientRect()\n\treturn {\n\t\tleft: rect.left + window.scrollX,\n\t\ttop: rect.top + window.scrollY\n\t}\n}\n\nwindow.zett = zett"],
  "mappings": "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",
  "names": ["ReflectApply", "ReflectOwnKeys", "NumberIsNaN", "EventEmitter", "listeners", "once", "keys", "reject", "t", "e", "r", "n", "i", "o", "l", "v", "A", "P", "B", "H", "V", "X", "Q", "Z", "s", "a", "u", "c", "h", "f", "g", "d", "p", "y", "m", "_", "S", "b", "w", "F", "k", "C", "T", "R", "I", "D", "L", "N", "U", "O", "j", "M", "K", "q", "ot", "at", "ct", "vt", "_t", "Ft", "Pt", "Ct", "Tt", "Dt", "Lt", "Ut", "Bt", "Ot", "jt", "Mt", "Wt", "zt", "Gt", "$t", "ae", "ue", "le", "ge", "ve", "_e", "Fe", "Ee", "xe", "Ae", "Pe", "De", "Ue", "Be", "He", "qe", "We", "Ge", "$e", "Ze", "tr", "rr", "nr", "ir", "sr", "jr", "Zr", "xr", "Kr", "Gr", "Mr", "Vr", "Jr", "Wr", "zr", "Yr", "Xr", "tn", "en", "message", "message", "types", "jwk", "generateKeyPair", "isLoggedIn", "message", "message", "generateKeyPair", "_a", "import_oidc_client", "isValidUrl", "ClientAuthentication", "ClientAuthenticationBase", "clear", "clearBase", "isLoggedIn", "EventEmitter", "require_queue_microtask", "__commonJSMin", "exports", "module", "promise", "cb", "err", "require_base64_js", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "code", "i", "len", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "tmp", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "end", "output", "extraBytes", "parts", "maxChunkLength", "len2", "require_ieee754", "buffer", "offset", "isLE", "mLen", "nBytes", "e", "m", "eLen", "eMax", "eBias", "nBits", "d", "s", "value", "c", "rt", "require_buffer", "base64", "ieee754", "customInspectSymbol", "Buffer", "SlowBuffer", "K_MAX_LENGTH", "typedArraySupport", "proto", "createBuffer", "length", "buf", "arg", "encodingOrOffset", "allocUnsafe", "from", "fromString", "fromArrayView", "isInstance", "fromArrayBuffer", "valueOf", "b", "fromObject", "assertSize", "size", "alloc", "fill", "encoding", "checked", "string", "actual", "fromArrayLike", "array", "arrayView", "copy", "byteOffset", "obj", "numberIsNaN", "a", "x", "y", "list", "pos", "mustMatch", "loweredCase", "utf8ToBytes", "base64ToBytes", "slowToString", "hexSlice", "utf8Slice", "asciiSlice", "latin1Slice", "base64Slice", "utf16leSlice", "swap", "n", "str", "max", "target", "thisStart", "thisEnd", "thisCopy", "targetCopy", "bidirectionalIndexOf", "val", "dir", "arrayIndexOf", "indexSize", "arrLength", "valLength", "read", "foundIndex", "found", "j", "hexWrite", "remaining", "strLen", "parsed", "utf8Write", "blitBuffer", "asciiWrite", "asciiToBytes", "base64Write", "ucs2Write", "utf16leToBytes", "res", "firstByte", "codePoint", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "decodeCodePointsArray", "MAX_ARGUMENTS_LENGTH", "codePoints", "ret", "out", "hexSliceLookupTable", "bytes", "newBuf", "checkOffset", "ext", "noAssert", "mul", "defineBigIntMethod", "validateNumber", "first", "last", "boundsError", "lo", "hi", "checkInt", "min", "maxBytes", "wrtBigUInt64LE", "checkIntBI", "wrtBigUInt64BE", "limit", "sub", "checkIEEE754", "writeFloat", "littleEndian", "writeDouble", "targetStart", "errors", "E", "sym", "getMessage", "Base", "name", "range", "input", "msg", "received", "addNumericalSeparator", "checkBounds", "type", "INVALID_BASE64_RE", "base64clean", "units", "leadSurrogate", "byteArray", "src", "dst", "alphabet", "table", "i16", "fn", "BufferBigIntNotDefined", "require_primordials", "self", "el", "sep", "thisArgs", "args", "instance", "props", "prop", "thenFn", "catchFn", "require_browser", "AbortController", "AbortSignal", "require_events", "R", "ReflectApply", "receiver", "ReflectOwnKeys", "ProcessEmitWarning", "warning", "NumberIsNaN", "EventEmitter", "once", "defaultMaxListeners", "checkListener", "listener", "_getMaxListeners", "that", "doError", "events", "er", "handler", "listeners", "arrayClone", "_addListener", "prepend", "existing", "w", "onceWrapper", "_onceWrap", "state", "wrapped", "position", "originalListener", "spliceOne", "keys", "key", "_listeners", "unwrap", "evlistener", "unwrapListeners", "emitter", "listenerCount", "index", "resolve", "reject", "errorListener", "resolver", "eventTargetAgnosticAddListener", "addErrorHandlerIfEventEmitter", "flags", "wrapListener", "require_util", "bufferModule", "kResistStopPropagation", "SymbolDispose", "AsyncFunction", "Blob", "isBlob", "validateAbortSignal", "signal", "validateFunction", "AggregateError", "message", "callback", "called", "rej", "format", "_unused", "replacement", "removeEventListener", "_removeEventListener", "signals", "ac", "abort", "require_errors", "inspect", "CustomAggregateError", "kIsNodeError", "kTypes", "classRegExp", "nodeInternalPrefix", "codes", "assert", "expectedLength", "NodeError", "hideStackFrames", "hidden", "aggregateTwoErrors", "innerError", "outerError", "AbortError", "options", "expected", "types", "instances", "other", "_actual$constructor", "inspected", "reason", "_value$constructor", "require_validators", "ArrayIsArray", "ArrayPrototypeIncludes", "ArrayPrototypeJoin", "ArrayPrototypeMap", "NumberIsInteger", "NumberMAX_SAFE_INTEGER", "NumberMIN_SAFE_INTEGER", "NumberParseInt", "ObjectPrototypeHasOwnProperty", "RegExpPrototypeExec", "String", "StringPrototypeToUpperCase", "StringPrototypeTrim", "ERR_SOCKET_BAD_PORT", "ERR_INVALID_ARG_TYPE", "ERR_INVALID_ARG_VALUE", "ERR_OUT_OF_RANGE", "ERR_UNKNOWN_SIGNAL", "normalizeEncoding", "isAsyncFunction", "isArrayBufferView", "isInt32", "isUint32", "octalReg", "modeDesc", "parseFileMode", "def", "validateUint32", "validateInteger", "validateInt32", "positive", "validateString", "validateOneOf", "oneOf", "v", "validateBoolean", "getOwnPropertyValueOrDefault", "defaultValue", "validateObject", "allowArray", "allowFunction", "validateDictionary", "validateArray", "minLength", "validateStringArray", "validateBooleanArray", "validateAbortSignalArray", "indexedName", "validateSignalName", "validateBuffer", "validateEncoding", "data", "normalizedEncoding", "validatePort", "port", "allowZero", "validatePlainFunction", "validateUndefined", "validateUnion", "union", "linkValueRegExp", "validateLinkHeaderFormat", "validateLinkHeaderValue", "hints", "hintsLength", "result", "link", "process", "cachedSetTimeout", "cachedClearTimeout", "defaultSetTimout", "defaultClearTimeout", "runTimeout", "fun", "runClearTimeout", "marker", "queue", "draining", "currentQueue", "queueIndex", "cleanUpNextTick", "drainQueue", "timeout", "Item", "noop", "require_utils", "SymbolAsyncIterator", "SymbolIterator", "SymbolFor", "kIsDestroyed", "kIsErrored", "kIsReadable", "kIsWritable", "kIsDisturbed", "kIsClosedPromise", "kControllerErrorFunction", "isReadableNodeStream", "strict", "_obj$_readableState", "isWritableNodeStream", "_obj$_writableState", "isDuplexNodeStream", "isNodeStream", "isReadableStream", "isWritableStream", "isTransformStream", "isWebStream", "isIterable", "isAsync", "isDestroyed", "stream", "wState", "rState", "isWritableEnded", "isWritableFinished", "isReadableEnded", "isReadableFinished", "isReadable", "isWritable", "isFinished", "opts", "isWritableErrored", "_stream$_writableStat", "_stream$_writableStat2", "isReadableErrored", "_stream$_readableStat", "_stream$_readableStat2", "isClosed", "isOutgoingMessage", "isServerResponse", "isServerRequest", "_stream$req", "willEmitClose", "isDisturbed", "_stream$kIsDisturbed", "isErrored", "_ref", "_ref2", "_ref3", "_ref4", "_ref5", "_stream$kIsErrored", "_stream$_readableStat3", "_stream$_writableStat3", "_stream$_readableStat4", "_stream$_writableStat4", "require_end_of_stream", "ERR_STREAM_PREMATURE_CLOSE", "kEmptyObject", "Promise", "PromisePrototypeThen", "_willEmitClose", "addAbortListener", "isRequest", "nop", "eos", "_options$readable", "_options$writable", "eosWeb", "readable", "writable", "onlegacyfinish", "onfinish", "writableFinished", "readableFinished", "onend", "onerror", "closed", "onclose", "errored", "onclosed", "onrequest", "cleanup", "endCallback", "disposable", "originalCallback", "isAborted", "resolverFn", "finished", "_opts", "autoCleanup", "require_destroy", "ERR_MULTIPLE_CALLBACK", "Symbol", "kDestroy", "kConstruct", "checkError", "destroy", "_destroy", "onDestroy", "r", "emitErrorCloseNT", "emitCloseNT", "emitErrorNT", "undestroy", "errorOrDestroy", "sync", "construct", "constructNT", "onConstruct", "emitConstructNT", "emitCloseLegacy", "emitErrorCloseLegacy", "destroyer", "require_legacy", "ObjectSetPrototypeOf", "EE", "Stream", "dest", "source", "ondata", "chunk", "ondrain", "didOnEnd", "prependListener", "event", "require_add_abort_signal", "onAbort", "require_buffer_list", "StringPrototypeSlice", "TypedArrayPrototypeSet", "Uint8Array", "entry", "p", "hasStrings", "slice", "retLen", "_", "require_state", "MathFloor", "defaultHighWaterMarkBytes", "defaultHighWaterMarkObjectMode", "highWaterMarkFrom", "isDuplex", "duplexKey", "getDefaultHighWaterMark", "objectMode", "setDefaultHighWaterMark", "getHighWaterMark", "hwm", "require_safe_buffer", "copyProps", "SafeBuffer", "require_string_decoder", "isEncoding", "_normalizeEncoding", "enc", "retried", "nenc", "StringDecoder", "nb", "utf16Text", "utf16End", "utf8FillLast", "base64Text", "base64End", "simpleWrite", "simpleEnd", "utf8End", "utf8Text", "utf8CheckByte", "byte", "utf8CheckIncomplete", "utf8CheckExtraBytes", "total", "require_from", "ERR_STREAM_NULL_VALUES", "Readable", "iterable", "iterator", "reading", "next", "error", "close", "hadError", "hasThrow", "done", "require_readable", "ArrayPrototypeIndexOf", "ObjectDefineProperties", "ObjectKeys", "SafeSet", "SymbolAsyncDispose", "ReadableState", "addAbortSignal", "debug", "BufferList", "destroyImpl", "ERR_METHOD_NOT_IMPLEMENTED", "ERR_STREAM_PUSH_AFTER_EOF", "ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "kPaused", "kObjectMode", "kEnded", "kEndEmitted", "kReading", "kConstructed", "kSync", "kNeedReadable", "kEmittedReadable", "kReadableListening", "kResumeScheduled", "kErrorEmitted", "kEmitClose", "kAutoDestroy", "kDestroyed", "kClosed", "kCloseEmitted", "kMultiAwaitDrain", "kReadingMore", "kDataEmitted", "makeBitMapDescriptor", "bit", "maybeReadMore", "readableAddChunk", "addToFront", "onEofChunk", "addChunk", "emitReadable", "decoder", "content", "MAX_HWM", "computeNewHighWaterMark", "howMuchToRead", "nOrig", "endReadable", "doRead", "fromList", "emitReadable_", "flow", "maybeReadMore_", "pipeOpts", "endFn", "unpipe", "onunpipe", "unpipeInfo", "cleanedUp", "pause", "pipeOnDrain", "dests", "ev", "nReadingNextTick", "updateReadableListening", "resume", "resume_", "paused", "streamKeys", "streamToAsyncIterator", "iter", "createAsyncIterator", "endReadableNT", "endWritableNT", "webStreamsAdapters", "lazyWebStreams", "readableStream", "streamReadable", "_src$readableObjectMo", "require_writable", "ArrayPrototypeSlice", "Error", "FunctionPrototypeSymbolHasInstance", "ObjectDefineProperty", "StringPrototypeToLowerCase", "SymbolHasInstance", "Writable", "WritableState", "ERR_STREAM_CANNOT_PIPE", "ERR_STREAM_DESTROYED", "ERR_STREAM_ALREADY_FINISHED", "ERR_STREAM_WRITE_AFTER_END", "ERR_UNKNOWN_ENCODING", "kOnFinished", "noDecode", "onwrite", "resetBuffer", "clearBuffer", "finishMaybe", "object", "_write", "writeOrBuffer", "doWrite", "writev", "onwriteError", "errorBuffer", "afterWriteTick", "afterWrite", "count", "_state$errored", "onfinishCallbacks", "_state$errored2", "buffered", "bufferedIndex", "bufferedLength", "chunks", "needFinish", "callFinal", "onFinish", "finish", "prefinish", "writableStream", "streamWritable", "require_duplexify", "ERR_INVALID_RETURN_VALUE", "Duplex", "createDeferredPromise", "FunctionPrototypeCall", "Duplexify", "duplexify", "body", "_duplexify", "write", "final", "fromAsyncGen", "then", "_promise", "_resolve", "pair", "onreadable", "onfinished", "require_duplex", "ObjectGetOwnPropertyDescriptor", "method", "duplex", "require_transform", "Transform", "kCallback", "readableHighWaterMark", "require_passthrough", "PassThrough", "require_pipeline", "ERR_MISSING_ARGS", "writing", "popCallback", "streams", "makeAsyncIterable", "fromReadable", "pumpToNode", "onresolve", "wait", "pumpToWeb", "writer", "pipeline", "pipelineImpl", "outerSignal", "lastStreamCleanup", "finishImpl", "destroys", "finishCount", "_disposable", "isLastStream", "onError", "_ret", "_ret2", "pt", "toRead", "pipe", "ended", "require_compose", "orgStreams", "idx", "head", "tail", "reader", "require_operators", "kWeakHandler", "staticCompose", "addAbortSignalNoValidate", "deprecate", "ArrayPrototypePush", "Boolean", "Number", "PromiseReject", "PromiseResolve", "kEmpty", "kEof", "compose", "composedStream", "map", "concurrency", "highWaterMark", "signalOpt", "cnt", "onCatch", "afterItemProcessed", "maybeResume", "pump", "asIndexedPairs", "_options$signal", "some", "unused", "filter", "every", "find", "forEach", "forEachFn", "filterFn", "ReduceAwareErrMissingArgs", "reduce", "reducer", "initialValue", "_options$signal2", "hasInitialValue", "gotAnyItemFromStream", "_options$signal3", "toArray", "_options$signal4", "flatMap", "values", "toIntegerOrInfinity", "number", "drop", "_options$signal5", "_options$signal6", "take", "_options$signal7", "_options$signal8", "require_promises", "ArrayPrototypePop", "pl", "lastArg", "require_stream", "customPromisify", "streamReturningOperators", "promiseReturningOperators", "ERR_ILLEGAL_CONSTRUCTOR", "promises", "utils", "op", "CustomStream", "originalDestroy", "jsonStringify", "stringify", "replacer", "space", "references", "indent", "gap", "encodeProperties", "mind", "gapstart", "gapend", "encodeEntries", "holder", "id", "getAttribute", "createId", "getTypeString", "getType", "entries", "setAttribute", "isNull", "typeInfo", "info", "setType", "attr", "setAttributes", "attributes", "addAttribute", "removeAttribute", "getAttributes", "getAttributesString", "attrValue", "attributesString", "shallowClone", "o", "clone", "typeString", "Link", "_Link", "#url", "url", "ExtendableProxy", "newValue", "Null", "parse", "reviver", "meta", "at", "ch", "escapee", "context", "tagName", "numString", "isInt", "isFloat", "isTypeError", "regexes", "float", "test", "int", "isColor", "color", "isEmail", "email", "isUuid", "uuid", "isDecimal", "decimal", "isMoney", "money", "isUrl", "isDuration", "duration", "isPhone", "phone", "isRange", "isTime", "time", "isDate", "date", "isDatetime", "datetime", "checkStringType", "hex", "uffff", "tag", "tagOb", "word", "whitespace", "boolOrNull", "checkUnresolved", "item", "links", "walk", "replaceLink", "u", "ref", "JSONTag", "_JSONTag", "RDF", "XSD", "SWAP", "IRIs_default", "import_queue_microtask", "xsd", "escapeSequence", "escapeReplacements", "illegalIriChars", "lineModeRegExps", "invalidRegExp", "N3Lexer", "inputFinished", "currentLineLength", "whiteSpaceMatch", "comment", "emitToken", "line", "firstChar", "prefix", "match", "matchLength", "inconclusive", "reportSyntaxError", "token", "invalid", "replaced", "sequence", "unicode4", "unicode8", "escapedChar", "charCode", "opening", "openingLength", "closingPos", "backslashCount", "raw", "lines", "issue", "queueMicrotask", "tokens", "t", "N3Util_exports", "__export", "inDefaultGraph", "isBlankNode", "isDefaultGraph", "isLiteral", "isNamedNode", "isVariable", "prefixes", "term", "quad", "iri", "factory", "defaultPrefixes", "processPrefix", "N3DataFactory_default", "cache", "local", "rdf", "DEFAULTGRAPH", "_blankNodeCounter", "DataFactory", "namedNode", "blankNode", "variable", "literal", "defaultGraph", "Term", "_Term", "NamedNode", "Literal", "_Literal", "atPos", "dtPos", "char", "BlankNode", "Variable", "DefaultGraph", "termFromId", "nested", "endPos", "termToId", "Quad", "subject", "predicate", "graph", "languageOrDataType", "datatype", "blankNodePrefix", "N3Parser", "initDataFactory", "isTurtle", "isTriG", "isNTriples", "isNQuads", "isN3", "isLineMode", "baseIRI", "fragmentPos", "n3Mode", "quantifier", "empty", "previousList", "stack", "parent", "listItem", "completed", "inversePredicate", "prefixNode", "entity", "afterPath", "contextStack", "pathStart", "segmentStart", "quadCallback", "prefixCallback", "quads", "parser", "escape", "escapeAll", "escapedCharacters", "SerializedTerm", "N3Writer", "outputStream", "escapeRegex", "characterReplacer", "prefixMatch", "hasPrefixes", "IRIlist", "prefixList", "prefixIRI", "children", "child", "contents", "elements", "singleDone", "character", "regex", "import_readable_stream", "N3Store", "entities", "terms", "g", "graphs", "subjects", "graphKey", "subjectKey", "predicateKey", "index0", "key0", "key1", "key2", "index1", "index2", "existed", "name0", "name1", "name2", "graphId", "entityKeys", "value0", "value1", "l", "isString", "uniqueIds", "graphItem", "changed", "subjectOrQuad", "predicates", "subjectId", "predicateId", "objectId", "DatasetCoreAndReadableStream", "results", "suggestedName", "remove", "ignoreErrors", "lists", "node", "tails", "toRemove", "tailQuad", "items", "malformed", "headPos", "current", "objectQuads", "subjectQuads", "rest", "_DatasetCoreAndReadableStream", "n3Store", "newStore", "N3StreamParser", "onData", "onEnd", "uri", "N3StreamWriter", "src_default", "xsdTypes", "rdfType", "Parser", "ts", "text", "baseURI", "short", "Graph", "prefixAttr", "subjectID", "shortID", "parentID", "Subject", "tempID", "shortType", "#setTypeString", "linkID", "unresolved", "unresolvedEntries", "#graphs", "shortPred", "#getValue", "classNames", "n3", "response", "activate", "routes", "v", "self", "listeners", "computeEffect", "result", "transformers", "t", "next", "transformer", "context", "bindings", "clone", "bind", "observer", "clone", "handleChanges", "sort", "paging"]
}
